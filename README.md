# 경산다육식물농장 관리시스템 🌱

White Platter 전문 농장을 위한 종합 주문 관리 시스템

## 🚀 빠른 시작

### 1️⃣ 로컬 서버 시작
```bash
# Windows
start-server.bat

# Mac/Linux  
./start-server.sh
```

### 2️⃣ 브라우저에서 접속
**메인 시스템**: http://localhost:8000/index.html  
**데스크톱 버전**: http://localhost:8000/index-desktop.html

> ⚠️ **중요**: file:// 프로토콜 대신 **localhost:8000**을 사용하세요!  
> CORS 문제와 PWA 기능을 위해 HTTP 서버가 필요합니다.

자세한 내용은 [LOCAL_SERVER_GUIDE.md](LOCAL_SERVER_GUIDE.md)를 참조하세요.

## 🚀 최신 업데이트 (2025-09-01)

### 🔥 주문 상태 변경 버그 완전 해결! **CRITICAL BUGFIX!**
- **중복 함수 제거**: `updateOrderStatusInline` 함수 중복 정의 문제 완전 해결 ✅
- **통합 상태 변경 로직**: 단일 강력한 함수로 모든 상태 변경 처리 통합 🔗
- **다중 저장 안전망**: API, LocalStorage, 메모리 모든 경로에서 데이터 동기화 보장 🛡️
- **강력한 에러 처리**: API 실패 시에도 LocalStorage로 자동 백업 저장 🔧
- **즉시 UI 반영**: 상태 변경 후 즉시 테이블과 통계 새로고침으로 실시간 반영 ⚡
- **상세한 디버깅**: 모든 상태 변경 과정을 콘솔에서 추적 가능한 로깅 시스템 🔍
- **테스트 도구 제공**: `testStatusChange()`, `checkOrderData()` 등 실시간 디버깅 함수 🧪
- **데이터 무결성**: undefined/NaN 데이터 자동 필터링으로 손상된 데이터 방지 🗑️
- **토스트 알림 개선**: 상태 변경 성공/실패를 명확한 이모지와 메시지로 안내 💬

### 🎯 주문 상태 데이터 소스 완전 통일! **SYSTEM UNIFICATION!**
- **Single Source of Truth**: 표준 주문 상태 목록을 코드 내 한 곳에서 정의 및 관리 ✅
- **7단계 표준 상태**: 주문접수 → 입금확인 → 배송준비 → 배송시작 → 배송완료 → 주문취소 → 환불처리 📋
- **전체 시스템 통일**: 새 주문 등록, 주문 수정, 일괄 상태 변경, 개별 상태 변경 모두 표준 목록 사용 🔗
- **동적 드롭다운 생성**: 하드코딩된 옵션을 표준 함수로 대체하여 일관성 보장 ⚡
- **색상 및 스타일 통일**: 모든 상태가 동일한 색상 체계 및 디자인으로 표시 🎨
- **UI 버그 수정**: 개별 상태 변경 드롭다운의 위치 및 z-index 문제 해결 🛠️
- **헬퍼 함수 제공**: generateOrderStatusOptions(), getOrderStatusInfo() 등 재사용 가능한 함수들 🔧
- **데이터 무결성**: 모든 주문 상태 관련 기능이 동일한 데이터 소스를 참조하여 혼란 완전 제거 🛡️

### 🛠️ 라벨 인쇄 체크박스 데이터 속성 버그 완전 해결! **CRITICAL FIX!**
- **근본 원인 해결**: 체크박스에 누락된 data-product-id 속성 추가로 "Cannot read properties of null" 오류 완전 해결 ✅
- **DOM 속성 통일**: 상품 테이블의 체크박스와 수량 입력칸 모두 data-product-id 속성으로 통일 🔗
- **클래스명 통합**: 라벨 수량 입력칸에 quantity-input 클래스 추가로 DOM 선택자 일관성 확보 ⚡
- **이벤트 핸들러 통일**: 모든 체크박스, +/- 버튼, 수량 입력이 updateBulkPrintCount() 함수 호출 🔧
- **기본값 개선**: 라벨 수량 기본값을 0에서 1로 변경하여 사용자 편의성 향상 📊
- **안전한 수량 조절**: 최소값(1) 및 최대값(72) 검증으로 올바른 수량 범위 보장 🛡️
- **디버깅 도구 제공**: checkLabelElements(), testUpdateBulkPrint() 등 실시간 테스트 함수 🔍
- **완전한 오류 해결**: 체크박스 클릭, 수량 조절, 라벨 인쇄 버튼 클릭 모든 단계에서 오류 없는 작동 💫

### 🛠️ 라벨 인쇄 시스템 완전 통합 및 오류 해결! **CRITICAL FIX!**
- **DOM 선택자 안정화**: updateBulkPrintCount 함수의 null reference 오류 완전 해결 ✅
- **시스템 통합**: 상품 목록의 라벨 인쇄와 기존 QR 시스템 완전 통합 🔗
- **통합 인터페이스**: handleLabelPrintingFromProductList 함수로 두 시스템 연결 ⚡
- **방어적 프로그래밍**: 모든 DOM 요소 접근에 null 체크 및 기본값 처리 로직 추가 🛡️
- **누락 함수 구현**: increaseQuantity, decreaseQuantity 함수 추가로 +/- 버튼 정상 작동 🔧
- **데이터 동기화**: 상품 선택 정보를 기존 라벨 시스템과 자동 동기화 🔄
- **상세한 디버깅**: 오류 발생 시 정확한 원인을 파악할 수 있는 상세 로그 추가 🔍
- **사용자 경험 개선**: 일관된 라벨 인쇄 워크플로우로 혼란 완전 제거 💫

### 🚀 성능 최적화 완전 달성 - 백그라운드 API 호출 제거! **PERFORMANCE BREAKTHROUGH!**
- **핵심 문제 해결**: 전역으로 실행되던 30초 간격 대시보드 API 호출을 조건부로 완전 전환 ✅
- **스마트 실시간 업데이트**: 대시보드 페이지에서만 실시간 데이터 갱신이 활성화되는 시스템 🎯
- **자동 중단 시스템**: 다른 페이지로 이동 시 실시간 업데이트가 자동으로 중지되는 스마트 로직 🔒
- **페이지별 데이터 로딩**: 각 탭 접근 시에만 해당 페이지 필요 데이터를 조건부 로드 🔄
- **불필요한 호출 완전 차단**: 상품관리, 고객관리 등에서 대시보드 데이터 호출 완전 방지 🚫
- **배터리 절약 효과**: 백그라운드 타이머 최소화로 모바일 배터리 사용량 획기적 감소 🔋
- **네트워크 트래픽 최적화**: 필요 없는 API 요청 제거로 데이터 사용량 절약 📡
- **반응 속도 개선**: CPU 및 메모리 리소스 절약으로 전체 시스템 반응성 향상 ⚡
- **실시간 모니터링**: 콘솔에서 실시간 업데이트 시작/중지 상태를 명확히 표시 🔍

### ⚙️ 환경설정 메뉴 신설 및 마스터 데이터 관리 체계화!
- **환경설정 메뉴 신설**: 메인 메뉴에 톱니바퀴(⚙️) 아이콘으로 환경설정 메뉴 추가 ✅
- **드롭다운 네비게이션**: 클릭 시 하위 메뉴가 펼쳐지는 직관적인 UX 구현 🔽
- **판매 채널 관리 이동**: 기존 메인 메뉴에서 환경설정 하위 메뉴로 재배치 📋
- **주문 상태 관리 신설**: 주문 처리 과정의 상태를 자유롭게 설정할 수 있는 마스터 관리 🔧
- **모바일 바텀 시트**: 모바일에서는 바텀 시트 형태로 환경설정 메뉴 제공 📱
- **확장성 확보**: 향후 추가될 설정 기능들을 체계적으로 관리할 수 있는 구조 🚀
- **완전한 CRUD**: 주문 상태 추가/수정/삭제/정렬 및 통계 기능 완비 💪

### 🔗 판매 채널 관리 시스템과 주문 시스템 완전 연동! **NEW!**
- **하드코딩 제거**: '새 주문 등록' 및 '주문 수정' 창의 중복된 주문 출처 드롭다운 완전 삭제 ✅
- **동적 데이터 로딩**: 판매 채널 관리에서 등록된 채널 목록을 실시간으로 주문 폼에 반영 🔄
- **실시간 동기화**: 채널 추가/수정/삭제 시 주문 폼 드롭다운 즉시 업데이트 ⚡
- **데이터 일관성**: 마스터 데이터 기반으로 시스템 전체 데이터 무결성 보장 🛡️
- **한국어 정렬**: 채널명 기준 한국어 자모 순서 정확한 정렬 적용 🔤
- **사용자 경험 개선**: "판매 채널을 먼저 등록해주세요" 안내로 명확한 워크플로우 제공 📋
- **API 연동**: loadOrderSources() 함수 제거하고 loadChannels() + populateOrderSourceDropdown() 통합 🔧

### 🛠️ 대시보드 고객 관련 위젯 데이터 미갱신 버그 완전 해결! **CRITICAL FIX!**
- **연락할 대기자 위젯 수정**: 잘못된 상태 필터(입고완료 → 대기중) 수정으로 정확한 대기자 수 표시 ✅
- **이번 달 신규 고객 위젯 개선**: created_at + registration_date 필드 모두 처리로 누락 고객 방지 🔧
- **날짜 유효성 검사 강화**: 잘못된 날짜 형식으로 인한 오류 방지 및 안정성 향상 🛡️
- **디버깅 로그 추가**: 각 위젯별 상세 카운트 정보 출력으로 문제 추적 용이 📝
- **샘플 데이터 보강**: 테스트용 대기자 데이터 및 현재 월 신규 고객 데이터 추가 💾
- **테스트 함수 제공**: `testDashboardRefresh()`, `resetTestData()` 명령어로 개발자 도구에서 즉시 테스트 🧪

### 🚨 상품 수정 시 삭제 버그 완전 해결! **CRITICAL FIX!**
- **데이터 손실 버그 수정**: 상품 수정 후 저장 시 삭제되는 치명적 버그 완전 해결 ✅
- **API 데이터 무결성**: PUT 요청 시 id, created_at 등 시스템 필드 누락 문제 수정 🔧
- **데이터 병합 로직**: 기존 데이터 + 새 데이터 안전한 병합으로 데이터 보존 보장 🛡️
- **백업 & 복구 시스템**: 수정 전 자동 백업 생성 및 오류 시 자동 복구 기능 💾
- **이중 안전망**: API 성공/실패 관계없이 로컬 데이터 동기화로 데이터 손실 방지 📝
- **디버깅 강화**: 상품 수정 과정의 모든 단계에서 상세 로그 제공 🔍

### 🛡️ 상품 등록 시스템 안정성 완전 개선!
- **DOM 안전성 강화**: 존재하지 않는 DOM 요소 접근으로 인한 오류 완전 차단 ✅
- **변수 스코프 문제 해결**: newProduct 참조 오류 수정으로 안정적인 상품 등록 🔧
- **안전한 폼 초기화**: clearInlineProductForm, resetInlineProductForm 함수 방어 로직 추가 🛡️
- **Optional Chaining 적용**: ?. 연산자 사용으로 undefined 접근 방지 💾
- **에러 핸들링 강화**: DOM 요소 누락 시 사용자 친화적 오류 메시지 제공 📝

### 🔄 상품 목록 정렬 시스템 완전 구현!
- **3가지 정렬 옵션**: 최근 등록순(기본값) / 상품명 오름차순(ㄱ→ㅎ) / 상품명 내림차순(ㅎ→ㄱ) ✅
- **한국어 정렬 지원**: localeCompare('ko-KR') 사용으로 한글 자모 순서 정확한 정렬 🔤
- **즉시 적용**: 드롭다운 선택 시 목록이 실시간으로 재정렬 ⚡
- **설정 영구 저장**: 선택한 정렬 기준을 LocalStorage에 자동 저장 💾
- **통합 초기화**: 검색 초기화 버튼으로 정렬도 함께 기본값으로 리셋 🔄
- **페이지네이션 연동**: 정렬 변경 시 첫 페이지로 자동 이동하여 혼란 방지 📄
- **테스트 함수 제공**: `testProductSort('name_asc')` 명령어로 콘솔에서 테스트 가능 🧪

### 📊 경영 대시보드 3개 신규 위젯 완전 구현! **NEW!**
- **주간 베스트셀러 TOP 5**: 최근 7일 판매량 기준 상품 순위 (상품명, 판매량, 매출액) 🏆
- **VIP 고객 순위 TOP 10**: 누적 구매금액 기준 고객 순위 (등급, 총구매액, 주문횟수) 👑
- **신규/재구매 고객 분석**: 최근 30일 고객 유형 분석 (원그래프 + 수치) 📈
- **실시간 데이터 연동**: 모든 위젯이 주문 데이터 변경 시 자동 업데이트 ⚡
- **시각적 차트**: Chart.js 기반 인터랙티브 도넛 차트로 직관적 표현 🎨
- **스마트 등급 시스템**: 구매금액별 BRONZE/SILVER/GOLD/VIP 자동 분류 💎
- **반응형 디자인**: 모든 화면 크기에서 완벽한 레이아웃 📱

### 🔄 고객 목록 정렬 시스템 완전 구현! **NEW!**
- **3가지 정렬 옵션**: 최근 등록순(기본값) / 고객명 오름차순(ㄱ→ㅎ) / 고객명 내림차순(ㅎ→ㄱ) ✅
- **한국어 정렬 지원**: localeCompare('ko-KR') 사용으로 한글 자모 순서 정확한 정렬 🔤
- **즉시 적용**: 드롭다운 선택 시 고객 목록이 실시간으로 재정렬 ⚡
- **설정 영구 저장**: 선택한 정렬 기준을 LocalStorage에 자동 저장 💾
- **통합 초기화**: 검색 초기화 버튼으로 정렬도 함께 기본값으로 리셋 🔄
- **검색창 옆 배치**: 검색과 정렬을 한 곳에서 편리하게 사용 📍
- **테스트 함수 제공**: `testCustomerSort('name_asc')` 명령어로 콘솔에서 테스트 가능 🧪

### 📄 상품 관리 페이지네이션 시스템 완전 구현!
- **페이지당 표시 개수 선택**: 20개/50개/전체 드롭다운으로 자유로운 목록 크기 조절 ✅
- **테이블 행 간격 축소**: px-4 py-3 → px-3 py-2로 변경하여 한 화면에 더 많은 상품 표시 📏
- **페이지 네비게이션**: 이전/다음 버튼과 페이지 번호로 직관적인 탐색 🔍
- **사용자 설정 저장**: 선택한 페이지당 표시 개수를 LocalStorage에 영구 저장 💾
- **실시간 정보 표시**: "1-20 / 총 150개" 형태로 현재 표시 범위 명확히 안내 📊
- **스마트 페이지 관리**: 상품 추가/삭제 시 페이지 범위 자동 조정 🎯

### 🛠️ 상품 등록 오류 처리 시스템 개선!
- **API 오류 처리 완전 개선**: 상품 등록 시 오류 메시지와 실제 저장 상태 불일치 문제 해결 ✅
- **스마트 폴백 시스템**: API 실패 시 로컬 저장으로 자동 전환, 성공 메시지 정확히 표시 🔄
- **토스트 알림 시스템 강화**: success/error/warning/info 타입별 색상 구분 토스트 알림 🎨
- **이중 안전망 구조**: API/로컬 저장 모두 실패해야만 오류 표시하는 견고한 시스템 🛡️
- **정확한 상태 피드백**: 사용자에게 실제 저장 결과를 정확히 알려주는 개선된 메시지 체계 📝

### 🏷️ 카테고리 데이터 통일성 개선!
- **전체 시스템 카테고리 통일**: 상품 등록, 수정, 필터링에서 동일한 카테고리 목록 사용 ✅
- **중복 함수 제거**: `updateCategorySelects` 함수 중복 제거 및 통합 함수로 대체 🔧
- **카테고리 헬퍼 함수**: ID/이름 간 변환 및 통일된 방식으로 데이터 업데이트 📊
- **상품 표시 일관성**: 모든 상품 목록에서 동일한 카테고리 이름 표시 🏷️
- **데이터 무결성 보장**: 카테고리 변경 시 전체 시스템 자동 업데이트 🛡️

### 📱 QR 코드 마스터 기능 완전 단일화! **NEW!**
- **유일한 QR 생성 위치**: 상품 등록/수정 화면의 파란색 'QR코드 생성' 섹션만 사용 ✅
- **모든 중복 기능 제거**: 인라인/모달 등록의 체크박스, 버튼 등 완전 삭제 🧹
- **사용자 혼란 완전 제거**: 시스템 어디에서든 QR 생성은 동일한 위치, 동일한 방식 📍
- **일관된 사용자 경험**: 모든 상품의 QR코드가 통일된 마스터 기능에서 생성 🎯
- **시스템 통합성 극대화**: 단일 진입점으로 QR 관련 오류 및 혼선 완전 차단 🛡️
- **표준 QR 데이터 포맷**: 상품명, 판매가, 카테고리, 사이즈, 농장정보, 연락처 통일 📊

### 🏷️ 시스템 전체 필드 명칭 표준화 완료! **NEW!**
- **완전한 통일성 달성**: HTML, JavaScript, 테이블 헤더, 메시지 등 모든 곳에서 동일한 명칭 사용 ✅
- **표준 명칭 체계**: 상품명, 판매가, 매입가, 재고수량, 배송 옵션, 고객명, 연락처 완전 통일 📊
- **QR 코드 텍스트 표준화**: QR 생성/표시에서도 "판매가" 용어로 일관성 보장 🏷️
- **사용자 경험 극대화**: 모든 화면에서 동일한 용어로 혼란 없는 인터페이스 제공 🎆
- **유지보수성 극대화**: 필드 이름 변경 시 한 곳에서만 수정하면 전체 시스템 반영 🔧
- **완벽한 데이터 무결성**: 필드명 불일치로 인한 오류 발생 가능성 완전 제거 🛡️

### 🎯 고객 관리 시스템 편의성 대폭 개선!
- **새로운 '관리' 컬럼 추가**: 고객 테이블 우측에 전용 관리 영역 생성 📊
- **원클릭 편집/삭제**: 연필/휴지통 아이콘으로 즉시 접근 가능 ⚡
- **영구 삭제 안전 장치**: 삭제 시 연결된 주문 내역 개수 표시 및 함께 삭제 경고 🚨
- **향상된 사용자 경험**: Master-Detail 패턴으로 더욱 직관적인 고객 관리
- **데이터 무결성 보장**: 고객 삭제 시 관련 주문도 완전히 정리 🛡️

### 🎯 실시간 운영 현황 대시보드 신설!
- **첫 화면으로 설정**: 접속 즉시 핵심 업무 현황 파악 ⚡
- **5개 핵심 업무 카드**: 클릭하면 해당 페이지로 바로 이동 🎮
  - 🟠 **포장할 주문** (입금확인 완료) → 주문관리 페이지
  - 🟣 **오늘 보낼 택배** (배송준비 완료) → 주문관리 페이지  
  - 🔴 **재고 부족 상품** (긴급 보충 필요) → 상품관리 페이지
  - 🔵 **연락할 대기자** (입고완료 알림) → 대기자관리 페이지
  - 🟢 **이번 달 신규 고객** → 고객관리 페이지
- **실시간 자동 업데이트**: 30초마다 최신 데이터 갱신 🔄
- **빠른 업무 처리**: 자주 사용하는 8개 기능 원클릭 실행 ⚡
- **현재 시간 표시**: 실시간 시계로 업무 현황 파악 ⏰

### 📊 경영 대시보드 매출 핵심 지표 카드!
- **4개 핵심 요약 카드**: 매출 추이 그래프 상단에 배치 📈
  - 🟢 **총 매출액**: 선택한 기간의 전체 매출 (배송완료 기준)
  - 🔵 **총 주문 건수**: 완료된 주문의 총 개수
  - 🟣 **총 판매된 상품 수**: 실제 판매된 상품의 총 개수  
  - 🟠 **객단가**: 총 매출액 ÷ 총 주문 건수로 자동 계산
- **날짜 필터 완전 연동**: 최근 7일/30일/90일 선택 시 카드 데이터 즉시 업데이트 🔄
- **시각적 그라데이션 디자인**: 각 지표별 색상 구분으로 직관적 인식 🎨
- **실시간 계산**: 주문 데이터 변경 시 자동으로 지표 재계산 ⚡

### ⚡ 주문 상태 체계 완전 개편!
- **명확한 상태 분류**: 7가지 단계로 체계적 분류 🎯
  - 주문접수 → 입금확인 → 배송준비 → 배송시작 → 배송완료 → 주문취소/환불처리
- **중복 상태 제거**: "결제완료"→"입금확인", "포장준비"→"배송준비"로 통합 ✨  
- **자동 데이터 마이그레이션**: 기존 주문 데이터 자동 변환 🔄
- **일관된 사용자 경험**: 모든 화면에서 동일한 상태 체계 적용 📋
- **향상된 SMS 메시지**: 새로운 상태에 맞는 고객 알림 메시지 🌟

### 🎯 주문 관리 UI 편의성 대폭 개선!
- **새로운 '관리' 컬럼 추가**: 테이블 우측에 전용 관리 영역 생성 📊
- **원클릭 수정/삭제**: 아코디언을 펼치지 않아도 바로 접근 가능 ⚡
- **컴팩트 아이콘 버튼**: 깔끔한 원형 버튼으로 공간 절약 💫
- **향상된 접근성**: 매번 주문을 펼칠 필요 없이 빠른 관리 가능
- **업무 효율성 증대**: 주문 처리 속도 획기적 개선 🚀

### 이전 업데이트 (2025-08-30)
### 🌟 인라인 상품 관리 시스템 완전 구현!
- **빠른 상품 등록**: 팝업 없이 페이지 내에서 바로 등록 ⚡
- **인라인 아코디언 폼**: 부드러운 expand/collapse 애니메이션
- **2컬럼 압축 레이아웃**: 공간 효율적인 폼 디자인
- **클릭투에딧**: 가격과 재고를 클릭해서 바로 수정 ✏️
- **실시간 저장**: Enter 키 또는 포커스 해제 시 자동 저장
- **시각적 피드백**: 편집 상태 및 저장 완료 표시

### 이전 업데이트 (2025-01-30) 
### 🎯 경영 대시보드 완전 구현! 
- **핵심 현황을 한눈에!** 농장의 모든 데이터를 시각화 📊
- **매출 추이 분석**: 30일간 일별 매출 라인 차트
- **판매채널 분석**: 채널별 매출 비중 도넛 차트  
- **상품 성과 분석**: 카테고리별 매출 순위 바 차트
- **고객 분석**: VIP 고객 순위 + 신규/재구매 고객 메트릭
- **인기 상품**: 베스트 태그 TOP 10 순위표
- **실시간 업데이트**: 데이터 변경 시 차트 자동 갱신
- **반응형 차트**: 모바일/데스크톱 완벽 호환

### 이전 업데이트 (2025-01-29)
- ✅ API 연결 문제 완전 해결
- ✅ 핸드폰에서도 데이터 관리 가능 🎉
- ✅ 실시간 API 상태 모니터링

## 📋 현재 구현된 기능

### 0. 실시간 운영 현황 ⚡ **NEW!**
- ✅ **첫 화면 대시보드**: 시스템 접속 시 가장 먼저 보이는 핵심 현황
- ✅ **5개 핵심 업무 카드**: 클릭하면 해당 관리 페이지로 즉시 이동
  - 포장할 주문 (입금확인) / 오늘 보낼 택배 (배송준비)
  - 재고 부족 상품 / 연락할 대기자 (입고완료) / 이번 달 신규 고객
- ✅ **실시간 데이터 갱신**: 30초마다 자동 업데이트
- ✅ **빠른 업무 처리**: 8개 주요 기능 원클릭 실행
- ✅ **시각적 상태 표시**: 색상별 구분으로 직관적 현황 파악

### 1. 주문 관리 시스템 ⚡ **ENHANCED!**
- ✅ 주문 등록/수정/삭제 (새로운 '관리' 컬럼으로 원클릭 접근)
- ✅ **동적 주문 상태 체계**: 환경설정에서 자유롭게 설정 가능한 주문 상태 시스템 🔧
- ✅ **기본 7단계 상태**: 주문접수 → 입금확인 → 배송준비 → 배송시작 → 배송완료 → 주문취소/환불처리
- ✅ 주문 상태별 필터링 (설정된 모든 상태로 필터링 가능)
- ✅ 운송장 번호 입력 및 추적  
- ✅ 주문 내역 Excel 내보내기
- ✅ 고급 검색 기능 (주문번호, 고객명, 전화번호)
- ✅ **새로운 관리 컬럼**: 아코디언 펼치지 않고도 수정/삭제 버튼 바로 접근
- ✅ **자동 데이터 마이그레이션**: 기존 상태 데이터 자동 변환

### 2. 고객 관리 시스템 ⚡ **ENHANCED!**
- ✅ **고객 목록 정렬**: 최근 등록순/고객명 오름차순/내림차순 3가지 정렬 기준 🔄
- ✅ **한국어 정렬**: localeCompare 사용으로 한글 자모 순서 정확한 정렬 🔤
- ✅ **검색창 통합**: 검색과 정렬을 한 곳에서 편리하게 사용 📍
- ✅ **설정 영구 저장**: 정렬 기준 선택사항 LocalStorage에 자동 저장 💾
- ✅ **새로운 '관리' 컬럼 추가**: 테이블 우측에 전용 관리 영역 생성 📊
- ✅ **원클릭 편집/삭제**: 연필(편집)/휴지통(삭제) 아이콘으로 즉시 접근 ⚡
- ✅ **영구 삭제 확인 시스템**: 고객 삭제 시 연결된 주문 내역도 함께 삭제 경고 🚨
- ✅ 고객 정보 등록/수정/삭제 (완전 CRUD 지원)
- ✅ 고객 등급 자동 계산 (주문 금액 기준)
- ✅ 고객별 주문 내역 조회
- ✅ 고객 데이터 Excel 내보내기
- ✅ **Master-Detail 레이아웃**: 좌측 목록, 우측 상세 정보로 효율적 관리

### 3. 상품 관리 시스템 ⚡ **ENHANCED!**
- ✅ **정렬 시스템**: 최근 등록순/상품명 오름차순/내림차순 3가지 정렬 기준 🔄
- ✅ **한국어 정렬**: localeCompare 사용으로 한글 자모 순서 정확한 정렬 🔤
- ✅ **페이지네이션 시스템**: 20개/50개/전체 선택으로 대량 상품 효율적 관리 📄
- ✅ **컴팩트 테이블 디자인**: 행 간격 축소(px-3 py-2)로 한 화면에 더 많은 상품 표시 📏
- ✅ **페이지 네비게이션**: 이전/다음/페이지번호 버튼으로 직관적 탐색 🔍
- ✅ **사용자 설정 저장**: 페이지당 표시 개수 및 정렬 기준 선택사항 영구 저장 💾
- ✅ **카테고리 데이터 통일성**: 모든 상품 등록/수정에서 동일한 카테고리 목록 사용 🏷️
- ✅ **스마트 카테고리 변환**: ID/이름 자동 처리로 데이터 호환성 보장 🔄
- ✅ **QR 코드 마스터 기능**: 파란색 'QR코드 생성' 섹션에서만 통일된 QR 생성 📱
- ✅ **원클릭 QR 생성**: 상품 목록에서 QR 아이콘 클릭으로 마스터 기능 연결 ⚡
- ✅ **표준 필드 명칭**: 모든 화면에서 통일된 필드 이름 사용 (배송 옵션, 판매가, 매입가 등) 🏷️
- ✅ **간소화된 빠른 등록**: 8개 핵심 항목만으로 신속한 상품등록 ⚡
  - 상품명, 카테고리, 판매가, 매입가, 재고수량, 사이즈, 배송옵션, QR코드 생성
- ✅ **새로운 '관리' 컬럼**: 편집(연필)/삭제(휴지통) 아이콘으로 원클릭 접근 🖊️🗑️
- ✅ **영구 삭제 확인 시스템**: 연결된 주문 내역 확인 및 안전장치 🚨
- ✅ **인라인 카테고리 추가**: 상품 등록 중 바로 새 카테고리 생성 가능 🏷️
- ✅ **클릭투에딧**: 가격/재고 클릭하여 즉시 편집 가능 ✏️
- ✅ **실시간 저장**: Enter/Blur 이벤트로 자동 저장 💾

### 4. 배송 관리 시스템
- ✅ 배송 상태별 통계
- ✅ 피킹 리스트 생성 및 인쇄
- ✅ 포장 라벨 생성 및 인쇄
- ✅ 배송비 및 할인 금액 관리

### 5. 대기 고객 관리
- ✅ 품절 상품 대기 고객 등록
- ✅ 우선순위 관리
- ✅ 입고 시 알림 대상 관리

### 6. 경영 대시보드 ⚡ **ENHANCED!**
- ✅ **매출 핵심 지표 카드**: 총 매출액, 주문 건수, 판매 상품 수, 객단가 (데이터 불일치 버그 완전 해결)
- ✅ **주간 베스트셀러 TOP 5**: 최근 7일 판매량 기준 상품 순위 및 매출 정보 🏆
- ✅ **VIP 고객 순위 TOP 10**: 구매금액별 고객 순위 및 등급 시스템 👑
- ✅ **신규/재구매 고객 분석**: 30일 기준 고객 유형 분석 도넛 차트 📊
- ✅ **개선된 판매 채널 분석**: 쿠팡, 스마트스토어, Xplant, 라이브커머스 등 모든 채널 표시 🛒
- ✅ **기간별 분석**: 최근 7일/30일/90일 선택 가능  
- ✅ **실시간 계산**: 완료된 주문(배송완료) 기준 정확한 매출 분석
- ✅ **시각적 대시보드**: 색상별 구분과 그라데이션 디자인
- ✅ **자동 갱신**: 주문 데이터 변경 시 모든 위젯 자동 업데이트
- ✅ **매출 추이 그래프**: 일별/주별/월별 매출 변화 차트

### 7. 환경설정 및 마스터 데이터 관리 ⚙️ **NEW!**
- ✅ **환경설정 메뉴**: 톱니바퀴 아이콘으로 체계적인 설정 관리
- ✅ **판매 채널 관리**: 주문 출처를 자유롭게 설정하고 관리
- ✅ **주문 상태 관리**: 주문 처리 과정의 상태를 커스터마이징
- ✅ **드롭다운 네비게이션**: 데스크톱에서 펼침/접힘 메뉴
- ✅ **모바일 바텀 시트**: 모바일에서 하단에서 올라오는 설정 메뉴
- ✅ **완전한 CRUD**: 모든 마스터 데이터의 생성/읽기/수정/삭제
- ✅ **실시간 통계**: 설정된 데이터의 사용 현황 및 통계 제공
- ✅ **향후 확장성**: 새로운 설정 기능을 쉽게 추가할 수 있는 구조

### 8. API 및 데이터 동기화
- ✅ RESTful API 연결 (URL 중복 문제 해결)
- ✅ 실시간 API 상태 모니터링 (30초 주기)
- ✅ 수동 API 재연결 기능
- ✅ 크로스 디바이스 데이터 동기화
- ✅ 모바일 최적화 CORS 설정
- ✅ 자동 데이터 동기화 (연결 복구 시)
- ✅ 오프라인 모드 지원 (LocalStorage 폴백)

## 🔗 주요 진입점 (Entry Points)

### 웹 애플리케이션
- **메인 시스템**: `index.html`
- **API 테스트**: `api-test.html`

### API 엔드포인트 (상대 경로)
- `tables/customers` - 고객 데이터 CRUD
- `tables/farm_orders` - 주문 데이터 CRUD
- `tables/products` - 상품 데이터 CRUD
- `tables/categories` - 카테고리 데이터 CRUD
- `tables/channels` - 판매 채널 데이터 CRUD **NEW!** 
- `tables/order_statuses` - 주문 상태 데이터 CRUD **NEW!**
- `tables/order_sources` - 주문 출처 데이터 CRUD (deprecated)
- `tables/waitlist` - 대기 고객 데이터 CRUD

## 🏗️ 데이터 모델 구조

### 고객 (customers)
- id, name, phone, address, email, memo, grade, registration_date

### 주문 (orders)
- id, order_number, order_date, customer_name, customer_phone, customer_address
- order_items, total_amount, order_status, tracking_number, memo
- shipping_fee, discount_amount, order_source

### 상품 (products)
- id, name, price, description, category, stock, image_url, shipping_option

### 카테고리 (categories)
- id, name, color, description, sort_order

### 판매 채널 (channels) **NEW!**
- id, name, icon, color, description, sort_order, is_active, created_at, updated_at
- 주문 시스템과 완전 연동되어 동적 드롭다운 제공

### 주문 상태 (order_statuses) **NEW!**
- id, name, color, description, sort_order, is_active, created_at, updated_at
- 주문 처리 과정의 상태를 자유롭게 커스터마이징 가능

### 주문 출처 (order_sources) **DEPRECATED**
- ⚠️ 기존 하드코딩된 데이터, 판매 채널 시스템으로 대체됨

### 대기 고객 (waitlist)
- id, customer_name, customer_phone, product_name, product_category
- expected_price, register_date, status, memo, priority, last_contact

## 📱 모바일 앱 기능

### PWA (Progressive Web App)
- ✅ 모바일 홈 화면 설치 가능
- ✅ 오프라인 모드 지원
- ✅ 반응형 디자인
- ✅ 터치 최적화 UI

### 설치 가이드
- `MOBILE_APP_GUIDE.md` - PWA 설치 방법
- `mobile-install-guide.md` - 상세 설치 가이드
- `MOBILE_TEST_GUIDE.md` - 모바일 테스트 방법

## 🖥️ 데스크톱 앱 기능

### Electron 애플리케이션
- ✅ Windows/Mac/Linux 지원
- ✅ SQLite 로컬 데이터베이스
- ✅ 오프라인 완전 지원
- ✅ 데이터 가져오기/내보내기

### 설치 방법
- Windows: `install.bat` 실행
- Mac/Linux: `install.sh` 실행
- 자세한 내용: `README-DESKTOP.md`

## 🔄 데이터 마이그레이션

### API ↔ LocalStorage 동기화
```javascript
// 브라우저 콘솔에서 실행
dataMigration.migrate()          // 전체 데이터 마이그레이션
dataMigration.extractLocalData() // 로컬 데이터 확인
```

## 🚧 향후 개발 계획

### Phase 1 (완료)
- ✅ 기본 주문 관리 시스템
- ✅ API 연결 및 데이터 동기화
- ✅ 모바일 PWA 앱
- ✅ 데스크톱 Electron 앱
- ✅ **경영 대시보드 시스템** (매출/상품/고객 분석)

### 7. 경영 대시보드 📊 **NEW!**
- ✅ **매출 현황**: 30일간 매출 추이 라인 차트
- ✅ **판매채널 분석**: 채널별 매출 비중 도넛 차트
- ✅ **상품 분석**: 카테고리별 매출 순위 바 차트
- ✅ **인기 태그 TOP 10**: 베스트 상품 태그 순위 테이블
- ✅ **VIP 고객 순위**: 구매금액 상위 10명 고객 리스트
- ✅ **고객 메트릭**: 이번 달 신규/재구매 고객 수 카드
- ✅ **실시간 데이터 시각화**: Chart.js 기반 반응형 차트
- ✅ **기간별 필터**: 7일/30일/90일 데이터 조회

### Phase 2 (완료)
- ✅ **경영 대시보드 완성** 🎉
- 🔄 알림 시스템 (재입고, 배송 등)
- 🔄 QR 코드 기반 재고 관리

### Phase 3 (계획 중)
- 📋 바코드 스캐너 연동
- 📋 자동 가격 책정 알고리즘
- 📋 고객 등급별 할인 시스템

## 🛠️ 기술 스택

### Frontend
- HTML5, CSS3, JavaScript (ES6+)
- Tailwind CSS (스타일링)
- Font Awesome (아이콘)
- Chart.js (데이터 시각화)

### Backend/API
- RESTful Table API
- LocalStorage (오프라인 지원)

### 모바일
- PWA (Progressive Web App)
- Service Worker (오프라인 캐싱)

### 데스크톱
- Electron (크로스 플랫폼)
- SQLite (로컬 데이터베이스)

## 📞 지원 및 문의

**경산다육식물농장 White Platter 전문 관리시스템**
- 버전: 3.6 🚀 **PERFORMANCE OPTIMIZATION COMPLETE**
- 최종 업데이트: 2025-09-01
- 새로운 기능: 백그라운드 API 호출 완전 제거로 성능 최적화 달성 ⚡
- 기술 지원: API 연결 완료, 크로스 디바이스 동기화 지원
- 핸드폰 데이터 관리: ✅ 완전 지원
- **데이터 시각화**: Chart.js 기반 실시간 차트 🎯
- **인라인 편집**: 클릭투에딧으로 빠른 상품 관리 ⚡
- **🧹 깨끗한 시작**: 콘솔에서 `clearDemoData()` 명령어로 데모 데이터 완전 제거
- **🚀 데이터 복구**: 새로고침 시 데이터 분실 문제 해결을 위한 `recoverLocalData()` 복구 기능
- **🧹 데이터 정리**: "undefined", "NaN" 등 잘못된 데이터 제거를 위한 `cleanupBadData()` 정리 기능

---

*"국내 최초 White Platter 품종 전문 농장을 위한 맞춤형 관리 솔루션"* 🌱✨