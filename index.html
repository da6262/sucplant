<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê²½ì‚°ë‹¤ìœ¡ì‹ë¬¼ë†ì¥ - ê´€ë¦¬ì‹œìŠ¤í…œ</title>
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiByeD0iNCIgZmlsbD0iIzEwYjk4MSIvPgo8c3ZnIHg9IjgiIHk9IjgiIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDI0IDI0IiBmaWxsPSJub25lIiBzdHJva2U9IndoaXRlIiBzdHJva2Utd2lkdGg9IjIiPgo8cGF0aCBkPSJNMTIgMkM2LjQ4IDIgMiA2LjQ4IDIgMTJzNC40OCAxMCAxMCAxMCAxMC00LjQ4IDEwLTEwUzE3LjUyIDIgMTIgMnptMCAxOGMtNC40MSAwLTgtMy41OS04LTggczMuNTktOCA4LTggOCAzLjU5IDggOC0zLjU5IDgtOCA4eiIvPgo8cGF0aCBkPSJNMTIgNnY2bDQgMiIvPgo8L3N2Zz4KPC9zdmc+">
    
    <!-- ì¹´ì¹´ì˜¤ ì£¼ì†Œ API -->
    <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js" onerror="console.warn('âš ï¸ ì¹´ì¹´ì˜¤ ì£¼ì†Œ API ë¡œë”© ì‹¤íŒ¨');"></script>
    
    <!-- Tailwind CSS ê²½ê³  ì°¨ë‹¨ -->
    <script>
        // Tailwind CSS í”„ë¡œë•ì…˜ ê²½ê³  ë©”ì‹œì§€ ë¬´ì‹œ
        (function() {
            const originalWarn = console.warn;
            const originalError = console.error;
            
            console.warn = function(message) {
                if (typeof message === 'string' && 
                    (message.includes('cdn.tailwindcss.com should not be used in production') ||
                     message.includes('should not be used in production'))) {
                    return; // ì´ ê²½ê³ ëŠ” ë¬´ì‹œ
                }
                originalWarn.apply(console, arguments);
            };
            
            console.error = function(message) {
                if (typeof message === 'string' && 
                    (message.includes('cdn.tailwindcss.com should not be used in production') ||
                     message.includes('should not be used in production'))) {
                    return; // ì´ ì—ëŸ¬ë„ ë¬´ì‹œ
                }
                originalError.apply(console, arguments);
            };
        })();
    </script>
    
    <!-- Tailwind CSS Play CDN (CORS í˜¸í™˜) -->
    <script src="https://cdn.tailwindcss.com/3.3.0" onerror="console.warn('âš ï¸ Tailwind CSS ë¡œë”© ì‹¤íŒ¨ - ê¸°ë³¸ ìŠ¤íƒ€ì¼ ì‚¬ìš©'); document.head.innerHTML += '<style>body{font-family:Arial,sans-serif;margin:0;padding:20px;background:#f5f5f5;} .bg-green-600{background:#16a34a;color:white;padding:10px;border-radius:5px;} .text-white{color:white;} .px-4{padding-left:16px;padding-right:16px;} .py-2{padding-top:8px;padding-bottom:8px;} .rounded{border-radius:4px;} .mb-4{margin-bottom:16px;} .flex{display:flex;} .items-center{align-items:center;} .space-x-2 > * + * {margin-left:8px;}</style>';" onload="console.log('âœ… Tailwind CSS ë¡œë”© ì„±ê³µ - ê°œë°œ ëª¨ë“œì—ì„œ ì‚¬ìš© ì¤‘');"></script>
    <script>
        // Tailwind ì„¤ì •
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Noto Sans KR', 'sans-serif']
                    }
                }
            }
        }
        
        // Tailwind CDN í”„ë¡œë•ì…˜ ê²½ê³  ë¬´ì‹œ
        console.log('ğŸŒ± Tailwind CSS ê°œë°œ ëª¨ë“œë¡œ ë¡œë”©ë¨ - í”„ë¡œë•ì…˜ ê²½ê³ ëŠ” ë¬´ì‹œí•˜ì„¸ìš”');
    </script>
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" onerror="console.warn('âš ï¸ Font Awesome ë¡œë”© ì‹¤íŒ¨ - ì•„ì´ì½˜ ì—†ì´ ì‚¬ìš©');">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet" onerror="console.warn('âš ï¸ Google Fonts ë¡œë”© ì‹¤íŒ¨ - ì‹œìŠ¤í…œ í°íŠ¸ ì‚¬ìš©');">
    
    <!-- SheetJS for Excel Export -->
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/exceljs@4.4.0/dist/exceljs.min.js"></script>
    
    <!-- QRCode.js for QR Code Generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrious/4.0.2/qrious.min.js" 
            onerror="console.warn('âš ï¸ QRious ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì‹¤íŒ¨ - QR ì½”ë“œ ê¸°ëŠ¥ ë¹„í™œì„±í™”'); window.QRCodeDisabled = true;"
            onload="console.log('âœ… QRious ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì„±ê³µ:', typeof QRious !== 'undefined');"></script>
    
    <!-- Chart.js for Dashboard -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- SweetAlert2 for Alerts and Notifications -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11" 
            onerror="console.warn('âš ï¸ SweetAlert2 ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì‹¤íŒ¨ - ì•Œë¦¼ ê¸°ëŠ¥ ë¹„í™œì„±í™”'); window.SwalDisabled = true;"
            onload="console.log('âœ… SweetAlert2 ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì„±ê³µ:', typeof Swal !== 'undefined');"></script>
    
    <!-- CryptoJS for Solapi HMAC Authentication -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js" 
            onerror="console.warn('âš ï¸ CryptoJS ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì‹¤íŒ¨ - SMS ê¸°ëŠ¥ ë¹„í™œì„±í™”'); window.CryptoJSDisabled = true;"
            onload="console.log('âœ… CryptoJS ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¡œë”© ì„±ê³µ:', typeof CryptoJS !== 'undefined');"></script>
    
    <!-- Supabase Client -->
    <!-- Supabase CDN (ì¤‘ë³µ ì œê±°) -->
    
        <!-- ì£¼ë¬¸ í‘œì‹œ ë¬¸ì œ ìë™ í•´ê²° ìŠ¤í¬ë¦½íŠ¸ -->
        <script>
            // ì£¼ë¬¸ í‘œì‹œ ë¬¸ì œ ìë™ í•´ê²°
            function fixOrderDisplay() {
                console.log('ğŸ”§ ì£¼ë¬¸ í‘œì‹œ ë¬¸ì œ ìë™ í•´ê²° ì‹œì‘...');
                
                if (typeof orderSystem !== 'undefined') {
                    // 1. ë°ì´í„° ë³µêµ¬
                    orderSystem.emergencyDataRecovery();
                    
                    // 2. ì£¼ë¬¸ í…Œì´ë¸” ê°•ì œ ë Œë”ë§
                    setTimeout(() => {
                        orderSystem.renderOrdersTable();
                        orderSystem.updateStatusCounts();
                        console.log('âœ… ì£¼ë¬¸ í‘œì‹œ ë¬¸ì œ í•´ê²° ì™„ë£Œ');
                    }, 1000);
                } else {
                    console.log('âš ï¸ orderSystemì´ ì•„ì§ ë¡œë“œë˜ì§€ ì•ŠìŒ, 3ì´ˆ í›„ ì¬ì‹œë„...');
                    setTimeout(fixOrderDisplay, 3000);
                }
            }
            
            // í˜ì´ì§€ ë¡œë“œ í›„ ìë™ ì‹¤í–‰
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(fixOrderDisplay, 2000);
            });
        </script>

        <!-- ìºì‹œ ë¬´íš¨í™” ìŠ¤í¬ë¦½íŠ¸ -->
        <script>
            // ìºì‹œ ë¬´íš¨í™”ë¥¼ ìœ„í•œ ë²„ì „ ê´€ë¦¬
            const CACHE_VERSION = 'v1.0.4-' + Date.now();
            console.log('ğŸ”„ ìºì‹œ ë²„ì „:', CACHE_VERSION);
        
        // Service Worker ìºì‹œ ë¬´íš¨í™”
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
                for(let registration of registrations) {
                    registration.unregister();
                    console.log('ğŸ—‘ï¸ ê¸°ì¡´ Service Worker ì œê±°ë¨');
                }
            });
        }
        
        // ë¸Œë¼ìš°ì € ìºì‹œ ë¬´íš¨í™”
        if ('caches' in window) {
            caches.keys().then(function(cacheNames) {
                return Promise.all(
                    cacheNames.map(function(cacheName) {
                        console.log('ğŸ—‘ï¸ ìºì‹œ ì‚­ì œ:', cacheName);
                        return caches.delete(cacheName);
                    })
                );
            }).then(function() {
                console.log('âœ… ëª¨ë“  ìºì‹œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤');
            });
        }
        
        // localStorage ìºì‹œ ê´€ë ¨ ë°ì´í„° ì •ë¦¬
        const cacheKeys = ['systemLoadingIssue', 'apiMode', 'lastUpdateCheck'];
        cacheKeys.forEach(key => {
            if (localStorage.getItem(key)) {
                localStorage.removeItem(key);
                console.log('ğŸ—‘ï¸ localStorage ì •ë¦¬:', key);
            }
        });
        
        // ê°•ì œ ìƒˆë¡œê³ ì¹¨ ì•ˆë‚´
        console.log('ğŸ”„ ìºì‹œ ë¬´íš¨í™” ì™„ë£Œ! ì´ì œ ì¼ë°˜ ìƒˆë¡œê³ ì¹¨(F5)ìœ¼ë¡œë„ ìµœì‹  íŒŒì¼ì´ ë¡œë“œë©ë‹ˆë‹¤.');
        
        // ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¬ë“±ë¡ì„ ìœ„í•œ ì§€ì—° ì‹¤í–‰
        setTimeout(() => {
            if (typeof orderSystem !== 'undefined') {
                console.log('ğŸ”„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ìë™ ì¬ë“±ë¡ ì‹œì‘...');
                orderSystem.reinitializeEventListeners();
            }
        }, 2000);
    </script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json?v=1.0.3">
    
    <!-- PWA iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="ê²½ì‚°ë‹¤ìœ¡ë†ì¥">
    <!-- PWA ì•„ì´ì½˜ (cfimages ì˜¤ë¥˜ í•´ê²°ì„ ìœ„í•´ ì œê±°) -->
    <!-- <link rel="apple-touch-icon" href="https://sspark.genspark.ai/cfimages?u1=9Glvot%2FUg9bCx1S5eD1Yj7ENmpCcErRtyt9llYOKt2aokovpY4%2BGRzxilIvP9SfXEUqhFyNXpB9MeCIPaKT9SRj8r0krCRDUQRWiaa0cA72j1SeGGXPIUIMbDME1gNWY%2BME18oCZ2BsuRPG3qwUMY18%2Ft7nUsLi2AzgI7beJ0PN%2Fq3VS18Y%3D&u2=WhwSXgPwWR7TzWSN&width=180"> -->
    
    <!-- PWA Android Meta Tags -->
    <meta name="theme-color" content="#16a34a">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- ì¦‰ì‹œ ì—°ê²° ìƒíƒœ ìˆ˜ì • (ê°€ì¥ ë¨¼ì € ì‹¤í–‰) -->
    <script>
        // í˜ì´ì§€ ë¡œë“œ ì „ì— ì¦‰ì‹œ ì‹¤í–‰
        (function() {
            // ì™¸ë¶€ API ìš”ì²­ ì°¨ë‹¨ (400 ì˜¤ë¥˜ ë°©ì§€)
            const originalFetch = window.fetch;
            window.fetch = function(url, options = {}) {
                // cfimages ìš”ì²­ ì°¨ë‹¨
                if (typeof url === 'string' && url.includes('cfimages')) {
                    console.log('ğŸš« cfimages ìš”ì²­ ì°¨ë‹¨:', url);
                    return Promise.reject(new Error('cfimages ìš”ì²­ ì°¨ë‹¨ë¨'));
                }
                
                // ê¸°íƒ€ ì™¸ë¶€ API ìš”ì²­ ì°¨ë‹¨
                if (typeof url === 'string' && (url.includes('sspark.genspark.ai') || url.includes('tables/'))) {
                    console.log('ğŸš« ì™¸ë¶€ API ìš”ì²­ ì°¨ë‹¨:', url);
                    return Promise.reject(new Error('ì™¸ë¶€ API ìš”ì²­ ì°¨ë‹¨ë¨'));
                }
                
                return originalFetch(url, options);
            };
            
            // DOMì´ ë¡œë“œë˜ë©´ ì¦‰ì‹œ ì‹¤í–‰
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', fixConnectionImmediately);
            } else {
                fixConnectionImmediately();
            }
            
            function fixConnectionImmediately() {
                // ì¦‰ì‹œ ì‹¤í–‰
                setTimeout(function() {
                    const statusText = document.getElementById('api-status-text');
                    if (statusText) {
                        statusText.textContent = 'ë¡œì»¬ ì „ìš©';
                        statusText.style.color = '#1d4ed8';
                    }
                    
                    const statusDot = document.getElementById('api-status-dot');
                    if (statusDot) {
                        statusDot.style.backgroundColor = '#3b82f6';
                        statusDot.style.animation = 'none';
                    }
                    
                    const statusIndicator = document.getElementById('api-status-indicator');
                    if (statusIndicator) {
                        statusIndicator.style.backgroundColor = '#dbeafe';
                        statusIndicator.style.color = '#1e40af';
                    }
                }, 0);
            }
        })();
    </script>
    
    <style>
        body {
            font-family: 'Noto Sans KR', 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', Arial, sans-serif;
        }
        
        /* ì—°ê²° ìƒíƒœ ì¦‰ì‹œ ìˆ˜ì • */
        #api-status-text {
            color: #1d4ed8 !important;
        }
        #api-status-dot {
            background-color: #3b82f6 !important;
            animation: none !important;
        }
        #api-status-indicator {
            background-color: #dbeafe !important;
            color: #1e40af !important;
        }
        
        /* ì˜¤í”„ë¼ì¸ ëª¨ë“œ ë°±ì—… ìŠ¤íƒ€ì¼ */
        .offline-fallback {
            display: none;
        }
        
        /* ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì‹œ í‘œì‹œë  ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
        .connection-error-banner {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: #ef4444;
            color: white;
            padding: 10px;
            text-align: center;
            z-index: 9999;
            font-size: 14px;
        }
        
        .connection-error-banner.hidden {
            display: none;
        }
        
        /* PWA ì„¤ì¹˜ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .pwa-install-banner {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            display: none;
        }
        
        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 768px) {
            .desktop-only {
                display: none !important;
            }
            
            .mobile-optimized {
                font-size: 16px;
                line-height: 1.5;
            }
            
            .mobile-button {
                min-height: 44px;
                min-width: 44px;
            }
            
            .mobile-input {
                min-height: 44px;
                font-size: 16px;
            }
            
            /* ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ìŠ¤íƒ€ì¼ */
            .mobile-tab-button.active {
                color: #16a34a;
                background-color: rgba(22, 163, 74, 0.1);
                border-radius: 8px;
            }
            
            /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼ í¬ê¸° ì¡°ì • */
            .mobile-nav-optimized button {
                padding: 12px 16px;
                font-size: 14px;
            }
            
            /* ëª¨ë°”ì¼ì—ì„œ í…Œì´ë¸” ìµœì í™” */
        }
        
        /* ì•„ì½”ë””ì–¸ ì• ë‹ˆë©”ì´ì…˜ ìŠ¤íƒ€ì¼ */
        .order-chevron {
            transition: transform 0.2s ease-in-out;
        }
        
        .rotate-180 {
            transform: rotate(180deg);
        }
        
        .order-summary-row:hover {
            background-color: #f9fafb;
        }
        
        .order-details-row {
            transition: all 0.3s ease-in-out;
        }
        
        /* í¼ì³ì§„ ìƒíƒœì˜ ë°°ê²½ìƒ‰ */
        .order-details-expanded {
            background-color: #f8fafc;
        }
        
        .mobile-table-responsive {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .mobile-table-responsive table {
            min-width: 600px;
        }
        
        /* ì¸ë¼ì¸ ìƒí’ˆ ë“±ë¡ í¼ ì• ë‹ˆë©”ì´ì…˜ */
        .inline-form-enter {
            animation: slideDown 0.3s ease-out;
        }
        
        .inline-form-exit {
            animation: slideUp 0.3s ease-in;
        }
        


        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
                max-height: 0;
            }
            to {
                opacity: 1;
                transform: translateY(0);
                max-height: 500px;
            }
        }
        
        @keyframes slideUp {
            from {
                opacity: 1;
                transform: translateY(0);
                max-height: 500px;
            }
            to {
                opacity: 0;
                transform: translateY(-20px);
                max-height: 0;
            }
        }
        
        /* ì¸ë¼ì¸ í¸ì§‘ ìŠ¤íƒ€ì¼ */
        .inline-edit-input {
            padding: 2px 6px;
            border: 1px solid #d1d5db;
            border-radius: 4px;
            background-color: #ffffff;
            font-size: 0.875rem;
            min-width: 80px;
        }
        
        .inline-edit-input:focus {
            outline: none;
            border-color: #16a34a;
            box-shadow: 0 0 0 2px rgba(22, 163, 74, 0.1);
        }
        
        .inline-editable {
            cursor: pointer;
            padding: 4px 8px;
            border-radius: 4px;
            transition: background-color 0.15s ease;
        }
        
        .inline-editable:hover {
            background-color: #f3f4f6;
        }
        
        .inline-editing {
            background-color: #f0fdf4;
            border: 1px solid #16a34a;
            border-radius: 4px;
        }
        
        /* QR ë¼ë²¨ ìŠ¤íƒ€ì¼ */
        .qr-label {
            width: 1.3cm;
            height: 4cm;
            border: 1px solid #e5e7eb;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding: 1mm;
            font-family: 'Noto Sans KR', sans-serif;
            page-break-inside: avoid;
            background: white;
        }
        
        .qr-label .product-name {
            font-size: 10px;
            font-weight: bold;
            text-align: center;
            line-height: 1.0;
            color: #1f2937;
            word-break: break-all;
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            line-clamp: 4;
            -webkit-box-orient: vertical;
            margin-bottom: 1mm;
            height: 12mm;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .qr-label .product-price {
            font-size: 10px;
            font-weight: 700;
            text-align: center;
            color: #000000;
            letter-spacing: 0.2px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0.5mm 1.5mm;
            padding: 0 1mm;
            text-shadow: 0.1px 0.1px 0px rgba(0,0,0,0.1);
            border-top: 0.5px solid #ddd;
            border-bottom: 0.5px solid #ddd;
            white-space: nowrap;
        }
        
        .qr-label .qr-code {
            width: 11mm;
            height: 11mm;
            margin: 0.5mm 0;
            flex-shrink: 0;
        }
        
        .labels-grid {
            display: grid;
            grid-template-columns: repeat(12, 1.3cm);
            grid-template-rows: repeat(6, 4cm);
            gap: 1.2mm;
            justify-content: center;
            align-content: start;
            margin: 0 auto;
            width: fit-content;
        }
        
        /* í”„ë¦°íŠ¸ ìŠ¤íƒ€ì¼ */
        @media print {
            * {
                margin: 0 !important;
                padding: 0 !important;
                box-sizing: border-box !important;
            }
            
            @page {
                size: A4 portrait;
                margin: 5mm 8mm;
            }
            
            html, body {
                width: 210mm !important;
                height: 297mm !important;
                background: white !important;
                -webkit-print-color-adjust: exact !important;
                print-color-adjust: exact !important;
                overflow: hidden !important;
            }
            
            body * {
                visibility: hidden;
            }
            
            #qr-labels-container,
            #qr-labels-container * {
                visibility: visible;
            }
            
            #qr-labels-container {
                position: absolute !important;
                left: 0 !important;
                top: 0 !important;
                width: 210mm !important;
                height: 297mm !important;
                margin: 0 !important;
                padding: 5mm 8mm !important;
                page-break-after: avoid !important;
                page-break-inside: avoid !important;
                overflow: visible !important;
                background: white !important;
                box-sizing: border-box !important;
            }
            
            .labels-grid {
                display: grid !important;
                grid-template-columns: repeat(12, 1.3cm) !important;
                grid-template-rows: repeat(6, 4cm) !important;
                gap: 1.0mm !important;
                justify-content: center !important;
                align-content: start !important;
                width: fit-content !important;
                height: fit-content !important;
                margin: 0 auto !important;
                page-break-inside: avoid !important;
                page-break-after: avoid !important;
            }
            
            .qr-label {
                width: 1.3cm !important;
                height: 4cm !important;
                border: 0.5px solid #000 !important;
                page-break-inside: avoid !important;
                background: white !important;
                margin: 0 !important;
                padding: 0.8mm !important;
                font-size: 7px !important;
                display: flex !important;
                flex-direction: column !important;
                justify-content: space-evenly !important;
                align-items: center !important;
                box-sizing: border-box !important;
            }
            
            .qr-label .product-name {
                font-size: 10px !important;
                font-weight: bold !important;
                text-align: center !important;
                line-height: 1.0 !important;
                color: #1f2937 !important;
                word-break: break-all !important;
                overflow: hidden !important;
                display: -webkit-box !important;
                -webkit-line-clamp: 4 !important;
                line-clamp: 4 !important;
                -webkit-box-orient: vertical !important;
                margin-bottom: 1mm !important;
                height: 12mm !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
            }
            
            .qr-label .product-price {
                font-size: 10px !important;
                font-weight: 700 !important;
                text-align: center !important;
                color: #000000 !important;
                letter-spacing: 0.2px !important;
                display: flex !important;
                align-items: center !important;
                justify-content: center !important;
                margin: 0.5mm 1.5mm !important;
                padding: 0 1mm !important;
                text-shadow: 0.1px 0.1px 0px rgba(0,0,0,0.1) !important;
                border-top: 0.5px solid #ddd !important;
                border-bottom: 0.5px solid #ddd !important;
                white-space: nowrap !important;
            }
            
            .qr-label .qr-code {
                width: 11mm !important;
                height: 11mm !important;
                margin: 0.5mm 0 !important;
                flex-shrink: 0 !important;
            }
            
            .qr-label .qr-code canvas {
                max-width: 100% !important;
                max-height: 100% !important;
            }
            
            /* ë¹ˆ ë¼ë²¨ì€ í”„ë¦°íŠ¸ì—ì„œ ìˆ¨ê¹€ */
            .qr-label[style*="dashed"] {
                display: none !important;
            }
        }
    </style>
</head>
<body class="bg-gray-50 min-h-screen">
    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div id="loginModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50" style="display: none;">
        <div class="bg-white rounded-lg shadow-xl p-8 w-full max-w-md mx-4">
            <div class="text-center mb-6">
                <div class="mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4">
                    <i class="fas fa-seedling text-2xl text-green-600"></i>
                </div>
                <h2 class="text-2xl font-bold text-gray-900">ê²½ì‚°ë‹¤ìœ¡ì‹ë¬¼ë†ì¥</h2>
                <p class="text-gray-600 mt-2">ê´€ë¦¬ì ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤</p>
            </div>
            
            <form id="loginForm" class="space-y-4">
                <div>
                    <label for="username" class="block text-sm font-medium text-gray-700 mb-1">
                        ì‚¬ìš©ìëª…
                    </label>
                    <input type="text" 
                           id="username" 
                           name="username"
                           class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                           placeholder="ê´€ë¦¬ì ì‚¬ìš©ìëª…"
                           required>
                </div>
                
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">
                        ë¹„ë°€ë²ˆí˜¸
                    </label>
                    <div class="relative">
                        <input type="password" 
                               id="password" 
                               name="password"
                               class="w-full px-3 py-2 pr-10 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent"
                               placeholder="ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸"
                               required>
                        <button type="button" 
                                id="togglePassword"
                                class="absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 focus:outline-none"
                                onclick="togglePasswordVisibility()"
                                style="cursor: pointer; z-index: 10; pointer-events: auto;"
                                tabindex="0">
                            <i id="passwordIcon" class="fas fa-eye"></i>
                        </button>
                    </div>
                </div>
                
                <div id="loginError" class="text-red-600 text-sm text-center" style="display: none;"></div>
                
                <button type="submit" 
                        id="loginButton"
                        class="w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition duration-200"
                        onclick="handleLoginClick(event)">
                    <i class="fas fa-sign-in-alt mr-2"></i>
                    ë¡œê·¸ì¸
                </button>
            </form>
            
            <div class="mt-6 text-center text-sm text-gray-500">
                <p>ğŸ” ë³´ì•ˆì´ ê°•í™”ëœ ê´€ë¦¬ì ì „ìš© ì‹œìŠ¤í…œì…ë‹ˆë‹¤</p>
                <p class="mt-1">ì˜ëª»ëœ ì ‘ê·¼ ì‹œë„ëŠ” ìë™ìœ¼ë¡œ ì°¨ë‹¨ë©ë‹ˆë‹¤</p>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header class="bg-green-600 text-white shadow-lg">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <i class="fas fa-seedling text-2xl"></i>
                    <div>
                        <h1 class="text-2xl font-bold">ê²½ì‚°ë‹¤ìœ¡ì‹ë¬¼ë†ì¥</h1>
                        <p class="text-green-100 text-sm">White Platter ì „ë¬¸ ê´€ë¦¬ì‹œìŠ¤í…œ</p>
                    </div>
                </div>
                
                <!-- ì‚¬ìš©ì ì •ë³´ ë° ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ -->
                <div id="userInfo" class="flex items-center space-x-4">
                    <!-- ì¸ì¦ëœ ì‚¬ìš©ì ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                </div>
                </div>
                <div class="text-right flex items-center space-x-3">
                    <!-- API ìƒíƒœ í‘œì‹œ -->
                    <div id="api-status-indicator" class="flex items-center space-x-2 px-3 py-1 rounded-lg text-sm">
                        <div id="api-status-dot" class="w-2 h-2 rounded-full bg-yellow-400 animate-pulse"></div>
                        <span id="api-status-text" class="text-xs">ì—°ê²° í™•ì¸ì¤‘...</span>
                        <button id="api-reconnect-btn" class="hidden ml-2 bg-blue-500 hover:bg-blue-400 px-2 py-1 rounded text-xs font-medium transition-colors" title="API ì¬ì—°ê²° ì‹œë„">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                        <button id="force-api-mode-btn" class="ml-2 bg-orange-500 hover:bg-orange-400 px-2 py-1 rounded text-xs font-medium transition-colors" title="í•¸ë“œí° API ëª¨ë“œ ì „í™˜">
                            ğŸ“±â†’ğŸŒ
                        </button>
                        <button onclick="window.open('connection-diagnostic.html', '_blank')" class="ml-2 bg-purple-500 hover:bg-purple-400 px-2 py-1 rounded text-xs font-medium transition-colors" title="ì—°ê²° ì§„ë‹¨ ë„êµ¬">
                            ğŸ”§
                        </button>
                        <button onclick="orderSystem.emergencyDataRecovery()" class="ml-2 bg-red-500 hover:bg-red-400 px-2 py-1 rounded text-xs font-medium transition-colors" title="ê¸´ê¸‰ ë°ì´í„° ë³µêµ¬ (F5ë¡œ ì‚¬ë¼ì§„ ë°ì´í„° ë³µêµ¬)">
                            ğŸš¨
                        </button>
                        <button onclick="orderSystem.reinitializeEventListeners()" class="ml-2 bg-yellow-500 hover:bg-yellow-400 px-2 py-1 rounded text-xs font-medium transition-colors" title="ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¬ë“±ë¡ (F5 í›„ ì•„ì´ì½˜ ë¹„í™œì„±í™” í•´ê²°)">
                            ğŸ”„
                        </button>
                        <button onclick="fixOrderDisplay()" class="ml-2 bg-blue-500 hover:bg-blue-400 px-2 py-1 rounded text-xs font-medium transition-colors" title="ì£¼ë¬¸ í‘œì‹œ ë¬¸ì œ í•´ê²°">
                            ğŸ”§
                        </button>
                    </div>
                    <button id="pwa-install-btn" class="hidden bg-green-500 hover:bg-green-400 px-3 py-1 rounded-lg text-sm font-medium transition-colors">
                        <i class="fas fa-download mr-1"></i>
                        ì•± ì„¤ì¹˜
                    </button>
                    <p class="text-sm text-green-100">ë¶€ëŒ€ì¥ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤! ğŸŒ±</p>
                </div>
            </div>
        </div>
    </header>

    <!-- Navigation - Desktop -->
    <nav class="bg-white shadow-md hidden md:block">
        <div class="container mx-auto px-4">
            <div class="flex space-x-8">
                <button id="tab-dashboard" class="py-4 px-6 text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors font-medium tab-button active">
                    <i class="fas fa-tachometer-alt mr-2"></i>ì‹¤ì‹œê°„ ìš´ì˜í˜„í™©
                </button>
                <button id="tab-orders" class="py-4 px-6 text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors font-medium tab-button">
                    <i class="fas fa-shopping-cart mr-2"></i>ì£¼ë¬¸ê´€ë¦¬
                </button>
                <button id="tab-customers" class="py-4 px-6 text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors font-medium tab-button">
                    <i class="fas fa-users mr-2"></i>ê³ ê°ê´€ë¦¬
                </button>
                <button id="tab-products" class="py-4 px-6 text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors font-medium tab-button">
                    <i class="fas fa-leaf mr-2"></i>ìƒí’ˆê´€ë¦¬
                </button>
                <button id="tab-shipping" class="py-4 px-6 text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors font-medium tab-button">
                    <i class="fas fa-truck mr-2"></i>ë°°ì†¡ê´€ë¦¬
                </button>
                <button id="tab-waitlist" class="py-4 px-6 text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors font-medium tab-button">
                    <i class="fas fa-clock mr-2"></i>ëŒ€ê¸°ìê´€ë¦¬
                </button>
                <!-- í™˜ê²½ì„¤ì • ë“œë¡­ë‹¤ìš´ ë©”ë‰´ -->
                <div class="relative">
                    <button id="settings-dropdown" class="py-4 px-6 text-gray-600 hover:text-purple-600 border-b-2 border-transparent hover:border-purple-600 transition-colors font-medium flex items-center">
                        <i class="fas fa-cog mr-2"></i>í™˜ê²½ì„¤ì •
                        <i class="fas fa-chevron-down ml-2 text-xs transform transition-transform" id="settings-chevron"></i>
                    </button>
                    <!-- ë“œë¡­ë‹¤ìš´ ë©”ë‰´ -->
                    <div id="settings-menu" class="absolute top-full left-0 mt-1 w-48 bg-white border border-gray-200 rounded-lg shadow-xl z-[9999] hidden" style="z-index: 9999;">
                        <div class="py-2">
                            <button id="tab-channels" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                                <i class="fas fa-store mr-3 w-4"></i>íŒë§¤ ì±„ë„ ê´€ë¦¬
                            </button>
                            <button id="tab-order-status" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                                <i class="fas fa-tasks mr-3 w-4"></i>ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
                            </button>
                            <button id="tab-shipping-settings" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                                <i class="fas fa-truck mr-3 w-4"></i>ë°°ì†¡ë¹„ ê´€ë¦¬
                            </button>
                            <button id="tab-customer-grade" class="w-full text-left px-4 py-2 text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                                <i class="fas fa-crown mr-3 w-4"></i>ê³ ê°ë“±ê¸‰ ê´€ë¦¬
                            </button>
                            <div class="border-t border-gray-200 my-1"></div>
                            <button onclick="deployToProduction()" class="w-full text-left px-4 py-2 text-green-600 hover:bg-green-50 hover:text-green-700 transition-colors flex items-center font-semibold">
                                <i class="fas fa-rocket mr-3 w-4"></i>í”„ë¡œë•ì…˜ ëª¨ë“œ ì „í™˜
                            </button>
                        </div>
                    </div>
                </div>
                <button id="tab-analytics" class="py-4 px-6 text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600 transition-colors font-medium tab-button">
                    <i class="fas fa-chart-line mr-2"></i>ê²½ì˜ ëŒ€ì‹œë³´ë“œ
                </button>
                <button id="tab-backup" class="py-4 px-6 text-gray-600 hover:text-orange-600 border-b-2 border-transparent hover:border-orange-600 transition-colors font-medium tab-button">
                    <i class="fas fa-shield-alt mr-2"></i>ë°ì´í„°ë°±ì—…
                </button>
            </div>
        </div>
    </nav>

    <!-- Mobile Bottom Navigation -->
    <nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-50">
        <div class="flex justify-around">
            <button id="mobile-tab-dashboard" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-green-600 transition-colors font-medium mobile-tab-button active">
                <i class="fas fa-tachometer-alt text-lg mb-1"></i>
                <span class="text-xs">ìš´ì˜í˜„í™©</span>
            </button>
            <button id="mobile-tab-orders" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-green-600 transition-colors font-medium mobile-tab-button">
                <i class="fas fa-shopping-cart text-lg mb-1"></i>
                <span class="text-xs">ì£¼ë¬¸</span>
            </button>
            <button id="mobile-tab-customers" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-green-600 transition-colors font-medium mobile-tab-button">
                <i class="fas fa-users text-lg mb-1"></i>
                <span class="text-xs">ê³ ê°</span>
            </button>
            <button id="mobile-tab-products" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-green-600 transition-colors font-medium mobile-tab-button">
                <i class="fas fa-leaf text-lg mb-1"></i>
                <span class="text-xs">ìƒí’ˆ</span>
            </button>
            <button id="mobile-tab-shipping" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-green-600 transition-colors font-medium mobile-tab-button">
                <i class="fas fa-truck text-lg mb-1"></i>
                <span class="text-xs">ë°°ì†¡</span>
            </button>
            <button id="mobile-tab-waitlist" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-green-600 transition-colors font-medium mobile-tab-button">
                <i class="fas fa-clock text-lg mb-1"></i>
                <span class="text-xs">ëŒ€ê¸°</span>
            </button>
            <!-- ëª¨ë°”ì¼ í™˜ê²½ì„¤ì • ë©”ë‰´ -->
            <button id="mobile-settings-toggle" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-purple-600 transition-colors font-medium">
                <i class="fas fa-cog text-lg mb-1"></i>
                <span class="text-xs">ì„¤ì •</span>
            </button>
            <button id="mobile-tab-backup" class="flex flex-col items-center py-2 px-1 text-gray-600 hover:text-orange-600 transition-colors font-medium mobile-tab-button">
                <i class="fas fa-shield-alt text-lg mb-1"></i>
                <span class="text-xs">ë°±ì—…</span>
            </button>
        </div>
    </nav>

    <!-- ëª¨ë°”ì¼ í™˜ê²½ì„¤ì • ë°”í…€ ì‹œíŠ¸ -->
    <div id="mobile-settings-sheet" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden md:hidden">
        <div class="absolute bottom-0 left-0 right-0 bg-white rounded-t-xl shadow-lg transform translate-y-full transition-transform" id="mobile-settings-content">
            <div class="p-4">
                <div class="w-12 h-1 bg-gray-300 rounded-full mx-auto mb-4"></div>
                <h3 class="text-lg font-medium text-gray-800 mb-4 text-center">
                    <i class="fas fa-cog mr-2 text-purple-600"></i>í™˜ê²½ì„¤ì •
                </h3>
                <div class="space-y-2">
                    <button id="mobile-tab-channels" class="w-full text-left p-3 rounded-lg text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                        <i class="fas fa-store mr-3 w-5 text-center"></i>íŒë§¤ ì±„ë„ ê´€ë¦¬
                    </button>
                    <button id="mobile-tab-order-status" class="w-full text-left p-3 rounded-lg text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                        <i class="fas fa-tasks mr-3 w-5 text-center"></i>ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬
                    </button>
                    <button id="mobile-tab-shipping-settings" class="w-full text-left p-3 rounded-lg text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                        <i class="fas fa-truck mr-3 w-5 text-center"></i>ë°°ì†¡ë¹„ ê´€ë¦¬
                    </button>
                    <button id="mobile-tab-customer-grade" class="w-full text-left p-3 rounded-lg text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-colors flex items-center">
                        <i class="fas fa-crown mr-3 w-5 text-center"></i>ê³ ê°ë“±ê¸‰ ê´€ë¦¬
                    </button>
                    <div class="border-t border-gray-200 my-2"></div>
                    <button onclick="deployToProduction()" class="w-full text-left p-3 rounded-lg text-green-600 hover:bg-green-50 hover:text-green-700 transition-colors flex items-center font-semibold">
                        <i class="fas fa-rocket mr-3 w-5 text-center"></i>í”„ë¡œë•ì…˜ ëª¨ë“œ ì „í™˜
                    </button>
                </div>
                <button id="mobile-settings-close" class="w-full mt-4 p-3 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors">
                    ë‹«ê¸°
                </button>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main id="mainContent" class="container mx-auto px-4 py-6 pb-20 md:pb-6">
        <!-- ì‹¤ì‹œê°„ ìš´ì˜ í˜„í™© ì„¹ì…˜ -->
        <div id="dashboard-section" class="tab-content">
            <!-- ì‹¤ì‹œê°„ ìš´ì˜ í˜„í™© í—¤ë” -->
            <div class="mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                            <i class="fas fa-tachometer-alt text-green-600 mr-3"></i>
                            ì‹¤ì‹œê°„ ìš´ì˜ í˜„í™©
                        </h1>
                        <p class="text-gray-600 mt-1">ì˜¤ëŠ˜ ì²˜ë¦¬í•´ì•¼ í•  í•µì‹¬ ì—…ë¬´ë¥¼ í•œëˆˆì— í™•ì¸í•˜ê³  ë°”ë¡œ ì´ë™í•˜ì„¸ìš”</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <span class="text-sm text-gray-500">
                            <i class="fas fa-clock mr-1"></i>
                            <span id="current-time">ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸</span>
                        </span>
                        <button id="refresh-realtime" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors text-sm">
                            <i class="fas fa-sync-alt mr-2"></i>ìƒˆë¡œê³ ì¹¨
                        </button>
                    </div>
                </div>
            </div>

            <!-- í•µì‹¬ ì—…ë¬´ ìš”ì•½ ì¹´ë“œ ê·¸ë¦¬ë“œ -->
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-4 mb-6">
                
                <!-- 1. í¬ì¥í•  ì£¼ë¬¸ ì¹´ë“œ -->
                <div id="pack-orders-card" class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-orange-500 hover:border-orange-600">
                    <div class="p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="flex items-center">
                                    <i class="fas fa-box text-2xl text-orange-500 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-medium text-gray-600">í¬ì¥í•  ì£¼ë¬¸</p>
                                        <p class="text-xs text-gray-500">ì…ê¸ˆí™•ì¸ ì™„ë£Œ</p>
                                    </div>
                                </div>
                                <p class="text-3xl font-bold text-orange-600 mt-2" id="pack-orders-count">-</p>
                                <p class="text-xs text-gray-500 mt-1">ê±´ì˜ ì£¼ë¬¸ ëŒ€ê¸°ì¤‘</p>
                            </div>
                            <div class="text-orange-500">
                                <i class="fas fa-arrow-right text-lg"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2. ì˜¤ëŠ˜ ë³´ë‚¼ íƒë°° ì¹´ë“œ -->
                <div id="ship-orders-card" class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-purple-500 hover:border-purple-600">
                    <div class="p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="flex items-center">
                                    <i class="fas fa-truck text-2xl text-purple-500 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-medium text-gray-600">ì˜¤ëŠ˜ ë³´ë‚¼ íƒë°°</p>
                                        <p class="text-xs text-gray-500">ë°°ì†¡ì¤€ë¹„ ì™„ë£Œ</p>
                                    </div>
                                </div>
                                <p class="text-3xl font-bold text-purple-600 mt-2" id="ship-orders-count">-</p>
                                <p class="text-xs text-gray-500 mt-1">ê±´ì˜ íƒë°° ë°œì†¡</p>
                            </div>
                            <div class="text-purple-500">
                                <i class="fas fa-arrow-right text-lg"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 3. ì¬ê³  ë¶€ì¡± ìƒí’ˆ ì¹´ë“œ -->
                <div id="low-stock-card" class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-red-500 hover:border-red-600">
                    <div class="p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="flex items-center">
                                    <i class="fas fa-exclamation-triangle text-2xl text-red-500 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-medium text-gray-600">ì¬ê³  ë¶€ì¡± ìƒí’ˆ</p>
                                        <p class="text-xs text-gray-500">ê¸´ê¸‰ ë³´ì¶© í•„ìš”</p>
                                    </div>
                                </div>
                                <p class="text-3xl font-bold text-red-600 mt-2" id="low-stock-count">-</p>
                                <p class="text-xs text-gray-500 mt-1">ê°œ ìƒí’ˆ ë¶€ì¡±</p>
                            </div>
                            <div class="text-red-500">
                                <i class="fas fa-arrow-right text-lg"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 4. ì—°ë½í•  ëŒ€ê¸°ì ì¹´ë“œ -->
                <div id="contact-waitlist-card" class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-blue-500 hover:border-blue-600">
                    <div class="p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="flex items-center">
                                    <i class="fas fa-phone text-2xl text-blue-500 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-medium text-gray-600">ì—°ë½í•  ëŒ€ê¸°ì</p>
                                        <p class="text-xs text-gray-500">ì…ê³ ì™„ë£Œ ì•Œë¦¼</p>
                                    </div>
                                </div>
                                <p class="text-3xl font-bold text-blue-600 mt-2" id="contact-waitlist-count">-</p>
                                <p class="text-xs text-gray-500 mt-1">ëª… ì—°ë½ ëŒ€ê¸°ì¤‘</p>
                            </div>
                            <div class="text-blue-500">
                                <i class="fas fa-arrow-right text-lg"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 5. ì´ë²ˆ ë‹¬ ì‹ ê·œ ê³ ê° ì¹´ë“œ -->
                <div id="new-customers-card" class="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow cursor-pointer border-l-4 border-green-500 hover:border-green-600">
                    <div class="p-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="flex items-center">
                                    <i class="fas fa-user-plus text-2xl text-green-500 mr-3"></i>
                                    <div>
                                        <p class="text-sm font-medium text-gray-600">ì´ë²ˆ ë‹¬ ì‹ ê·œ ê³ ê°</p>
                                        <p class="text-xs text-gray-500">ìƒˆë¡œìš´ ê³ ê°ë‹˜ë“¤</p>
                                    </div>
                                </div>
                                <p class="text-3xl font-bold text-green-600 mt-2" id="new-customers-count">-</p>
                                <p class="text-xs text-gray-500 mt-1">ëª… ì‹ ê·œ ê°€ì…</p>
                            </div>
                            <div class="text-green-500">
                                <i class="fas fa-arrow-right text-lg"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ë¹ ë¥¸ ì—…ë¬´ ì²˜ë¦¬ ì„¹ì…˜ -->
            <div class="bg-white rounded-lg shadow-md mb-6">
                <div class="p-6 border-b border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-bolt text-green-600 mr-2"></i>ë¹ ë¥¸ ì—…ë¬´ ì²˜ë¦¬
                    </h2>
                    <p class="text-sm text-gray-600 mt-1">ìì£¼ ì‚¬ìš©í•˜ëŠ” ê¸°ëŠ¥ë“¤ì„ ë°”ë¡œ ì‹¤í–‰í•˜ì„¸ìš”</p>
                </div>
                <div class="p-6">
                    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                        <!-- ìƒˆ ì£¼ë¬¸ ë“±ë¡ -->
                        <button id="quick-new-order" class="flex flex-col items-center p-4 bg-green-50 hover:bg-green-100 rounded-lg transition-colors border border-green-200 hover:border-green-300">
                            <i class="fas fa-plus-circle text-2xl text-green-600 mb-2"></i>
                            <span class="text-sm font-medium text-green-700">ìƒˆ ì£¼ë¬¸ ë“±ë¡</span>
                        </button>



                        <!-- í”¼í‚¹ ë¦¬ìŠ¤íŠ¸ ìƒì„± -->
                        <button id="quick-picking-list" class="flex flex-col items-center p-4 bg-purple-50 hover:bg-purple-100 rounded-lg transition-colors border border-purple-200 hover:border-purple-300">
                            <i class="fas fa-clipboard-list text-2xl text-purple-600 mb-2"></i>
                            <span class="text-sm font-medium text-purple-700">í”¼í‚¹ ë¦¬ìŠ¤íŠ¸</span>
                        </button>

                        <!-- í¬ì¥ ë¼ë²¨ ìƒì„± -->
                        <button id="quick-packaging-labels" class="flex flex-col items-center p-4 bg-indigo-50 hover:bg-indigo-100 rounded-lg transition-colors border border-indigo-200 hover:border-indigo-300">
                            <i class="fas fa-tags text-2xl text-indigo-600 mb-2"></i>
                            <span class="text-sm font-medium text-indigo-700">í¬ì¥ ë¼ë²¨</span>
                        </button>

                        <!-- ìƒˆ ê³ ê° ë“±ë¡ -->
                        <button id="quick-new-customer" class="flex flex-col items-center p-4 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors border border-blue-200 hover:border-blue-300">
                            <i class="fas fa-user-plus text-2xl text-blue-600 mb-2"></i>
                            <span class="text-sm font-medium text-blue-700">ìƒˆ ê³ ê° ë“±ë¡</span>
                        </button>

                        <!-- ìƒí’ˆ ì¬ê³  ì—…ë°ì´íŠ¸ -->
                        <button id="quick-stock-update" class="flex flex-col items-center p-4 bg-red-50 hover:bg-red-100 rounded-lg transition-colors border border-red-200 hover:border-red-300">
                            <i class="fas fa-boxes text-2xl text-red-600 mb-2"></i>
                            <span class="text-sm font-medium text-red-700">ì¬ê³  ì—…ë°ì´íŠ¸</span>
                        </button>

                        <!-- ëŒ€ê¸°ì ë“±ë¡ -->
                        <button id="quick-add-waitlist" class="flex flex-col items-center p-4 bg-yellow-50 hover:bg-yellow-100 rounded-lg transition-colors border border-yellow-200 hover:border-yellow-300">
                            <i class="fas fa-clock text-2xl text-yellow-600 mb-2"></i>
                            <span class="text-sm font-medium text-yellow-700">ëŒ€ê¸°ì ë“±ë¡</span>
                        </button>

                        <!-- ì—‘ì…€ ë‚´ë³´ë‚´ê¸° -->
                        <button id="quick-excel-export" class="flex flex-col items-center p-4 bg-emerald-50 hover:bg-emerald-100 rounded-lg transition-colors border border-emerald-200 hover:border-emerald-300">
                            <i class="fas fa-file-excel text-2xl text-emerald-600 mb-2"></i>
                            <span class="text-sm font-medium text-emerald-700">ì—‘ì…€ ë‚´ë³´ë‚´ê¸°</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- 2-2. ì¸ê¸° íƒœê·¸ TOP 10 ì„¹ì…˜ -->
            <div class="bg-white rounded-lg shadow-md mb-6">
                <div class="p-6 border-b border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-tags text-purple-600 mr-2"></i>ì¸ê¸° íƒœê·¸ TOP 10
                    </h2>
                </div>
                <div class="p-6">
                    <div class="bg-gray-50 rounded-lg p-4">
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead class="bg-white">
                                    <tr>
                                        <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase">ìˆœìœ„</th>
                                        <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase">íƒœê·¸</th>
                                        <th class="px-3 py-2 text-right text-xs font-medium text-gray-500 uppercase">íŒë§¤íšŸìˆ˜</th>
                                    </tr>
                                </thead>
                                <tbody id="popular-tags-table" class="divide-y divide-gray-200">
                                    <!-- ë™ì ìœ¼ë¡œ ì±„ì›Œì§ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2-3. ê³ ê° ë¶„ì„ ì„¹ì…˜ -->
            <div class="bg-white rounded-lg shadow-md mb-6">
                <div class="p-6 border-b border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-users text-green-600 mr-2"></i>ê³ ê° ë¶„ì„
                    </h2>
                </div>
                <div class="p-6">
                    <!-- ì´ë²ˆ ë‹¬ ê³ ê° í˜„í™© ì¹´ë“œ -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-blue-50 border border-blue-200 rounded-lg p-6 text-center">
                            <i class="fas fa-user-plus text-3xl text-blue-600 mb-3"></i>
                            <p class="text-2xl font-bold text-blue-600" id="new-customers-count">0</p>
                            <p class="text-sm font-medium text-blue-700">ì´ë²ˆ ë‹¬ ì‹ ê·œ ê³ ê°</p>
                        </div>
                        <div class="bg-green-50 border border-green-200 rounded-lg p-6 text-center">
                            <i class="fas fa-user-check text-3xl text-green-600 mb-3"></i>
                            <p class="text-2xl font-bold text-green-600" id="returning-customers-count">0</p>
                            <p class="text-sm font-medium text-green-700">ì´ë²ˆ ë‹¬ ì¬êµ¬ë§¤ ê³ ê°</p>
                        </div>
                    </div>
                    
                    <!-- VIP ê³ ê° ìˆœìœ„ -->
                    <div class="bg-gray-50 rounded-lg p-4">
                        <h3 class="text-lg font-medium text-gray-800 mb-4">VIP ê³ ê° ìˆœìœ„ TOP 10</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead class="bg-white">
                                    <tr>
                                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">ìˆœìœ„</th>
                                        <th class="px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase">ê³ ê°ëª…</th>
                                        <th class="px-4 py-2 text-center text-xs font-medium text-gray-500 uppercase">ë“±ê¸‰</th>
                                        <th class="px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase">ì´ êµ¬ë§¤ê¸ˆì•¡</th>
                                        <th class="px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase">ì£¼ë¬¸íšŸìˆ˜</th>
                                    </tr>
                                </thead>
                                <tbody id="vip-customers-table" class="divide-y divide-gray-200">
                                    <!-- ë™ì ìœ¼ë¡œ ì±„ì›Œì§ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì£¼ë¬¸ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="orders-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-md">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h2 class="text-xl font-semibold text-gray-800">
                            <i class="fas fa-shopping-cart mr-2 text-green-600"></i>ì£¼ë¬¸ ê´€ë¦¬
                        </h2>
                        <div class="flex space-x-3">
                            <!-- ì¼ê´„ ì²˜ë¦¬ ë²„íŠ¼ë“¤ -->
                            <button id="bulk-status-change-btn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors hidden">
                                <i class="fas fa-edit mr-2"></i>ìƒíƒœë³€ê²½
                            </button>
                            <button id="bulk-export-logen-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors hidden">
                                <i class="fas fa-file-excel mr-2"></i>ë¡œì  íƒë°° ì—‘ì…€ ë‚´ë³´ë‚´ê¸°
                            </button>
                            <button id="bulk-tracking-import-btn" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-barcode mr-2"></i>ì†¡ì¥ë²ˆí˜¸ ì¼ê´„ì…ë ¥
                            </button>
                            <button id="generate-picking-list-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-clipboard-list mr-2"></i>í”¼í‚¹ ë¦¬ìŠ¤íŠ¸
                            </button>
                            <button id="generate-packaging-labels-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-tags mr-2"></i>í¬ì¥ ë¼ë²¨
                            </button>
                            <button id="add-order-btn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-plus mr-2"></i>ìƒˆ ì£¼ë¬¸ ë“±ë¡
                            </button>
                        </div>
                    </div>
                    
                    <!-- ì£¼ë¬¸ ìƒíƒœë³„ í•„í„° íƒ­ -->
                    <div class="mt-4 border-b border-gray-200">
                        <nav class="flex space-x-1">
                            <button id="status-all" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors active">
                                <i class="fas fa-list mr-2"></i>ì „ì²´ <span class="ml-1 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-all">0</span>
                            </button>
                            <button id="status-ì£¼ë¬¸ì ‘ìˆ˜" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-yellow-600 border-b-2 border-transparent hover:border-yellow-600 transition-colors">
                                <i class="fas fa-receipt mr-2"></i>ì£¼ë¬¸ì ‘ìˆ˜ <span class="ml-1 bg-yellow-100 text-yellow-600 px-2 py-1 rounded-full text-xs" id="count-ì£¼ë¬¸ì ‘ìˆ˜">0</span>
                            </button>
                            <button id="status-ì…ê¸ˆí™•ì¸" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors">
                                <i class="fas fa-money-check mr-2"></i>ì…ê¸ˆí™•ì¸ <span class="ml-1 bg-green-100 text-green-600 px-2 py-1 rounded-full text-xs" id="count-ì…ê¸ˆí™•ì¸">0</span>
                            </button>
                            <button id="status-ë°°ì†¡ì¤€ë¹„" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-orange-600 border-b-2 border-transparent hover:border-orange-600 transition-colors">
                                <i class="fas fa-box mr-2"></i>ë°°ì†¡ì¤€ë¹„ <span class="ml-1 bg-orange-100 text-orange-600 px-2 py-1 rounded-full text-xs" id="count-ë°°ì†¡ì¤€ë¹„">0</span>
                            </button>
                            <button id="status-ë°°ì†¡ì‹œì‘" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-purple-600 border-b-2 border-transparent hover:border-purple-600 transition-colors">
                                <i class="fas fa-truck mr-2"></i>ë°°ì†¡ì‹œì‘ <span class="ml-1 bg-purple-100 text-purple-600 px-2 py-1 rounded-full text-xs" id="count-ë°°ì†¡ì‹œì‘">0</span>
                            </button>
                            <button id="status-ë°°ì†¡ì™„ë£Œ" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-emerald-600 border-b-2 border-transparent hover:border-emerald-600 transition-colors">
                                <i class="fas fa-check-circle mr-2"></i>ë°°ì†¡ì™„ë£Œ <span class="ml-1 bg-emerald-100 text-emerald-600 px-2 py-1 rounded-full text-xs" id="count-ë°°ì†¡ì™„ë£Œ">0</span>
                            </button>
                            <button id="status-ì£¼ë¬¸ì·¨ì†Œ" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-gray-600 border-b-2 border-transparent hover:border-gray-600 transition-colors">
                                <i class="fas fa-times-circle mr-2"></i>ì£¼ë¬¸ì·¨ì†Œ <span class="ml-1 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="count-ì£¼ë¬¸ì·¨ì†Œ">0</span>
                            </button>
                            <button id="status-í™˜ë¶ˆì²˜ë¦¬" class="status-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-red-600 border-b-2 border-transparent hover:border-red-600 transition-colors">
                                <i class="fas fa-undo mr-2"></i>í™˜ë¶ˆì²˜ë¦¬ <span class="ml-1 bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs" id="count-í™˜ë¶ˆì²˜ë¦¬">0</span>
                            </button>
                        </nav>
                    </div>
                </div>
                
                <!-- ì£¼ë¬¸ ëª©ë¡ -->
                <div class="p-6">
                    <div class="overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-3 py-3 text-center text-sm font-medium text-gray-500 w-12" title="ì „ì²´ ì„ íƒ">
                                        <input type="checkbox" id="select-all-orders" class="rounded text-green-600 focus:ring-green-500">
                                    </th>
                                    <th class="px-3 py-3 text-left text-sm font-medium text-gray-500 w-20 cursor-pointer hover:bg-gray-100" 
                                        onclick="orderSystem.sortOrders('order_date')" title="ì£¼ë¬¸ì¼ì ì •ë ¬">
                                        ì£¼ë¬¸ì¼ì <i class="fas fa-sort text-gray-400 ml-1"></i>
                                    </th>
                                    <th class="px-3 py-3 text-left text-sm font-medium text-gray-500 w-24 cursor-pointer hover:bg-gray-100" 
                                        onclick="orderSystem.sortOrders('order_number')" title="ì£¼ë¬¸ë²ˆí˜¸ ì •ë ¬">
                                        ì£¼ë¬¸ë²ˆí˜¸ <i class="fas fa-sort text-gray-400 ml-1"></i>
                                    </th>
                                    <th class="px-3 py-3 text-left text-sm font-medium text-gray-500 w-20 cursor-pointer hover:bg-gray-100" 
                                        onclick="orderSystem.sortOrders('customer_name')" title="ê³ ê°ëª… ì •ë ¬ (í´ë¦­ì‹œ ê³ ê° ìƒì„¸)">
                                        ê³ ê°ëª… <i class="fas fa-sort text-gray-400 ml-1"></i>
                                    </th>
                                    <th class="px-3 py-3 text-left text-sm font-medium text-gray-500 w-24">ì—°ë½ì²˜</th>

                                    <th class="px-3 py-3 text-left text-sm font-medium text-gray-500 w-20 cursor-pointer hover:bg-gray-100" 
                                        onclick="orderSystem.sortOrders('order_status')" title="ì£¼ë¬¸ìƒíƒœ ì •ë ¬">
                                        ì£¼ë¬¸ìƒíƒœ <i class="fas fa-sort text-gray-400 ml-1"></i>
                                    </th>
                                    <th class="px-3 py-3 text-center text-sm font-medium text-gray-500 w-16" title="ì£¼ë¬¸ì„œ ì¶œë ¥ ìƒíƒœ">
                                        <i class="fas fa-print"></i>
                                    </th>
                                    <th class="px-3 py-3 text-center text-sm font-medium text-gray-500 w-16" title="SMS ë°œì†¡ ìƒíƒœ">
                                        <i class="fas fa-comment-sms"></i>
                                    </th>
                                    <th class="px-3 py-3 text-center text-sm font-medium text-gray-500 w-20">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="orders-table-body" class="divide-y divide-gray-200">
                                <!-- ì£¼ë¬¸ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ê³ ê°ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="customers-section" class="tab-content hidden">
            <!-- Master-Detail ë ˆì´ì•„ì›ƒ: 40/60 ë¶„í•  -->
            <div class="flex h-screen bg-gray-50 gap-4">
                
                <!-- ì™¼ìª½ Master Panel: ê³ ê° ëª©ë¡ (40%) -->
                <div class="w-2/5 bg-white rounded-lg shadow-md flex flex-col">
                    <!-- í—¤ë” -->
                    <div class="p-4 border-b border-gray-200 flex-shrink-0">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-lg font-semibold text-gray-800">
                                <i class="fas fa-users mr-2 text-green-600"></i>ê³ ê° ëª©ë¡
                            </h2>
                            <button id="add-customer-btn" class="bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg transition-colors text-sm">
                                <i class="fas fa-user-plus mr-1"></i>ìƒˆ ê³ ê°
                            </button>
                        </div>
                        
                        <!-- ê²€ìƒ‰ ë°” ë° ì •ë ¬ -->
                        <div class="flex space-x-2">
                            <div class="flex-1 relative">
                                <input type="text" id="customer-search" placeholder="ê³ ê°ëª…, ì „í™”ë²ˆí˜¸ë¡œ ê²€ìƒ‰..." 
                                       class="w-full p-2 pr-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm"
                                       autocomplete="off">
                                <button id="add-customer-from-search" class="absolute right-1 top-1 px-2 py-1 bg-green-600 hover:bg-green-700 text-white rounded transition-colors hidden text-xs">
                                    <i class="fas fa-user-plus"></i>
                                </button>
                                <div id="customer-search-suggestions" class="absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-b-lg shadow-lg z-10 max-h-40 overflow-y-auto hidden">
                                    <!-- ê³ ê° ê²€ìƒ‰ ìë™ì™„ì„± ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                                </div>
                            </div>
                            
                            <!-- ê³ ê° ì •ë ¬ ë“œë¡­ë‹¤ìš´ -->
                            <select id="customer-sort" class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-green-500 focus:border-transparent bg-white">
                                <option value="newest">ìµœê·¼ ë“±ë¡ìˆœ</option>
                                <option value="name_asc">ê³ ê°ëª… ì˜¤ë¦„ì°¨ìˆœ (ã„±â†’ã…)</option>
                                <option value="name_desc">ê³ ê°ëª… ë‚´ë¦¼ì°¨ìˆœ (ã…â†’ã„±)</option>
                            </select>
                            
                            <button id="reset-customer-search" class="bg-gray-400 hover:bg-gray-500 text-white px-3 py-2 rounded-lg transition-colors text-sm">
                                <i class="fas fa-refresh"></i>
                            </button>
                        </div>
                        
                        <!-- ê³ ê° ë“±ê¸‰ë³„ í•„í„° íƒ­ (ì¶•ì•½í˜•) -->
                        <div class="mt-3 border-b border-gray-200">
                            <nav class="flex space-x-1 text-xs">
                                <button id="customer-grade-all" class="customer-tab-btn py-1 px-2 font-medium text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors active">
                                    ì „ì²´ <span class="ml-1 bg-gray-100 text-gray-600 px-1 py-0.5 rounded-full text-xs" id="customer-count-all">0</span>
                                </button>
                                <button id="customer-grade-BLACK_DIAMOND" class="customer-tab-btn py-1 px-2 font-medium text-gray-600 hover:text-gray-900 border-b-2 border-transparent hover:border-gray-900 transition-colors">
                                    ğŸ’ë¸”ë™ë‹¤ì´ì•„ëª¬ë“œ <span class="ml-1 bg-gray-100 text-gray-900 px-1 py-0.5 rounded-full text-xs" id="customer-count-BLACK_DIAMOND">0</span>
                                </button>
                                <button id="customer-grade-PURPLE_EMPEROR" class="customer-tab-btn py-1 px-2 font-medium text-gray-600 hover:text-purple-600 border-b-2 border-transparent hover:border-purple-600 transition-colors">
                                    ğŸŸ£í¼í”Œì— í˜ëŸ¬ <span class="ml-1 bg-purple-100 text-purple-600 px-1 py-0.5 rounded-full text-xs" id="customer-count-PURPLE_EMPEROR">0</span>
                                </button>
                                <button id="customer-grade-RED_RUBY" class="customer-tab-btn py-1 px-2 font-medium text-gray-600 hover:text-red-600 border-b-2 border-transparent hover:border-red-600 transition-colors">
                                    ğŸ”´ë ˆë“œë£¨ë¹„ <span class="ml-1 bg-red-100 text-red-600 px-1 py-0.5 rounded-full text-xs" id="customer-count-RED_RUBY">0</span>
                                </button>
                                <button id="customer-grade-GREEN_LEAF" class="customer-tab-btn py-1 px-2 font-medium text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors">
                                    ğŸŸ¢ê·¸ë¦°ë¦¬í”„ <span class="ml-1 bg-green-100 text-green-600 px-1 py-0.5 rounded-full text-xs" id="customer-count-GREEN_LEAF">0</span>
                                </button>
                                <button id="customer-grade-GENERAL" class="customer-tab-btn py-1 px-2 font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600 transition-colors">
                                    ğŸ™‹â€â™‚ï¸ì¼ë°˜ <span class="ml-1 bg-blue-100 text-blue-600 px-1 py-0.5 rounded-full text-xs" id="customer-count-GENERAL">0</span>
                                </button>
                            </nav>
                        </div>
                    </div>
                    
                    <!-- ê³ ê° ëª©ë¡ í…Œì´ë¸” (ìŠ¤í¬ë¡¤ ê°€ëŠ¥) -->
                    <div class="flex-1 overflow-y-auto">
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm">
                                <thead class="bg-gray-50 sticky top-0">
                                    <tr>
                                        <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ê³ ê°ëª…</th>
                                        <th class="px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì „í™”ë²ˆí˜¸</th>
                                        <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">ë“±ê¸‰</th>
                                        <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider">ê´€ë¦¬</th>
                                    </tr>
                                </thead>
                                <tbody id="customer-list-container" class="bg-white divide-y divide-gray-200">
                                    <!-- ê³ ê° ëª©ë¡ì´ í…Œì´ë¸” í˜•íƒœë¡œ í‘œì‹œ -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- ì˜¤ë¥¸ìª½ Detail Panel: ê³ ê° ìƒì„¸ì •ë³´ + ì£¼ë¬¸ë‚´ì—­ (60%) -->
                <div class="w-3/5 bg-white rounded-lg shadow-md flex flex-col">
                    <!-- ìƒì„¸ ì •ë³´ í—¤ë” -->
                    <div class="p-4 border-b border-gray-200 flex-shrink-0">
                        <div id="customer-detail-header" class="flex justify-between items-start">
                            <div id="customer-detail-empty" class="flex flex-col items-center justify-center w-full py-12 text-gray-500">
                                <i class="fas fa-user-circle text-6xl mb-4 text-gray-300"></i>
                                <h3 class="text-lg font-medium mb-2">ê³ ê°ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h3>
                                <p class="text-sm">ì™¼ìª½ ëª©ë¡ì—ì„œ ê³ ê°ì„ í´ë¦­í•˜ë©´ ìƒì„¸ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>
                            </div>
                            
                            <!-- ì´ ë¶€ë¶„ì€ ì´ì œ ìƒì„¸ ì •ë³´ ì˜ì—­ì—ì„œ ì²˜ë¦¬ë˜ë¯€ë¡œ ìˆ¨ê¹€ -->
                            <div id="customer-detail-content" class="w-full hidden">
                                <!-- ì´ ì˜ì—­ì€ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠìŒ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ìƒì„¸ ì •ë³´ ë‚´ìš© (ìŠ¤í¬ë¡¤ ê°€ëŠ¥) -->
                    <div class="flex-1 overflow-y-auto">
                        <div id="customer-detail-body" class="p-4">
                            <!-- ë¹ˆ ìƒíƒœ (ì„ íƒëœ ê³ ê° ì—†ìŒ) -->
                            <div id="customer-detail-info-empty" class="text-center py-12">
                                <i class="fas fa-arrow-left text-4xl text-gray-300 mb-4"></i>
                                <h3 class="text-lg font-medium text-gray-500 mb-2">ê³ ê°ì„ ì„ íƒí•´ì£¼ì„¸ìš”</h3>
                                <p class="text-sm text-gray-400">ì™¼ìª½ ëª©ë¡ì—ì„œ ê³ ê°ì„ í´ë¦­í•˜ë©´ ìƒì„¸ì •ë³´ê°€ í‘œì‹œë©ë‹ˆë‹¤</p>
                            </div>
                            
                            <!-- ì„ íƒëœ ê³ ê° ìƒì„¸ ì •ë³´ (ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€) -->
                            <div id="customer-detail-info" class="hidden space-y-3">
                                <!-- 1. ìµœìƒë‹¨: ê³ ê° ì‹ë³„ ì •ë³´ + ìˆ˜ì • ë²„íŠ¼ (ì••ì¶•) -->
                                <div class="flex items-start justify-between pb-2 border-b border-gray-200">
                                    <div class="flex items-center space-x-3">
                                        <div class="w-12 h-12 bg-green-100 rounded-full flex items-center justify-center">
                                            <i id="customer-detail-icon" class="fas fa-user text-lg text-green-600"></i>
                                        </div>
                                        <div>
                                            <h2 id="customer-detail-name" class="text-xl font-bold text-gray-900 mb-1">ê³ ê°ëª…</h2>
                                            <span id="customer-detail-grade" class="inline-flex items-center px-2 py-1 text-xs font-medium rounded-full bg-gray-100 text-gray-800">ë“±ê¸‰</span>
                                        </div>
                                    </div>
                                    <button id="edit-customer-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded-lg transition-colors text-sm">
                                        <i class="fas fa-edit mr-1"></i>ìˆ˜ì •
                                    </button>
                                </div>

                                <!-- 2. ë‘ ë²ˆì§¸: í•µì‹¬ ìš”ì•½ ì •ë³´ (ì£¼ë¬¸ í†µê³„) - ì••ì¶• -->
                                <div class="grid grid-cols-3 gap-3">
                                    <div class="bg-green-50 border border-green-200 rounded-lg p-2.5 text-center">
                                        <p id="detail-total-orders" class="text-2xl font-bold text-green-600 mb-0.5">0</p>
                                        <p class="text-xs font-medium text-green-700">ì´ ì£¼ë¬¸ìˆ˜</p>
                                    </div>
                                    <div class="bg-blue-50 border border-blue-200 rounded-lg p-2.5 text-center">
                                        <p id="detail-total-amount" class="text-2xl font-bold text-blue-600 mb-0.5">0ì›</p>
                                        <p class="text-xs font-medium text-blue-700">ì´ ì£¼ë¬¸ê¸ˆì•¡</p>
                                    </div>
                                    <div class="bg-purple-50 border border-purple-200 rounded-lg p-2.5 text-center">
                                        <p id="detail-avg-amount" class="text-2xl font-bold text-purple-600 mb-0.5">0ì›</p>
                                        <p class="text-xs font-medium text-purple-700">í‰ê·  ì£¼ë¬¸ê¸ˆì•¡</p>
                                    </div>
                                </div>

                                <!-- 3. ì„¸ ë²ˆì§¸: ê¸°ë³¸ ì—°ë½ ì •ë³´ - ì••ì¶• + ê°€ë¡œ ë°°ì¹˜ -->
                                <div class="bg-gray-50 rounded-lg p-3">
                                    <h3 class="text-base font-semibold text-gray-800 mb-2">
                                        <i class="fas fa-address-card text-gray-600 mr-1"></i>ì—°ë½ ì •ë³´
                                    </h3>
                                    <div class="space-y-2 text-sm">
                                        <!-- ì „í™”ë²ˆí˜¸ + ì´ë©”ì¼ (í•œ ì¤„ì— ë‚˜ë€íˆ) -->
                                        <div class="grid grid-cols-2 gap-3">
                                            <div>
                                                <span class="text-gray-600 font-medium">ğŸ“ ì „í™”ë²ˆí˜¸:</span>
                                                <p id="detail-phone" class="text-gray-900 font-medium">-</p>
                                            </div>
                                            <div>
                                                <span class="text-gray-600 font-medium">ğŸ“§ ì´ë©”ì¼:</span>
                                                <p id="detail-email" class="text-gray-900 font-medium">-</p>
                                            </div>
                                        </div>
                                        <!-- ì£¼ì†Œ -->
                                        <div>
                                            <span class="text-gray-600 font-medium">ğŸ  ì£¼ì†Œ:</span>
                                            <p id="detail-address" class="text-gray-900 font-medium">-</p>
                                        </div>
                                        <!-- ë©”ëª¨ (ì¶•ì†Œëœ ë†’ì´) -->
                                        <div>
                                            <span class="text-gray-600 font-medium">ğŸ“ ë©”ëª¨:</span>
                                            <div id="detail-memo" class="text-gray-900 font-medium max-h-12 overflow-y-auto bg-white rounded px-2 py-1 mt-1 border">-</div>
                                        </div>
                                        <!-- ë“±ë¡ì¼ -->
                                        <div>
                                            <span class="text-gray-600 font-medium">ğŸ“… ë“±ë¡ì¼:</span>
                                            <span id="detail-registration-date" class="text-gray-900 font-medium ml-2">-</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- 4. ë„¤ ë²ˆì§¸: ìƒì„¸ ì£¼ë¬¸ ë‚´ì—­ í…Œì´ë¸” (ì••ì¶•ëœ í—¤ë”) -->
                                <div class="bg-white border border-gray-200 rounded-lg">
                                    <div class="p-2.5 border-b border-gray-200">
                                        <h3 class="text-base font-semibold text-gray-800 flex items-center justify-between">
                                            <span>
                                                <i class="fas fa-shopping-cart text-orange-600 mr-1"></i>ì „ì²´ ì£¼ë¬¸ ë‚´ì—­
                                            </span>
                                            <span id="detail-orders-count" class="text-xs bg-orange-100 text-orange-700 px-2 py-1 rounded-full font-medium">ì´ 0ê±´</span>
                                        </h3>
                                    </div>
                                    <div class="overflow-x-auto">
                                        <div id="customer-orders-list" class="min-h-[200px]">
                                            <!-- ê³ ê°ì˜ ì£¼ë¬¸ ë‚´ì—­ í…Œì´ë¸”ì´ ì—¬ê¸°ì— í‘œì‹œ -->
                                            <div class="p-4 text-center text-gray-500">
                                                <i class="fas fa-shopping-cart text-3xl mb-2 text-gray-300"></i>
                                                <p class="font-medium">ì£¼ë¬¸ ë‚´ì—­ì´ ì—†ìŠµë‹ˆë‹¤</p>
                                                <p class="text-xs mt-1">ì²« ì£¼ë¬¸ì„ ê¸°ë‹¤ë¦¬ê³  ìˆì–´ìš”! ğŸŒ±</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ìƒí’ˆê´€ë¦¬ ì„¹ì…˜ -->
        <div id="products-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-md">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-gray-800">
                            <i class="fas fa-leaf mr-2 text-green-600"></i>ìƒí’ˆ ê´€ë¦¬
                        </h2>
                        <div class="flex space-x-2">
                            <button id="manage-categories-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-tags mr-2"></i>ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
                            </button>
                            <button id="print-labels-btn" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors hidden">
                                <i class="fas fa-print mr-2"></i>ë¼ë²¨ ì¸ì‡„ (<span id="selected-count">0</span>)
                            </button>
                            <button id="toggle-inline-product-form" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-edit mr-2"></i><span id="inline-form-toggle-text">ë¹ ë¥¸ ë“±ë¡</span>
                            </button>
                            <button id="add-product-btn" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-plus mr-2"></i>ìƒˆ ìƒí’ˆ ë“±ë¡
                            </button>
                        </div>
                    </div>
                    
                    <!-- ê²€ìƒ‰ ë° í•„í„° ë°” -->
                    <div class="flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-4">
                        <div class="flex-1 relative">
                            <input type="text" id="product-management-search" placeholder="ìƒí’ˆëª…, ì„¤ëª…ìœ¼ë¡œ ê²€ìƒ‰... (ìƒí’ˆê´€ë¦¬ ì „ìš©)" 
                                   class="w-full p-3 pr-12 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                   autocomplete="off">
                            <button id="add-product-from-search" class="absolute right-2 top-2 px-3 py-2 bg-green-600 hover:bg-green-700 text-white rounded transition-colors hidden">
                                <i class="fas fa-leaf"></i>
                            </button>
                            <div id="product-search-suggestions" class="absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-b-lg shadow-lg z-10 max-h-60 overflow-y-auto hidden">
                                <!-- ìƒí’ˆ ê²€ìƒ‰ ìë™ì™„ì„± ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </div>
                        </div>
                        <div class="w-full sm:w-40">
                            <select id="category-filter" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                                <!-- ì¹´í…Œê³ ë¦¬ ì˜µì…˜ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                            </select>
                        </div>
                        <div class="w-full sm:w-48">
                            <select id="product-sort" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                <option value="newest">ìµœê·¼ ë“±ë¡ìˆœ</option>
                                <option value="name_asc">ìƒí’ˆëª…: ì˜¤ë¦„ì°¨ìˆœ (ã„±â†’ã…)</option>
                                <option value="name_desc">ìƒí’ˆëª…: ë‚´ë¦¼ì°¨ìˆœ (ã…â†’ã„±)</option>
                            </select>
                        </div>
                        <button id="reset-product-search" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-refresh"></i>
                        </button>
                    </div>
                </div>

                <!-- ì¸ë¼ì¸ ìƒí’ˆ ë“±ë¡ ì•„ì½”ë””ì–¸ í¼ -->
                <div id="inline-product-form" class="hidden border-b border-gray-200 bg-gray-50">
                    <div class="p-6">
                        <div class="flex items-center mb-4">
                            <i class="fas fa-edit text-purple-600 text-xl mr-3"></i>
                            <h3 class="text-lg font-semibold text-gray-800">ë¹ ë¥¸ ìƒí’ˆ ë“±ë¡</h3>
                            <span class="ml-2 text-sm text-gray-500">(ê°„í¸ ì…ë ¥)</span>
                            <div class="ml-auto">
                                <button id="close-inline-form" class="text-gray-400 hover:text-gray-600 transition-colors">
                                    <i class="fas fa-times text-lg"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- 2ì»¬ëŸ¼ ì••ì¶• ë ˆì´ì•„ì›ƒ í¼ (8ê°œ í•µì‹¬ í•­ëª©ë§Œ) - ìµœëŒ€í•œ ì½¤íŒ©íŠ¸ -->
                        <form id="inline-product-form-element" class="grid grid-cols-1 md:grid-cols-2 gap-2">
                            <!-- ì²« ë²ˆì§¸ í–‰: ìƒí’ˆëª… + ì¹´í…Œê³ ë¦¬ -->
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-0.5">ìƒí’ˆëª… <span class="text-red-500">*</span></label>
                                <input type="text" id="inline-product-name" placeholder="ì˜ˆ: White Platter (ëŒ€)" required
                                       class="w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-green-500 focus:border-transparent text-sm">
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-0.5">ì¹´í…Œê³ ë¦¬ <span class="text-red-500">*</span></label>
                                <div class="flex space-x-1">
                                    <select id="inline-product-category" required
                                            class="flex-1 p-2 border border-gray-300 rounded focus:ring-1 focus:ring-green-500 focus:border-transparent text-sm">
                                        <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
                                        <!-- ì¹´í…Œê³ ë¦¬ ì˜µì…˜ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                                        <option value="__ADD_NEW__" class="text-blue-600 font-medium">+ ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€</option>
                                    </select>
                                    <button type="button" id="quick-add-category-inline" 
                                            class="px-2 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors text-sm"
                                            title="ìƒˆ ì¹´í…Œê³ ë¦¬ ë¹ ë¥¸ ì¶”ê°€">
                                        <i class="fas fa-plus"></i>
                                    </button>
                                </div>
                                
                                <!-- ìƒˆ ì¹´í…Œê³ ë¦¬ ì…ë ¥ í•„ë“œ (ìˆ¨ê¹€ ìƒíƒœ) - ì••ì¶•ë¨ -->
                                <div id="inline-new-category-input" class="hidden mt-1 p-2 bg-blue-50 border border-blue-200 rounded">
                                    <div class="flex items-center space-x-1 mb-1">
                                        <i class="fas fa-tag text-blue-600 text-xs"></i>
                                        <span class="text-xs font-medium text-blue-800">ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€</span>
                                    </div>
                                    <div class="grid grid-cols-1 gap-1">
                                        <input type="text" id="inline-quick-category-name" placeholder="ì¹´í…Œê³ ë¦¬ëª… (ì˜ˆ: ë‹¤ìœ¡ì‹ë¬¼)" 
                                               class="p-1.5 border border-blue-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-transparent">
                                        <select id="inline-quick-category-color" class="p-1.5 border border-blue-300 rounded text-xs focus:ring-1 focus:ring-blue-500 focus:border-transparent">
                                            <option value="bg-green-100 text-green-800">ğŸŸ¢ ì´ˆë¡ìƒ‰</option>
                                            <option value="bg-blue-100 text-blue-800">ğŸ”µ íŒŒë€ìƒ‰</option>
                                            <option value="bg-purple-100 text-purple-800">ğŸŸ£ ë³´ë¼ìƒ‰</option>
                                            <option value="bg-red-100 text-red-800">ğŸ”´ ë¹¨ê°„ìƒ‰</option>
                                            <option value="bg-yellow-100 text-yellow-800">ğŸŸ¡ ë…¸ë€ìƒ‰</option>
                                            <option value="bg-indigo-100 text-indigo-800">ğŸ”µ ë‚¨ìƒ‰</option>
                                            <option value="bg-pink-100 text-pink-800">ğŸ©· í•‘í¬ìƒ‰</option>
                                            <option value="bg-gray-100 text-gray-800">âš« íšŒìƒ‰</option>
                                        </select>
                                        <div class="flex space-x-1">
                                            <button type="button" id="save-inline-quick-category" 
                                                    class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded text-xs transition-colors">
                                                <i class="fas fa-check mr-1"></i>ì¶”ê°€í•˜ê³  ì„ íƒ
                                            </button>
                                            <button type="button" id="cancel-inline-quick-category" 
                                                    class="px-2 py-1 text-gray-600 hover:text-gray-800 border border-gray-300 rounded text-xs transition-colors">
                                                ì·¨ì†Œ
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- ë‘ ë²ˆì§¸ í–‰: íŒë§¤ê°€ + ë§¤ì…ê°€ -->
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-0.5">íŒë§¤ê°€ <span class="text-red-500">*</span></label>
                                <div class="relative">
                                    <input type="number" id="inline-product-price" placeholder="0" min="0" step="1000" required
                                           class="w-full p-2 pr-6 border border-gray-300 rounded focus:ring-1 focus:ring-green-500 focus:border-transparent text-sm">
                                    <span class="absolute right-2 top-2 text-gray-500 text-xs">ì›</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-0.5">ë§¤ì…ê°€</label>
                                <div class="relative">
                                    <input type="number" id="inline-product-wholesale-price" placeholder="0" min="0" step="1000"
                                           class="w-full p-2 pr-6 border border-gray-300 rounded focus:ring-1 focus:ring-green-500 focus:border-transparent text-sm">
                                    <span class="absolute right-2 top-2 text-gray-500 text-xs">ì›</span>
                                </div>
                            </div>

                            <!-- ì„¸ ë²ˆì§¸ í–‰: ì¬ê³ ìˆ˜ëŸ‰ + ì‚¬ì´ì¦ˆ -->
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-0.5">ì¬ê³ ìˆ˜ëŸ‰ <span class="text-red-500">*</span></label>
                                <div class="relative">
                                    <input type="number" id="inline-product-stock" placeholder="0" min="0" required
                                           class="w-full p-2 pr-6 border border-gray-300 rounded focus:ring-1 focus:ring-green-500 focus:border-transparent text-sm">
                                    <span class="absolute right-2 top-2 text-gray-500 text-xs">ê°œ</span>
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-medium text-gray-700 mb-0.5">ì‚¬ì´ì¦ˆ</label>
                                <select id="inline-product-size" 
                                        class="w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-green-500 focus:border-transparent text-sm">
                                    <option value="">ì‚¬ì´ì¦ˆ ì„ íƒ</option>
                                    <option value="SX">SX (ì´ˆì†Œí˜•)</option>
                                    <option value="S">S (ì†Œí˜•)</option>
                                    <option value="M">M (ì¤‘í˜•)</option>
                                    <option value="L">L (ëŒ€í˜•)</option>
                                    <option value="XL">XL (ì´ˆëŒ€í˜•)</option>
                                </select>
                            </div>

                            <!-- ë„¤ ë²ˆì§¸ í–‰: ë°°ì†¡ ì˜µì…˜ (ìƒì„¸ ì„¤ëª… í¬í•¨) -->
                            <div class="md:col-span-2">
                                <label class="block text-xs font-medium text-gray-700 mb-0.5">ë°°ì†¡ ì˜µì…˜ <span class="text-red-500">*</span></label>
                                <select id="inline-product-shipping" required
                                        class="w-full p-2 border border-gray-300 rounded focus:ring-1 focus:ring-green-500 focus:border-transparent text-sm">
                                    <option value="">ë°°ì†¡ ì˜µì…˜ ì„ íƒ</option>
                                    <option value="always_free">ë¬´ë£Œë°°ì†¡ (í–‰ì‚¬ìƒí’ˆ)</option>
                                    <option value="normal">ì¼ë°˜ë°°ì†¡ (ì¡°ê±´ë¶€ ë¬´ë£Œ)</option>
                                    <option value="included">ë°°ì†¡ë¹„í¬í•¨ (ë‹¨ë…ë°°ì†¡)</option>
                                    <option value="direct">ì§ì ‘ë°°ì†¡ (ë†ì¥ë°°ì†¡)</option>
                                </select>
                                <div class="text-xs text-gray-400 mt-0.5 space-y-0">
                                    <div>â€¢ <strong>ë¬´ë£Œë°°ì†¡</strong>: ê¸ˆì•¡ ê´€ê³„ì—†ì´ í•­ìƒ ë¬´ë£Œ (í–‰ì‚¬, ì´ë²¤íŠ¸ ìƒí’ˆ)</div>
                                    <div>â€¢ <strong>ì¼ë°˜ë°°ì†¡</strong>: 5ë§Œì› ì´ìƒ ë¬´ë£Œ, ë¯¸ë§Œ ì‹œ 4,000ì›</div>
                                    <div>â€¢ <strong>ë°°ì†¡ë¹„í¬í•¨</strong>: ìƒí’ˆ íŒë§¤ê°€ì— ë°°ì†¡ë¹„ í¬í•¨ë¨ (ìš©í† , í™”ë¶„ ë“±)</div>
                                    <div>â€¢ <strong>ì§ì ‘ë°°ì†¡</strong>: ë†ì¥ì—ì„œ ì§ì ‘ ë°°ì†¡ (íŠ¹ë³„ ê´€ë¦¬ í•„ìš” ìƒí’ˆ)</div>
                                </div>
                            </div>

                            <!-- ë²„íŠ¼ í–‰ - ìš°ì¸¡ í•˜ë‹¨ ì •ë ¬ -->
                            <div class="md:col-span-2 flex justify-end space-x-2 pt-2 border-t border-gray-200">
                                <button type="button" id="cancel-inline-product" 
                                        class="px-3 py-1.5 text-gray-600 hover:text-gray-800 border border-gray-300 rounded hover:bg-gray-50 transition-colors text-sm">
                                    ì·¨ì†Œ
                                </button>
                                <button type="submit" id="save-inline-product" 
                                        class="px-4 py-1.5 bg-green-600 hover:bg-green-700 text-white rounded transition-colors text-sm">
                                    <i class="fas fa-save mr-1"></i>ë¹ ë¥¸ ì €ì¥
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- ìƒí’ˆ ëª©ë¡ -->
                <div class="p-6">
                    <!-- í˜ì´ì§€ë„¤ì´ì…˜ ì»¨íŠ¸ë¡¤ -->
                    <div class="flex justify-between items-center mb-4">
                        <div class="flex items-center space-x-4">
                            <label class="text-sm text-gray-600">í˜ì´ì§€ë‹¹ í‘œì‹œ:</label>
                            <select id="products-per-page" class="border border-gray-300 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-green-500">
                                <option value="20">20ê°œ</option>
                                <option value="50">50ê°œ</option>
                                <option value="all">ì „ì²´</option>
                            </select>
                            <span id="products-count-info" class="text-sm text-gray-500"></span>
                        </div>
                        
                        <!-- í˜ì´ì§€ ë„¤ë¹„ê²Œì´ì…˜ -->
                        <div id="products-pagination" class="flex items-center space-x-2"></div>
                    </div>

                    <div class="overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500 w-12">
                                        <input type="checkbox" id="select-all-products" class="rounded text-green-600 focus:ring-green-500">
                                    </th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500">ë¼ë²¨ìˆ˜ëŸ‰</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500">ìƒí’ˆëª…</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500 hidden">ì¹´í…Œê³ ë¦¬</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500">ì‚¬ì´ì¦ˆ</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500">íŒë§¤ê°€</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500 hidden">ë§¤ì…ê°€</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500 hidden">ìˆ˜ìµë¥ </th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500 hidden">ë°°ì†¡</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500">ì¬ê³ </th>
                                    <th class="px-3 py-2 text-center text-sm font-medium text-gray-500">QRì½”ë“œ</th>
                                    <th class="px-3 py-2 text-center text-sm font-medium text-gray-500">ê´€ë¦¬</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500 hidden">ìƒíƒœ</th>
                                    <th class="px-3 py-2 text-left text-sm font-medium text-gray-500 hidden">ë“±ë¡ì¼</th>
                                </tr>
                            </thead>
                            <tbody id="products-table-body" class="divide-y divide-gray-200">
                                <!-- ìƒí’ˆ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ë°°ì†¡ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="shipping-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h2 class="text-xl font-semibold text-gray-800">
                            <i class="fas fa-truck mr-2 text-blue-600"></i>ë°°ì†¡ ê´€ë¦¬
                        </h2>
                        <div class="flex space-x-3">
                            <!-- ë°°ì†¡ ì¼ê´„ ì²˜ë¦¬ ë²„íŠ¼ë“¤ -->
                            <button id="bulk-ship-ready-btn" class="bg-orange-600 hover:bg-orange-700 text-white px-3 py-2 rounded-lg transition-colors hidden text-sm">
                                <i class="fas fa-box mr-1"></i>ë°°ì†¡ì¤€ë¹„ë¡œ ë³€ê²½
                            </button>
                            <button id="bulk-status-change-shipping-btn" class="bg-green-600 hover:bg-green-700 text-white px-3 py-2 rounded-lg transition-colors hidden text-sm">
                                <i class="fas fa-edit mr-1"></i>ì„ íƒ ì£¼ë¬¸ ìƒíƒœë³€ê²½
                            </button>
                            <button id="bulk-export-shipping-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors hidden">
                                <i class="fas fa-file-excel mr-2"></i>ğŸ“¦ ë¡œì  íƒë°° ì—‘ì…€ë³€í™˜
                            </button>
                            <button id="bulk-tracking-shipping-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-barcode mr-2"></i>ğŸ“ ì†¡ì¥ë²ˆí˜¸ ì…ë ¥
                            </button>
                            <button id="quick-export-all-btn" class="bg-emerald-600 hover:bg-emerald-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-download mr-2"></i>ğŸš€ ì „ì²´ ì—‘ì…€ë³€í™˜
                            </button>
                        </div>
                    </div>
                    
                    <!-- ë°°ì†¡ ìƒíƒœë³„ í•„í„° íƒ­ -->
                    <div class="mt-4 border-b border-gray-200">
                        <nav class="flex space-x-1">
                            <button id="shipping-status-all" class="shipping-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600 transition-colors active">
                                <i class="fas fa-list mr-2"></i>ì „ì²´ <span class="ml-1 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="shipping-count-all">0</span>
                            </button>
                            <button id="shipping-status-ì…ê¸ˆí™•ì¸" class="shipping-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors">
                                <i class="fas fa-money-check mr-2"></i>ì…ê¸ˆí™•ì¸ <span class="ml-1 bg-green-100 text-green-600 px-2 py-1 rounded-full text-xs" id="shipping-count-ì…ê¸ˆí™•ì¸">0</span>
                            </button>
                            <button id="shipping-status-ë°°ì†¡ì¤€ë¹„" class="shipping-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-orange-600 border-b-2 border-transparent hover:border-orange-600 transition-colors">
                                <i class="fas fa-box mr-2"></i>ë°°ì†¡ì¤€ë¹„ <span class="ml-1 bg-orange-100 text-orange-600 px-2 py-1 rounded-full text-xs" id="shipping-count-ë°°ì†¡ì¤€ë¹„">0</span>
                            </button>
                            <button id="shipping-status-ë°°ì†¡ì‹œì‘" class="shipping-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-purple-600 border-b-2 border-transparent hover:border-purple-600 transition-colors">
                                <i class="fas fa-truck mr-2"></i>ë°°ì†¡ì‹œì‘ <span class="ml-1 bg-purple-100 text-purple-600 px-2 py-1 rounded-full text-xs" id="shipping-count-ë°°ì†¡ì‹œì‘">0</span>
                            </button>
                            <button id="shipping-status-ë°°ì†¡ì™„ë£Œ" class="shipping-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-emerald-600 border-b-2 border-transparent hover:border-emerald-600 transition-colors">
                                <i class="fas fa-check-circle mr-2"></i>ë°°ì†¡ì™„ë£Œ <span class="ml-1 bg-emerald-100 text-emerald-600 px-2 py-1 rounded-full text-xs" id="shipping-count-ë°°ì†¡ì™„ë£Œ">0</span>
                            </button>
                        </nav>
                    </div>
                </div>
                
                <!-- ë°°ì†¡ í†µê³„ ëŒ€ì‹œë³´ë“œ -->
                <div class="p-6 border-b border-gray-200 bg-gray-50">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center">
                                <div class="p-2 bg-orange-100 rounded-lg">
                                    <i class="fas fa-box text-orange-600"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-gray-600">ë°°ì†¡ì¤€ë¹„</p>
                                    <p id="pack-ready-count" class="text-xl font-bold text-orange-600">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center">
                                <div class="p-2 bg-blue-100 rounded-lg">
                                    <i class="fas fa-truck text-blue-600"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-gray-600">ë°°ì†¡ì‹œì‘</p>
                                    <p id="shipping-count" class="text-xl font-bold text-blue-600">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center">
                                <div class="p-2 bg-green-100 rounded-lg">
                                    <i class="fas fa-check-circle text-green-600"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-gray-600">ë°°ì†¡ì™„ë£Œ</p>
                                    <p id="delivered-count" class="text-xl font-bold text-green-600">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white p-4 rounded-lg shadow-sm border">
                            <div class="flex items-center">
                                <div class="p-2 bg-purple-100 rounded-lg">
                                    <i class="fas fa-calendar text-purple-600"></i>
                                </div>
                                <div class="ml-3">
                                    <p class="text-sm font-medium text-gray-600">ì˜¤ëŠ˜ ë°°ì†¡</p>
                                    <p id="today-shipping-count" class="text-xl font-bold text-purple-600">0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ì†¡ì¥ë²ˆí˜¸ ê²€ìƒ‰ -->
                <div class="p-6 border-b border-gray-200">
                    <div class="flex space-x-3">
                        <div class="flex-1">
                            <input type="text" id="tracking-search" placeholder="ì†¡ì¥ë²ˆí˜¸ë¡œ ì£¼ë¬¸ ê²€ìƒ‰..." 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                        </div>
                        <button id="tracking-search-btn" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors">
                            <i class="fas fa-search mr-2"></i>ê²€ìƒ‰
                        </button>
                        <button id="clear-tracking-search" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                </div>
                
                <!-- ë°°ì†¡ ëª©ë¡ -->
                <div class="p-6">
                    <div class="overflow-x-auto">
                        <table class="w-full table-auto">
                            <thead>
                                <tr class="bg-gray-50">
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">
                                        <input type="checkbox" id="select-all-shipping" class="rounded text-blue-600 focus:ring-blue-500">
                                    </th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ì£¼ë¬¸ë²ˆí˜¸</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ì£¼ë¬¸ì¼ì</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ê³ ê°ëª…</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ì „í™”ë²ˆí˜¸</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ë°°ì†¡ì£¼ì†Œ</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ìƒí’ˆ</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ì†¡ì¥ë²ˆí˜¸</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ìƒíƒœ</th>
                                    <th class="px-4 py-3 text-left text-sm font-medium text-gray-500">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="shipping-table-body" class="divide-y divide-gray-200">
                                <!-- ë°°ì†¡ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ëŒ€ê¸°ìê´€ë¦¬ ì„¹ì…˜ -->
        <div id="waitlist-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-md">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-gray-800">
                            <i class="fas fa-clock mr-2 text-orange-600"></i>ëŒ€ê¸°ì ê´€ë¦¬
                            <span class="text-sm text-gray-500 ml-2">ìƒí’ˆ ì…ê³  ì‹œ ì—°ë½í•  ê³ ê°ë“¤</span>
                        </h2>
                        <div class="flex gap-2">
                            <button id="add-waitlist-btn" class="bg-orange-600 hover:bg-orange-700 text-white px-4 py-2 rounded-lg transition-colors">
                                <i class="fas fa-user-clock mr-2"></i>ìƒˆ ëŒ€ê¸°ì ë“±ë¡
                            </button>
                            <button onclick="orderSystem.emergencyWaitlistRecovery()" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg transition-colors" title="ëŒ€ê¸°ì ë°ì´í„° ë³µêµ¬">
                                <i class="fas fa-ambulance mr-2"></i>ë°ì´í„° ë³µêµ¬
                            </button>
                        </div>
                    </div>
                    
                    <!-- ëŒ€ê¸°ì í†µê³„ -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                        <div class="bg-orange-50 p-4 rounded-lg border border-orange-200">
                            <div class="flex items-center">
                                <i class="fas fa-clock text-orange-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-sm text-orange-700">ëŒ€ê¸°ì¤‘</p>
                                    <p id="waiting-count" class="text-xl font-bold text-orange-800">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <div class="flex items-center">
                                <i class="fas fa-phone text-blue-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-sm text-blue-700">ì—°ë½ì™„ë£Œ</p>
                                    <p id="contacted-count" class="text-xl font-bold text-blue-800">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <div class="flex items-center">
                                <i class="fas fa-shopping-cart text-green-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-sm text-green-700">ì£¼ë¬¸ì „í™˜</p>
                                    <p id="converted-count" class="text-xl font-bold text-green-800">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-red-50 p-4 rounded-lg border border-red-200">
                            <div class="flex items-center">
                                <i class="fas fa-times-circle text-red-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-sm text-red-700">ì·¨ì†Œ</p>
                                    <p id="cancelled-count" class="text-xl font-bold text-red-800">0</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ëŒ€ê¸°ì ìƒíƒœë³„ í•„í„° íƒ­ -->
                    <div class="mb-4 border-b border-gray-200">
                        <nav class="flex space-x-1">
                            <button id="waitlist-status-all" class="waitlist-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-orange-600 border-b-2 border-transparent hover:border-orange-600 transition-colors active">
                                <i class="fas fa-list mr-2"></i>ì „ì²´ <span class="ml-1 bg-gray-100 text-gray-600 px-2 py-1 rounded-full text-xs" id="waitlist-count-all">0</span>
                            </button>
                            <button id="waitlist-status-ëŒ€ê¸°ì¤‘" class="waitlist-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-orange-600 border-b-2 border-transparent hover:border-orange-600 transition-colors">
                                <i class="fas fa-clock mr-2"></i>ëŒ€ê¸°ì¤‘ <span class="ml-1 bg-orange-100 text-orange-600 px-2 py-1 rounded-full text-xs" id="waitlist-count-ëŒ€ê¸°ì¤‘">0</span>
                            </button>
                            <button id="waitlist-status-ì—°ë½ì™„ë£Œ" class="waitlist-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-blue-600 border-b-2 border-transparent hover:border-blue-600 transition-colors">
                                <i class="fas fa-phone mr-2"></i>ì—°ë½ì™„ë£Œ <span class="ml-1 bg-blue-100 text-blue-600 px-2 py-1 rounded-full text-xs" id="waitlist-count-ì—°ë½ì™„ë£Œ">0</span>
                            </button>
                            <button id="waitlist-status-ì£¼ë¬¸ì „í™˜" class="waitlist-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-green-600 border-b-2 border-transparent hover:border-green-600 transition-colors">
                                <i class="fas fa-shopping-cart mr-2"></i>ì£¼ë¬¸ì „í™˜ <span class="ml-1 bg-green-100 text-green-600 px-2 py-1 rounded-full text-xs" id="waitlist-count-ì£¼ë¬¸ì „í™˜">0</span>
                            </button>
                            <button id="waitlist-status-ì·¨ì†Œ" class="waitlist-tab-btn py-2 px-4 text-sm font-medium text-gray-600 hover:text-red-600 border-b-2 border-transparent hover:border-red-600 transition-colors">
                                <i class="fas fa-times-circle mr-2"></i>ì·¨ì†Œ <span class="ml-1 bg-red-100 text-red-600 px-2 py-1 rounded-full text-xs" id="waitlist-count-ì·¨ì†Œ">0</span>
                            </button>
                        </nav>
                    </div>

                    <!-- ê²€ìƒ‰ ë°” -->
                    <div class="flex space-x-4">
                        <div class="flex-1">
                            <input type="text" id="waitlist-search" placeholder="ê³ ê°ëª…, ì „í™”ë²ˆí˜¸, ìƒí’ˆëª…ìœ¼ë¡œ ê²€ìƒ‰..." 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        </div>
                        <button id="reset-waitlist-search" class="bg-gray-400 hover:bg-gray-500 text-white px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-refresh"></i>
                        </button>
                    </div>
                </div>
                
                <!-- ëŒ€ê¸°ì ëª©ë¡ -->
                <div id="waitlist-table-container" class="p-6">
                    <!-- ëŒ€ê¸°ì í…Œì´ë¸”ì´ JavaScriptë¡œ ë™ì  ë Œë”ë§ë©ë‹ˆë‹¤ -->
                </div>
            </div>
        </div>

        <!-- íŒë§¤ ì±„ë„ ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="channels-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-md">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-xl font-semibold text-gray-800">
                            <i class="fas fa-store mr-2 text-purple-600"></i>íŒë§¤ ì±„ë„ ê´€ë¦¬
                            <span class="text-sm text-gray-500 ml-2">ì£¼ë¬¸ ì¶œì²˜ ë§ˆìŠ¤í„° ë°ì´í„° ê´€ë¦¬</span>
                        </h2>
                        <button id="add-channel-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-plus mr-2"></i>ìƒˆ ì±„ë„ ì¶”ê°€
                        </button>
                    </div>
                    
                    <!-- ì±„ë„ í†µê³„ -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <div class="bg-purple-50 p-4 rounded-lg border border-purple-200">
                            <div class="flex items-center">
                                <i class="fas fa-store text-purple-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-purple-600 text-sm font-medium">ì „ì²´ ì±„ë„</p>
                                    <p class="text-2xl font-bold text-purple-700" id="total-channels-count">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200">
                            <div class="flex items-center">
                                <i class="fas fa-check-circle text-green-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-green-600 text-sm font-medium">í™œì„± ì±„ë„</p>
                                    <p class="text-2xl font-bold text-green-700" id="active-channels-count">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                            <div class="flex items-center">
                                <i class="fas fa-chart-line text-blue-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-blue-600 text-sm font-medium">ì´ë²ˆ ë‹¬ ì£¼ë¬¸</p>
                                    <p class="text-2xl font-bold text-blue-700" id="monthly-orders-count">0</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg border border-orange-200">
                            <div class="flex items-center">
                                <i class="fas fa-won-sign text-orange-600 text-2xl mr-3"></i>
                                <div>
                                    <p class="text-orange-600 text-sm font-medium">ì´ë²ˆ ë‹¬ ë§¤ì¶œ</p>
                                    <p class="text-2xl font-bold text-orange-700" id="monthly-revenue">0ì›</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ì±„ë„ ëª©ë¡ í…Œì´ë¸” -->
                <div class="p-6">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì±„ë„ëª…</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì„¤ëª…</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ìƒíƒœ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì£¼ë¬¸ ìˆ˜</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì´ ë§¤ì¶œ</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ê´€ë¦¬</th>
                                </tr>
                            </thead>
                            <tbody id="channels-table-body" class="bg-white divide-y divide-gray-200">
                                <!-- ì±„ë„ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="order-status-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <!-- í—¤ë” -->
                <div class="border-b border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-tasks mr-2 text-purple-600"></i>
                            <h2 class="text-xl font-semibold text-gray-800">ì£¼ë¬¸ ìƒíƒœ ê´€ë¦¬</h2>
                        </div>
                        <button id="add-status-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center">
                            <i class="fas fa-plus mr-2"></i>ìƒˆ ìƒíƒœ ì¶”ê°€
                        </button>
                    </div>
                    <p class="text-gray-600 mt-2">ì£¼ë¬¸ ì²˜ë¦¬ ê³¼ì •ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  ì„¤ì •í•©ë‹ˆë‹¤.</p>
                </div>

                <!-- ì£¼ë¬¸ ìƒíƒœ ëª©ë¡ í…Œì´ë¸” -->
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ìˆœì„œ</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ìƒíƒœëª…</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ìƒ‰ìƒ</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì„¤ëª…</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì‚¬ìš©</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="order-status-table-body" class="bg-white divide-y divide-gray-200">
                            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  ìƒíƒœ ëª©ë¡ -->
                        </tbody>
                    </table>
                </div>

                <!-- ì£¼ë¬¸ ìƒíƒœ í†µê³„ -->
                <div class="border-t border-gray-200 p-6">
                    <h3 class="text-lg font-medium text-gray-800 mb-4">ìƒíƒœë³„ ì£¼ë¬¸ í˜„í™©</h3>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4" id="status-stats-container">
                        <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  í†µê³„ ì¹´ë“œ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ë°°ì†¡ë¹„ ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="shipping-settings-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <!-- í—¤ë” -->
                <div class="border-b border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-truck mr-2 text-purple-600"></i>
                            <h2 class="text-xl font-semibold text-gray-800">ë°°ì†¡ë¹„ ê´€ë¦¬</h2>
                        </div>
                        <button id="add-shipping-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center">
                            <i class="fas fa-plus mr-2"></i>ìƒˆ ë°°ì†¡ë¹„ ê·œì¹™ ì¶”ê°€
                        </button>
                    </div>
                    <p class="text-gray-600 mt-2">ë°°ì†¡ë¹„ ì •ì±…ì„ ê´€ë¦¬í•˜ê³  ì„¤ì •í•©ë‹ˆë‹¤.</p>
                </div>

                <!-- ë°°ì†¡ë¹„ ê·œì¹™ ëª©ë¡ -->
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ê·œì¹™ëª…</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì¡°ê±´</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ë°°ì†¡ë¹„</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì ìš©</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="shipping-table-body" class="bg-white divide-y divide-gray-200">
                            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  ë°°ì†¡ë¹„ ê·œì¹™ ëª©ë¡ -->
                        </tbody>
                    </table>
                </div>

                <!-- ê¸°ë³¸ ë°°ì†¡ë¹„ ì„¤ì • -->
                <div class="border-t border-gray-200 p-6">
                    <h3 class="text-lg font-medium text-gray-800 mb-4">ê¸°ë³¸ ë°°ì†¡ë¹„ ì„¤ì •</h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <label class="block text-sm font-medium text-gray-700 mb-2">ê¸°ë³¸ ë°°ì†¡ë¹„</label>
                            <div class="flex items-center">
                                <input type="number" id="default-shipping-fee" class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm" placeholder="4000">
                                <span class="ml-2 text-sm text-gray-600">ì›</span>
                            </div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <label class="block text-sm font-medium text-gray-700 mb-2">ë¬´ë£Œë°°ì†¡ ê¸°ì¤€</label>
                            <div class="flex items-center">
                                <input type="number" id="free-shipping-threshold" class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm" placeholder="50000">
                                <span class="ml-2 text-sm text-gray-600">ì› ì´ìƒ</span>
                            </div>
                        </div>
                        <div class="bg-gray-50 p-4 rounded-lg">
                            <label class="block text-sm font-medium text-gray-700 mb-2">ì œì£¼/ë„ì„œì‚°ê°„ ì¶”ê°€ë¹„</label>
                            <div class="flex items-center">
                                <input type="number" id="remote-shipping-fee" class="flex-1 border border-gray-300 rounded-lg px-3 py-2 text-sm" placeholder="3000">
                                <span class="ml-2 text-sm text-gray-600">ì›</span>
                            </div>
                        </div>
                    </div>
                    <button id="save-shipping-settings" class="mt-4 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        <i class="fas fa-save mr-2"></i>ì„¤ì • ì €ì¥
                    </button>
                </div>
            </div>
        </div>

        <!-- ê³ ê°ë“±ê¸‰ ê´€ë¦¬ ì„¹ì…˜ -->
        <div id="customer-grade-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-sm border border-gray-200">
                <!-- í—¤ë” -->
                <div class="border-b border-gray-200 p-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <i class="fas fa-crown mr-2 text-purple-600"></i>
                            <h2 class="text-xl font-semibold text-gray-800">ê³ ê°ë“±ê¸‰ ê´€ë¦¬</h2>
                        </div>
                        <button id="add-grade-btn" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center">
                            <i class="fas fa-plus mr-2"></i>ìƒˆ ë“±ê¸‰ ì¶”ê°€
                        </button>
                    </div>
                    <p class="text-gray-600 mt-2">ê³ ê° ë“±ê¸‰ê³¼ í˜œíƒì„ ê´€ë¦¬í•˜ê³  ì„¤ì •í•©ë‹ˆë‹¤.</p>
                </div>

                <!-- ê³ ê°ë“±ê¸‰ ëª©ë¡ -->
                <div class="overflow-x-auto">
                    <table class="w-full">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ë“±ê¸‰</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì•„ì´ì½˜</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ì¡°ê±´</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">í˜œíƒ</th>
                                <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ê´€ë¦¬</th>
                            </tr>
                        </thead>
                        <tbody id="customer-grade-table-body" class="bg-white divide-y divide-gray-200">
                            <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  ê³ ê°ë“±ê¸‰ ëª©ë¡ -->
                        </tbody>
                    </table>
                </div>

                <!-- ë“±ê¸‰ë³„ í˜œíƒ ì„¤ì • -->
                <div class="border-t border-gray-200 p-6">
                    <h3 class="text-lg font-medium text-gray-800 mb-4">ë“±ê¸‰ë³„ í˜œíƒ ì„¤ì •</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-4">
                            <h4 class="font-medium text-gray-700">í• ì¸ í˜œíƒ</h4>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">VIP í• ì¸ìœ¨</span>
                                    <div class="flex items-center">
                                        <input type="number" id="vip-discount" class="w-20 border border-gray-300 rounded px-2 py-1 text-sm" placeholder="10">
                                        <span class="ml-1 text-sm text-gray-600">%</span>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-gray-600">Gë“±ê¸‰ í• ì¸ìœ¨</span>
                                    <div class="flex items-center">
                                        <input type="number" id="g-discount" class="w-20 border border-gray-300 rounded px-2 py-1 text-sm" placeholder="5">
                                        <span class="ml-1 text-sm text-gray-600">%</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <h4 class="font-medium text-gray-700">ê¸°íƒ€ í˜œíƒ</h4>
                            <div class="space-y-3">
                                <label class="flex items-center">
                                    <input type="checkbox" id="vip-free-shipping" class="mr-2">
                                    <span class="text-sm text-gray-600">VIP ë¬´ë£Œë°°ì†¡</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" id="g-free-shipping" class="mr-2">
                                    <span class="text-sm text-gray-600">Gë“±ê¸‰ ë¬´ë£Œë°°ì†¡</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" id="early-access" class="mr-2">
                                    <span class="text-sm text-gray-600">ì‹ ìƒí’ˆ ìš°ì„  êµ¬ë§¤</span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <button id="save-grade-settings" class="mt-4 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors">
                        <i class="fas fa-save mr-2"></i>ì„¤ì • ì €ì¥
                    </button>
                </div>
            </div>
        </div>

        <!-- ê²½ì˜ ëŒ€ì‹œë³´ë“œ ì„¹ì…˜ -->
        <div id="analytics-section" class="tab-content hidden">
            <!-- ëŒ€ì‹œë³´ë“œ í—¤ë” -->
            <div class="mb-6">
                <div class="flex items-center justify-between">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900 flex items-center">
                            <i class="fas fa-chart-line text-blue-600 mr-3"></i>
                            ê²½ì˜ ëŒ€ì‹œë³´ë“œ
                        </h1>
                        <p class="text-gray-600 mt-1">ê²½ì‚°ë‹¤ìœ¡ë†ì¥ì˜ ë§¤ì¶œ í˜„í™©ê³¼ í•µì‹¬ ì§€í‘œë¥¼ í•œëˆˆì— í™•ì¸í•˜ì„¸ìš”</p>
                    </div>
                    <div class="flex items-center space-x-3">
                        <select id="dashboard-period" class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            <option value="7">ìµœê·¼ 7ì¼</option>
                            <option value="30" selected>ìµœê·¼ 30ì¼</option>
                            <option value="90">ìµœê·¼ 90ì¼</option>
                        </select>
                        <button id="refresh-analytics" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors text-sm">
                            <i class="fas fa-sync-alt mr-2"></i>ìƒˆë¡œê³ ì¹¨
                        </button>
                    </div>
                </div>
            </div>

            <!-- ë§¤ì¶œ í˜„í™© ì„¹ì…˜ -->
            <div class="bg-white rounded-lg shadow-md mb-6">
                <div class="p-6 border-b border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800 flex items-center">
                        <i class="fas fa-won-sign text-blue-600 mr-2"></i>ë§¤ì¶œ í˜„í™©
                    </h2>
                </div>
                <div class="p-6">
                    <!-- í•µì‹¬ ìš”ì•½ ì¹´ë“œ -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
                        <!-- ì´ ë§¤ì¶œì•¡ ì¹´ë“œ -->
                        <div class="bg-gradient-to-br from-green-50 to-green-100 border border-green-200 rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-green-600 uppercase tracking-wide">ì´ ë§¤ì¶œì•¡</p>
                                    <p class="text-2xl font-bold text-green-700 mt-2" id="total-revenue">0ì›</p>
                                </div>
                                <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center">
                                    <i class="fas fa-won-sign text-white text-lg"></i>
                                </div>
                            </div>
                        </div>

                        <!-- ì´ ì£¼ë¬¸ ê±´ìˆ˜ ì¹´ë“œ -->
                        <div class="bg-gradient-to-br from-blue-50 to-blue-100 border border-blue-200 rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-blue-600 uppercase tracking-wide">ì´ ì£¼ë¬¸ ê±´ìˆ˜</p>
                                    <p class="text-2xl font-bold text-blue-700 mt-2" id="total-orders">0ê±´</p>
                                </div>
                                <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center">
                                    <i class="fas fa-shopping-cart text-white text-lg"></i>
                                </div>
                            </div>
                        </div>

                        <!-- ì´ íŒë§¤ëœ ìƒí’ˆ ìˆ˜ ì¹´ë“œ -->
                        <div class="bg-gradient-to-br from-purple-50 to-purple-100 border border-purple-200 rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-purple-600 uppercase tracking-wide">ì´ íŒë§¤ëœ ìƒí’ˆ ìˆ˜</p>
                                    <p class="text-2xl font-bold text-purple-700 mt-2" id="total-products-sold">0ê°œ</p>
                                </div>
                                <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center">
                                    <i class="fas fa-leaf text-white text-lg"></i>
                                </div>
                            </div>
                        </div>

                        <!-- ê°ë‹¨ê°€ ì¹´ë“œ -->
                        <div class="bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-lg p-6">
                            <div class="flex items-center justify-between">
                                <div>
                                    <p class="text-sm font-medium text-orange-600 uppercase tracking-wide">ê°ë‹¨ê°€</p>
                                    <p class="text-2xl font-bold text-orange-700 mt-2" id="average-order-value">0ì›</p>
                                </div>
                                <div class="w-12 h-12 bg-orange-500 rounded-full flex items-center justify-center">
                                    <i class="fas fa-calculator text-white text-lg"></i>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ë§¤ì¶œ ì¶”ì´ ê·¸ë˜í”„ -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <div class="bg-gray-50 rounded-lg p-4">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-lg font-medium text-gray-800">ë§¤ì¶œ ì¶”ì´</h3>
                                <div class="flex space-x-2">
                                    <button class="sales-period-btn px-3 py-1 text-sm rounded-full bg-blue-100 text-blue-700 font-medium" data-period="daily">ì¼ë³„</button>
                                    <button class="sales-period-btn px-3 py-1 text-sm rounded-full text-gray-600 hover:bg-gray-100" data-period="weekly">ì£¼ë³„</button>
                                    <button class="sales-period-btn px-3 py-1 text-sm rounded-full text-gray-600 hover:bg-gray-100" data-period="monthly">ì›”ë³„</button>
                                </div>
                            </div>
                            <div class="h-64 flex items-center justify-center">
                                <canvas id="sales-trend-chart" class="w-full h-full"></canvas>
                            </div>
                        </div>
                        
                        <!-- íŒë§¤ ì±„ë„ ë¹„ì¤‘ -->
                        <div class="bg-gray-50 rounded-lg p-4">
                            <h3 class="text-lg font-medium text-gray-800 mb-4">íŒë§¤ ì±„ë„ ë¹„ì¤‘</h3>
                            <div class="h-64 flex items-center justify-center">
                                <canvas id="sales-channel-chart" class="w-full h-full"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ìƒí’ˆ ë° ê³ ê° ë¶„ì„ ì„¹ì…˜ -->
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                <!-- ì£¼ê°„ ë² ìŠ¤íŠ¸ì…€ëŸ¬ TOP 5 -->
                <div class="bg-white rounded-lg shadow-md">
                    <div class="p-6 border-b border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                            <i class="fas fa-trophy text-yellow-500 mr-2"></i>ì£¼ê°„ ë² ìŠ¤íŠ¸ì…€ëŸ¬ TOP 5
                        </h3>
                    </div>
                    <div class="p-6">
                        <div id="weekly-bestseller-list" class="space-y-3">
                            <!-- ë² ìŠ¤íŠ¸ì…€ëŸ¬ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>

                <!-- VIP ê³ ê° ìˆœìœ„ TOP 10 -->
                <div class="bg-white rounded-lg shadow-md">
                    <div class="p-6 border-b border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                            <i class="fas fa-crown text-purple-500 mr-2"></i>VIP ê³ ê° ìˆœìœ„ TOP 10
                        </h3>
                    </div>
                    <div class="p-6">
                        <div id="vip-customer-list" class="space-y-2">
                            <!-- VIP ê³ ê° ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>

                <!-- ì‹ ê·œ/ì¬êµ¬ë§¤ ê³ ê° ë¶„ì„ -->
                <div class="bg-white rounded-lg shadow-md">
                    <div class="p-6 border-b border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-800 flex items-center">
                            <i class="fas fa-users text-blue-500 mr-2"></i>ì‹ ê·œ/ì¬êµ¬ë§¤ ê³ ê° ë¶„ì„
                        </h3>
                        <p class="text-sm text-gray-600 mt-1">ìµœê·¼ 30ì¼ ê¸°ì¤€</p>
                    </div>
                    <div class="p-6">
                        <div class="h-48 flex items-center justify-center mb-4">
                            <canvas id="customer-analysis-chart" class="w-full h-full"></canvas>
                        </div>
                        <div class="grid grid-cols-2 gap-4 text-center">
                            <div>
                                <p class="text-sm text-gray-600">ì‹ ê·œ ê³ ê°</p>
                                <p class="text-xl font-bold text-green-600" id="new-customer-count">0ëª…</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">ì¬êµ¬ë§¤ ê³ ê°</p>
                                <p class="text-xl font-bold text-blue-600" id="returning-customer-count">0ëª…</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ë°ì´í„° ë°±ì—… ì„¹ì…˜ -->
        <div id="backup-section" class="tab-content hidden">
            <div class="bg-white rounded-lg shadow-md">
                <div class="p-6 border-b border-gray-200">
                    <h2 class="text-xl font-semibold text-gray-800">
                        <i class="fas fa-shield-alt mr-2 text-orange-600"></i>ë°ì´í„° ë°±ì—… ê´€ë¦¬
                        <span class="text-sm text-gray-500 ml-2">ì†Œì¤‘í•œ ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ë³´ê´€í•˜ì„¸ìš”</span>
                    </h2>
                </div>

                <!-- ê¸´ê¸‰ ë°±ì—… ì¹´ë“œ -->
                <div class="p-6 border-b border-gray-200">
                    <div class="bg-gradient-to-r from-orange-500 to-red-500 rounded-lg shadow-lg p-6 text-center">
                        <h3 class="text-2xl font-bold text-white mb-4">
                            <i class="fas fa-exclamation-triangle mr-2"></i>ğŸš¨ ê¸´ê¸‰ ë°ì´í„° ë°±ì—…
                        </h3>
                        <p class="text-orange-100 mb-6">ëª¨ë“  ë°ì´í„°ë¥¼ ì•ˆì „í•˜ê²Œ ì»´í“¨í„°ì— ì €ì¥í•©ë‹ˆë‹¤</p>
                        <button id="emergency-backup-main" class="bg-white hover:bg-gray-100 text-orange-600 font-bold px-8 py-4 rounded-lg text-lg transition-colors shadow-lg">
                            <i class="fas fa-download mr-2"></i>ğŸ’¾ ì§€ê¸ˆ ì¦‰ì‹œ ë°±ì—…í•˜ê¸°
                        </button>
                    </div>
                </div>

                <!-- ì•± ìºì‹œ ê°•ì œ ê°±ì‹  ì¹´ë“œ -->
                <div class="p-6 border-b border-gray-200">
                    <div class="bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg shadow-lg p-6 text-center">
                        <h3 class="text-2xl font-bold text-white mb-4">
                            <i class="fas fa-sync-alt mr-2"></i>ğŸ”„ ì•± ê°•ì œ ì—…ë°ì´íŠ¸
                        </h3>
                        <p class="text-blue-100 mb-6">ì•±ì´ ì œëŒ€ë¡œ ì‘ë™í•˜ì§€ ì•Šì„ ë•Œ ì‚¬ìš©í•˜ì„¸ìš” (ìºì‹œ ì™„ì „ ì‚­ì œ)</p>
                        <button id="force-app-update" class="bg-white hover:bg-gray-100 text-blue-600 font-bold px-8 py-4 rounded-lg text-lg transition-colors shadow-lg">
                            <i class="fas fa-refresh mr-2"></i>ğŸš€ ì•± ê°•ì œ ì—…ë°ì´íŠ¸í•˜ê¸°
                        </button>
                    </div>
                </div>

                <!-- ë°±ì—… í†µê³„ -->
                <div class="p-6 border-b border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">
                        <i class="fas fa-chart-bar mr-2"></i>í˜„ì¬ ì €ì¥ëœ ë°ì´í„° í˜„í™©
                    </h3>
                    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200 text-center">
                            <i class="fas fa-users text-blue-600 text-2xl mb-2"></i>
                            <p class="text-sm text-blue-700 font-medium">ê³ ê°</p>
                            <p id="backup-customers-count" class="text-xl font-bold text-blue-600">-</p>
                        </div>
                        <div class="bg-green-50 p-4 rounded-lg border border-green-200 text-center">
                            <i class="fas fa-shopping-cart text-green-600 text-2xl mb-2"></i>
                            <p class="text-sm text-green-700 font-medium">ì£¼ë¬¸</p>
                            <p id="backup-orders-count" class="text-xl font-bold text-green-600">-</p>
                        </div>
                        <div class="bg-purple-50 p-4 rounded-lg border border-purple-200 text-center">
                            <i class="fas fa-leaf text-purple-600 text-2xl mb-2"></i>
                            <p class="text-sm text-purple-700 font-medium">ìƒí’ˆ</p>
                            <p id="backup-products-count" class="text-xl font-bold text-purple-600">-</p>
                        </div>
                        <div class="bg-indigo-50 p-4 rounded-lg border border-indigo-200 text-center">
                            <i class="fas fa-tags text-indigo-600 text-2xl mb-2"></i>
                            <p class="text-sm text-indigo-700 font-medium">ì¹´í…Œê³ ë¦¬</p>
                            <p id="backup-categories-count" class="text-xl font-bold text-indigo-600">-</p>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg border border-yellow-200 text-center">
                            <i class="fas fa-store text-yellow-600 text-2xl mb-2"></i>
                            <p class="text-sm text-yellow-700 font-medium">ì£¼ë¬¸ì¶œì²˜</p>
                            <p id="backup-sources-count" class="text-xl font-bold text-yellow-600">-</p>
                        </div>
                        <div class="bg-orange-50 p-4 rounded-lg border border-orange-200 text-center">
                            <i class="fas fa-clock text-orange-600 text-2xl mb-2"></i>
                            <p class="text-sm text-orange-700 font-medium">ëŒ€ê¸°ì</p>
                            <p id="backup-waitlist-count" class="text-xl font-bold text-orange-600">-</p>
                        </div>
                    </div>
                </div>

                <!-- ë°ì´í„° ë³µêµ¬ ì„¹ì…˜ -->
                <div class="p-6 border-b border-gray-200 bg-blue-50">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">
                        <i class="fas fa-upload mr-2 text-blue-600"></i>ë°ì´í„° ë³µêµ¬ (ë°±ì—… íŒŒì¼ì—ì„œ ë³µì›)
                    </h3>
                    <div class="bg-white p-4 rounded-lg border border-blue-200">
                        <div class="flex items-center justify-between mb-4">
                            <div>
                                <h4 class="font-medium text-gray-800">ë°±ì—… íŒŒì¼ ì—…ë¡œë“œ</h4>
                                <p class="text-sm text-gray-600">ì´ì „ì— ë‹¤ìš´ë¡œë“œí•œ JSON ë°±ì—… íŒŒì¼ì„ ì„ íƒí•˜ì—¬ ë°ì´í„°ë¥¼ ë³µêµ¬í•˜ì„¸ìš”</p>
                            </div>
                            <div class="flex space-x-2">
                                <input type="file" id="backup-restore-input" accept=".json" class="hidden">
                                <button id="select-backup-file" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                                    <i class="fas fa-folder-open mr-2"></i>íŒŒì¼ ì„ íƒ
                                </button>
                                <button id="restore-backup-data" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors" disabled>
                                    <i class="fas fa-upload mr-2"></i>ë³µêµ¬ ì‹œì‘
                                </button>
                            </div>
                        </div>
                        
                        <!-- ì„ íƒëœ íŒŒì¼ ì •ë³´ -->
                        <div id="selected-file-info" class="hidden bg-gray-50 p-3 rounded-lg">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <i class="fas fa-file-code text-blue-600 mr-2"></i>
                                    <div>
                                        <p id="selected-file-name" class="font-medium text-gray-800"></p>
                                        <p id="selected-file-details" class="text-sm text-gray-600"></p>
                                    </div>
                                </div>
                                <button id="clear-selected-file" class="text-red-600 hover:text-red-800 text-sm">
                                    <i class="fas fa-times mr-1"></i>ì œê±°
                                </button>
                            </div>
                        </div>
                        
                        <!-- ë°±ì—… íŒŒì¼ ë¯¸ë¦¬ë³´ê¸° -->
                        <div id="backup-preview" class="hidden mt-4">
                            <h5 class="font-medium text-gray-700 mb-2">ë°±ì—… íŒŒì¼ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°:</h5>
                            <div class="bg-gray-100 p-3 rounded text-sm max-h-32 overflow-y-auto">
                                <div id="backup-preview-content">
                                    <!-- ë°±ì—… íŒŒì¼ ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- ë³µêµ¬ ì˜µì…˜ -->
                        <div id="restore-options" class="hidden mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg">
                            <h5 class="font-medium text-yellow-800 mb-2">
                                <i class="fas fa-exclamation-triangle mr-2"></i>ë³µêµ¬ ì˜µì…˜
                            </h5>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="restore-mode" value="replace" class="mr-2" checked>
                                    <span class="text-sm text-yellow-700">
                                        <strong>ì „ì²´ êµì²´</strong> - ê¸°ì¡´ ë°ì´í„°ë¥¼ ëª¨ë‘ ì‚­ì œí•˜ê³  ë°±ì—…ìœ¼ë¡œ êµì²´
                                    </span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="restore-mode" value="merge" class="mr-2">
                                    <span class="text-sm text-yellow-700">
                                        <strong>ë³‘í•© ëª¨ë“œ</strong> - ê¸°ì¡´ ë°ì´í„°ì— ë°±ì—… ë°ì´í„°ë¥¼ ì¶”ê°€ (ì¤‘ë³µ ë°©ì§€)
                                    </span>
                                </label>
                                <label class="flex items-center">
                                    <input type="checkbox" id="backup-current-before-restore" class="mr-2" checked>
                                    <span class="text-sm text-yellow-700">
                                        <strong>ë³µêµ¬ ì „ í˜„ì¬ ë°ì´í„° ìë™ ë°±ì—…</strong> (ì•ˆì „ì¥ì¹˜)
                                    </span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ë°±ì—… ë°©ë²•ë“¤ -->
                <div class="p-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">
                        <i class="fas fa-tools mr-2"></i>ë°±ì—… ë°©ë²• ì„ íƒ
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div class="bg-gray-50 p-6 rounded-lg border border-gray-200">
                            <div class="text-center mb-4">
                                <i class="fas fa-file-code text-gray-600 text-3xl mb-2"></i>
                                <h4 class="font-semibold text-gray-800">JSON ë°±ì—…</h4>
                                <p class="text-sm text-gray-600">ëª¨ë“  ë°ì´í„°ë¥¼ JSON íŒŒì¼ë¡œ ì €ì¥</p>
                            </div>
                            <button id="json-backup-btn" class="w-full bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors">
                                <i class="fas fa-download mr-2"></i>JSON ë°±ì—…
                            </button>
                        </div>
                        
                        <div class="bg-green-50 p-6 rounded-lg border border-green-200">
                            <div class="text-center mb-4">
                                <i class="fas fa-file-excel text-green-600 text-3xl mb-2"></i>
                                <h4 class="font-semibold text-gray-800">Excel ë°±ì—…</h4>
                                <p class="text-sm text-gray-600">ì£¼ë¬¸ ë°ì´í„°ë¥¼ Excelë¡œ ë‚´ë³´ë‚´ê¸°</p>
                            </div>
                            <button id="excel-backup-btn" class="w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg transition-colors">
                                <i class="fas fa-table mr-2"></i>Excel ë°±ì—…
                            </button>
                        </div>
                        
                        <div class="bg-blue-50 p-6 rounded-lg border border-blue-200">
                            <div class="text-center mb-4">
                                <i class="fas fa-sync text-blue-600 text-3xl mb-2"></i>
                                <h4 class="font-semibold text-gray-800">API ë™ê¸°í™”</h4>
                                <p class="text-sm text-gray-600">ì„œë²„ì™€ ë°ì´í„° ë™ê¸°í™”</p>
                            </div>
                            <button id="api-sync-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg transition-colors mb-2">
                                <i class="fas fa-cloud-upload-alt mr-2"></i>API ë™ê¸°í™”
                            </button>
                            <button id="browser-sync-btn" class="w-full bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg transition-colors mb-2">
                                <i class="fas fa-browser mr-2"></i>ë¸Œë¼ìš°ì € ë™ê¸°í™”
                            </button>
                            <button id="smart-sync-btn" class="w-full bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg transition-colors">
                                <i class="fas fa-brain mr-2"></i>ìŠ¤ë§ˆíŠ¸ ë™ê¸°í™”
                            </button>
                        </div>
                    </div>
                </div>

                <!-- ë°±ì—… ê°€ì´ë“œ -->
                <div class="p-6 bg-yellow-50 border-t border-yellow-200">
                    <h3 class="text-lg font-semibold text-yellow-800 mb-4">
                        <i class="fas fa-lightbulb mr-2"></i>ë°±ì—… ê°€ì´ë“œ
                    </h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <h4 class="font-medium text-yellow-800 mb-2">ğŸ’¾ ê¶Œì¥ ë°±ì—… ì£¼ê¸°</h4>
                            <ul class="text-sm text-yellow-700 space-y-1">
                                <li>â€¢ <strong>ë§¤ì¼</strong>: ì¤‘ìš” ì‘ì—… í›„ JSON ë°±ì—…</li>
                                <li>â€¢ <strong>ë§¤ì£¼</strong>: ì „ì²´ ë°ì´í„° Excel ë°±ì—…</li>
                                <li>â€¢ <strong>ë§¤ì›”</strong>: ì¥ê¸° ë³´ê´€ìš© ë°±ì—…</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-medium text-yellow-800 mb-2">ğŸ›¡ï¸ ì•ˆì „í•œ ë³´ê´€ ë°©ë²•</h4>
                            <ul class="text-sm text-yellow-700 space-y-1">
                                <li>â€¢ êµ¬ê¸€ ë“œë¼ì´ë¸Œì— ì—…ë¡œë“œ</li>
                                <li>â€¢ USB ë©”ëª¨ë¦¬ì— ë³µì‚¬</li>
                                <li>â€¢ ì´ë©”ì¼ë¡œ ìì‹ ì—ê²Œ ë°œì†¡</li>
                                <li>â€¢ ì—¬ëŸ¬ ì¥ì†Œì— ë¶„ì‚° ë³´ê´€</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ì£¼ë¬¸ ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="order-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-y-auto">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 id="modal-title" class="text-lg font-semibold text-gray-800">ìƒˆ ì£¼ë¬¸ ë“±ë¡</h3>
                        <button id="close-modal" onclick="orderSystem.closeOrderModal()" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <form id="order-form" class="p-6">
                    <!-- ì£¼ë¬¸ í¼ ë‚´ìš©ì´ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤ -->
                </form>
            </div>
        </div>
    </div>

    <!-- ë¬¸ì ë‚´ìš© ëª¨ë‹¬ -->
    <div id="sms-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-lg">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800">ë¬¸ì ë‚´ìš©</h3>
                        <button id="close-sms-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6">
                    <textarea id="sms-content" class="w-full h-32 p-3 border border-gray-300 rounded-lg resize-none" readonly></textarea>
                    <div class="mt-4 flex gap-2">
                        <button id="copy-sms" class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-copy mr-2"></i>ë³µì‚¬í•˜ê¸°
                        </button>
                        <button id="send-sms" class="flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                            <i class="fas fa-paper-plane mr-2"></i>ì†”ë¼í”¼ ë°œì†¡
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì†¡ì¥ë²ˆí˜¸ ì¼ê´„ì…ë ¥ ëª¨ë‹¬ -->
    <div id="tracking-import-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800">
                            <i class="fas fa-barcode mr-2 text-orange-600"></i>ì†¡ì¥ë²ˆí˜¸ ì¼ê´„ì…ë ¥
                        </h3>
                        <button id="close-tracking-import-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6">
                    <!-- ì—…ë¡œë“œ ë°©ì‹ ì„ íƒ -->
                    <div class="mb-4">
                        <div class="flex space-x-4 mb-4">
                            <button id="upload-method-manual" class="flex-1 py-2 px-4 text-sm font-medium text-center text-blue-600 bg-blue-50 border border-blue-200 rounded-lg hover:bg-blue-100 focus:ring-2 focus:ring-blue-500 active">
                                <i class="fas fa-keyboard mr-2"></i>ì§ì ‘ ì…ë ¥
                            </button>
                            <button id="upload-method-excel" class="flex-1 py-2 px-4 text-sm font-medium text-center text-gray-600 bg-gray-50 border border-gray-200 rounded-lg hover:bg-gray-100 focus:ring-2 focus:ring-gray-500">
                                <i class="fas fa-file-excel mr-2"></i>ì—‘ì…€ ì—…ë¡œë“œ
                            </button>
                        </div>
                    </div>

                    <!-- ì§ì ‘ ì…ë ¥ ë°©ì‹ -->
                    <div id="manual-input-section">
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-3">
                                ğŸ’¡ ë¡œì  íƒë°°ì—ì„œ ë°œê¸‰ë°›ì€ ì†¡ì¥ë²ˆí˜¸ë¥¼ ì£¼ë¬¸ë²ˆí˜¸ì™€ í•¨ê»˜ ì…ë ¥í•´ì£¼ì„¸ìš”.
                            </p>
                            <div class="bg-blue-50 p-4 rounded-lg mb-4">
                                <h4 class="font-medium text-blue-800 mb-2">ì…ë ¥ í˜•ì‹ ì˜ˆì‹œ:</h4>
                                <div class="text-sm text-blue-700 font-mono">
                                    KS20241201001,1234567890123<br>
                                    KS20241201002,1234567890124<br>
                                    KS20241201003,1234567890125
                                </div>
                            </div>
                        </div>
                        <textarea id="tracking-import-text" class="w-full h-32 p-3 border border-gray-300 rounded-lg resize-none" 
                                  placeholder="ì£¼ë¬¸ë²ˆí˜¸,ì†¡ì¥ë²ˆí˜¸ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•˜ì„¸ìš” (í•œ ì¤„ì— í•˜ë‚˜ì”©)"></textarea>
                    </div>

                    <!-- ì—‘ì…€ ì—…ë¡œë“œ ë°©ì‹ -->
                    <div id="excel-upload-section" class="hidden">
                        <div class="mb-4">
                            <p class="text-sm text-gray-600 mb-3">
                                ğŸ“Š ì—‘ì…€ íŒŒì¼ì„ ì—…ë¡œë“œí•˜ì—¬ ì†¡ì¥ë²ˆí˜¸ë¥¼ ì¼ê´„ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            </p>
                            <div class="bg-green-50 p-4 rounded-lg mb-4">
                                <h4 class="font-medium text-green-800 mb-2">ì—‘ì…€ íŒŒì¼ í˜•ì‹ ìš”êµ¬ì‚¬í•­:</h4>
                                <div class="text-sm text-green-700">
                                    â€¢ <strong>Aì—´:</strong> ì£¼ë¬¸ë²ˆí˜¸ (ì˜ˆ: KS20241201001)<br>
                                    â€¢ <strong>Bì—´:</strong> ì†¡ì¥ë²ˆí˜¸ (ì˜ˆ: 1234567890123)<br>
                                    â€¢ <strong>ì²« ë²ˆì§¸ í–‰:</strong> ì œëª© í–‰ (ìë™ ì œì™¸ë¨)
                                </div>
                            </div>
                        </div>
                        
                        <!-- íŒŒì¼ ì—…ë¡œë“œ ì˜ì—­ -->
                        <div class="border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-green-500 transition-colors">
                            <input type="file" id="tracking-excel-input" accept=".xlsx,.xls" class="hidden">
                            <div id="upload-area-content">
                                <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                                <p class="text-gray-600 mb-2">ì—‘ì…€ íŒŒì¼ì„ ì„ íƒí•˜ê±°ë‚˜ ë“œë˜ê·¸í•˜ì—¬ ì—…ë¡œë“œí•˜ì„¸ìš”</p>
                                <button type="button" onclick="document.getElementById('tracking-excel-input').click()" 
                                        class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors">
                                    <i class="fas fa-folder-open mr-2"></i>íŒŒì¼ ì„ íƒ
                                </button>
                                <p class="text-xs text-gray-500 mt-2">ì§€ì› í˜•ì‹: .xlsx, .xls</p>
                            </div>
                            <div id="upload-file-info" class="hidden">
                                <i class="fas fa-file-excel text-4xl text-green-600 mb-2"></i>
                                <p id="upload-file-name" class="text-sm font-medium text-gray-700"></p>
                                <p id="upload-file-size" class="text-xs text-gray-500"></p>
                                <button type="button" onclick="orderSystem.clearUploadedFile()" 
                                        class="text-red-600 hover:text-red-800 text-xs mt-2">
                                    <i class="fas fa-times mr-1"></i>íŒŒì¼ ì œê±°
                                </button>
                            </div>
                        </div>
                        
                        <!-- ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ -->
                        <div id="excel-preview-area" class="hidden mt-4">
                            <h4 class="font-medium text-gray-700 mb-2">ğŸ“‹ ë¯¸ë¦¬ë³´ê¸° (ì²˜ìŒ 5í–‰)</h4>
                            <div class="bg-gray-50 p-3 rounded-lg">
                                <table id="excel-preview-table" class="w-full text-sm">
                                    <thead>
                                        <tr class="bg-gray-100">
                                            <th class="px-3 py-2 text-left">ì£¼ë¬¸ë²ˆí˜¸</th>
                                            <th class="px-3 py-2 text-left">ì†¡ì¥ë²ˆí˜¸</th>
                                        </tr>
                                    </thead>
                                    <tbody id="excel-preview-tbody">
                                        <!-- ë¯¸ë¦¬ë³´ê¸° ë°ì´í„°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="flex space-x-3 mt-4">
                        <button id="import-tracking-numbers" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg transition-colors flex-1">
                            <i class="fas fa-upload mr-2"></i><span id="import-button-text">ì†¡ì¥ë²ˆí˜¸ ì¼ê´„ ì ìš©</span>
                        </button>
                        <button id="close-tracking-import-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ì·¨ì†Œ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì—‘ì…€ ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
    <div id="excel-preview-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-screen overflow-y-auto">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800">
                            <i class="fas fa-file-excel mr-2 text-green-600"></i>ë¡œì  íƒë°° ì—‘ì…€ ë¯¸ë¦¬ë³´ê¸°
                        </h3>
                        <button id="close-excel-preview-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                <div class="p-6">
                    <div class="mb-4">
                        <div class="bg-blue-50 p-4 rounded-lg mb-4">
                            <h4 class="font-medium text-blue-800 mb-2">ğŸ“Š ì—‘ì…€ íŒŒì¼ ì •ë³´</h4>
                            <div id="excel-info" class="text-sm text-blue-700">
                                <!-- ì—‘ì…€ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </div>
                        </div>
                    </div>
                    
                    <!-- ì—‘ì…€ ë¯¸ë¦¬ë³´ê¸° í…Œì´ë¸” -->
                    <div class="overflow-x-auto border border-gray-200 rounded-lg">
                        <table class="w-full text-xs">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium bg-blue-50"><span class="text-blue-600 font-bold">A</span><br><small class="text-blue-600">ì£¼ë¬¸ë²ˆí˜¸ ğŸ†•</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">B<br><small>ë°›ëŠ”ë¶„</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">C<br><small>ê³µë€</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">D<br><small>ë°›ëŠ”ë¶„ ì£¼ì†Œ</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">E<br><small>ë°›ëŠ”ë¶„ ì „í™”</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">F<br><small>ê³µë€</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">G<br><small>ìˆ˜ëŸ‰</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">H<br><small>ìš´ì„</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">I<br><small>ê³µë€</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">J<br><small>ìƒí’ˆëª…</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">K<br><small>ê³µë€</small></th>
                                    <th class="px-2 py-2 text-left text-gray-600 font-medium">L<br><small>ë°°ì†¡ë©”ëª¨</small></th>
                                </tr>
                            </thead>
                            <tbody id="excel-preview-body" class="divide-y divide-gray-200">
                                <!-- ë¯¸ë¦¬ë³´ê¸° ë°ì´í„°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="flex justify-between items-center mt-6">
                        <div class="text-sm text-gray-600">
                            ğŸ’¡ ìœ„ ë‚´ìš©ì´ ì—‘ì…€ íŒŒì¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤
                        </div>
                        <div class="flex space-x-3">
                            <button id="cancel-excel-export" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                                ì·¨ì†Œ
                            </button>
                            <button id="confirm-excel-export" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors">
                                <i class="fas fa-download mr-2"></i>ì—‘ì…€ íŒŒì¼ ìƒì„±
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ê³ ê° ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="customer-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl">
                <div class="p-4 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 id="customer-modal-title" class="text-lg font-semibold text-gray-800">ìƒˆ ê³ ê° ë“±ë¡</h3>
                        <button id="close-customer-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <form id="customer-form" class="p-4">
                    <div class="space-y-4">
                        <!-- ê³ ê°ëª… + ì „í™”ë²ˆí˜¸ (í•œ ì¤„ì— ë‚˜ë€íˆ) -->
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    <i class="fas fa-user text-green-600 mr-1"></i>ê³ ê°ëª… <span class="text-red-500">*</span>
                                </label>
                                <input type="text" id="customer-form-name" placeholder="ê³ ê°ëª…ì„ ì…ë ¥í•˜ì„¸ìš”" required
                                       class="w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    <i class="fas fa-phone text-green-600 mr-1"></i>ì „í™”ë²ˆí˜¸ <span class="text-red-500">*</span>
                                </label>
                                <input type="tel" id="customer-form-phone" placeholder="010-1234-5678" required
                                       class="w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm">
                            </div>
                        </div>

                        <!-- ì£¼ì†Œ + ì´ë©”ì¼ (í•œ ì¤„ì— ë‚˜ë€íˆ) -->
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    <i class="fas fa-map-marker-alt text-green-600 mr-1"></i>ì£¼ì†Œ
                                </label>
                                <div class="flex gap-2">
                                    <input type="text" id="customer-form-address" placeholder="ì£¼ì†Œë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”" readonly
                                           class="flex-1 p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm bg-gray-50">
                                    <button type="button" id="customer-form-address-search" 
                                            class="px-4 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors text-sm font-medium">
                                        <i class="fas fa-search mr-1"></i>ì£¼ì†Œê²€ìƒ‰
                                    </button>
                                </div>
                                <input type="text" id="customer-form-address-detail" placeholder="ìƒì„¸ì£¼ì†Œë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                                       class="w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm mt-2">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    <i class="fas fa-envelope text-green-600 mr-1"></i>ì´ë©”ì¼
                                </label>
                                <input type="email" id="customer-form-email" placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
                                       class="w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm">
                            </div>
                        </div>

                        <!-- ê³ ê°ë“±ê¸‰ + ë“±ë¡ì¼ (í•œ ì¤„ì— ë‚˜ë€íˆ) -->
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    <i class="fas fa-star text-green-600 mr-1"></i>ê³ ê°ë“±ê¸‰
                                </label>
                                <select id="customer-form-grade" class="w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm">
                                    <option value="GENERAL">ğŸ™‹â€â™‚ï¸ ì¼ë°˜</option>
                                    <option value="GREEN_LEAF">ğŸŸ¢ ê·¸ë¦° ë¦¬í”„</option>
                                    <option value="RED_RUBY">ğŸ”´ ë ˆë“œ ë£¨ë¹„</option>
                                    <option value="PURPLE_EMPEROR">ğŸŸ£ í¼í”Œ ì— í˜ëŸ¬</option>
                                    <option value="BLACK_DIAMOND">ğŸ’ ë¸”ë™ ë‹¤ì´ì•„ëª¬ë“œ</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">
                                    <i class="fas fa-calendar text-green-600 mr-1"></i>ë“±ë¡ì¼
                                </label>
                                <input type="date" id="customer-form-registration-date" 
                                       class="w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent text-sm">
                            </div>
                        </div>

                        <!-- ë©”ëª¨ (ì „ì²´ ë„ˆë¹„) -->
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">
                                <i class="fas fa-sticky-note text-green-600 mr-1"></i>ë©”ëª¨
                            </label>
                            <textarea id="customer-form-memo" rows="2" placeholder="ê³ ê° ê´€ë ¨ ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                                      class="w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none text-sm"></textarea>
                        </div>
                    </div>

                    <div class="mt-4 flex justify-end space-x-3 pt-3 border-t">
                        <button type="button" onclick="orderSystem.closeCustomerModal()" 
                                class="px-4 py-2 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-sm">
                            ì·¨ì†Œ
                        </button>
                        <button type="button" onclick="orderSystem.saveCustomer()" 
                                class="px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors text-sm">
                            ì €ì¥
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ê³ ê° ì£¼ë¬¸ì´ë ¥ ëª¨ë‹¬ -->
    <div id="customer-orders-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-screen overflow-hidden">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 id="customer-orders-title" class="text-xl font-bold text-gray-800">ê³ ê° ì£¼ë¬¸ì´ë ¥</h3>
                            <p id="customer-orders-subtitle" class="text-sm text-gray-600 mt-1">ëª¨ë“  ì£¼ë¬¸ ë°ì´í„°ê°€ ì‹œê°„ìˆœìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤</p>
                        </div>
                        <div class="flex items-center space-x-4">
                            <!-- ë³´ê¸° ëª¨ë“œ í† ê¸€ ë²„íŠ¼ -->
                            <div class="flex bg-gray-100 rounded-lg p-1">
                                <button id="view-card-btn" class="px-3 py-2 text-sm font-medium rounded-md transition-colors bg-blue-600 text-white" onclick="orderSystem.setOrderHistoryView('card')">
                                    <i class="fas fa-th-large mr-1"></i>ì¹´ë“œ
                                </button>
                                <button id="view-table-btn" class="px-3 py-2 text-sm font-medium rounded-md transition-colors text-gray-600 hover:text-gray-800" onclick="orderSystem.setOrderHistoryView('table')">
                                    <i class="fas fa-table mr-1"></i>í‘œ
                                </button>
                            </div>
                            <button id="close-customer-orders-modal" class="text-gray-400 hover:text-gray-600">
                                <i class="fas fa-times text-2xl"></i>
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="flex h-96">
                    <!-- ì™¼ìª½: ê³ ê° ì •ë³´ ë° í†µê³„ -->
                    <div class="w-1/3 bg-gray-50 p-6 border-r">
                        <div id="customer-summary" class="space-y-4">
                            <!-- ê³ ê° ìš”ì•½ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <!-- ì˜¤ë¥¸ìª½: ì£¼ë¬¸ ì´ë ¥ ëª©ë¡ -->
                    <div class="flex-1 overflow-y-auto">
                        <div id="customer-orders-content" class="p-6">
                            <!-- ì£¼ë¬¸ì´ë ¥ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ìƒí’ˆ ì„ íƒ ëª¨ë‹¬ (ì£¼ë¬¸ê´€ë¦¬ìš©) -->
    <div id="product-list-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-4xl max-h-screen overflow-hidden">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800">
                            <i class="fas fa-leaf mr-2 text-green-600"></i>ìƒí’ˆ ëª©ë¡ì—ì„œ ì„ íƒ
                        </h3>
                        <button id="close-product-list-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- ìƒí’ˆ ê²€ìƒ‰ -->
                    <div class="mt-4 flex space-x-4">
                        <div class="flex-1">
                            <input type="text" id="product-list-search" placeholder="ìƒí’ˆëª…ìœ¼ë¡œ ë¹ ë¥¸ ê²€ìƒ‰..." 
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>
                        <div class="w-40">
                            <select id="product-list-category" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                <option value="">ì „ì²´ ì¹´í…Œê³ ë¦¬</option>
                                <!-- ì¹´í…Œê³ ë¦¬ ì˜µì…˜ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                            </select>
                        </div>
                        <button onclick="orderSystem.filterProductList()" class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-3 rounded-lg transition-colors">
                            <i class="fas fa-search"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-6 max-h-96 overflow-y-auto">
                    <div id="product-list-container">
                        <!-- ìƒí’ˆ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
                
                <div class="p-6 border-t border-gray-200 bg-gray-50">
                    <div class="flex justify-between items-center">
                        <p class="text-sm text-gray-600">
                            <i class="fas fa-info-circle mr-1"></i>
                            ìƒí’ˆì„ í´ë¦­í•˜ì—¬ ì£¼ë¬¸ì— ì¶”ê°€í•˜ê±°ë‚˜, ì§ì ‘ ì…ë ¥ë„ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                        </p>
                        <button onclick="orderSystem.closeProductListModal()" 
                                class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors font-medium">
                            <i class="fas fa-check mr-2"></i>ì„ íƒ ì™„ë£Œ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì¹´í…Œê³ ë¦¬ ê´€ë¦¬ ëª¨ë‹¬ -->
    <div id="category-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-screen overflow-y-auto">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 class="text-lg font-semibold text-gray-800">
                            <i class="fas fa-tags mr-2 text-blue-600"></i>ì¹´í…Œê³ ë¦¬ ê´€ë¦¬
                        </h3>
                        <button id="close-category-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <div class="p-6">
                    <!-- ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€ -->
                    <div class="mb-6 bg-gray-50 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 mb-3">ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">ì¹´í…Œê³ ë¦¬ëª…</label>
                                <input type="text" id="new-category-name" placeholder="ì˜ˆ: ëŒ€í˜•ì¢…" 
                                       class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">ìƒ‰ìƒ</label>
                                <select id="new-category-color" class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <option value="bg-purple-100 text-purple-800">ë³´ë¼ìƒ‰</option>
                                    <option value="bg-green-100 text-green-800">ì´ˆë¡ìƒ‰</option>
                                    <option value="bg-blue-100 text-blue-800">íŒŒë€ìƒ‰</option>
                                    <option value="bg-red-100 text-red-800">ë¹¨ê°„ìƒ‰</option>
                                    <option value="bg-yellow-100 text-yellow-800">ë…¸ë€ìƒ‰</option>
                                    <option value="bg-indigo-100 text-indigo-800">ë‚¨ìƒ‰</option>
                                    <option value="bg-pink-100 text-pink-800">í•‘í¬ìƒ‰</option>
                                    <option value="bg-gray-100 text-gray-800">íšŒìƒ‰</option>
                                </select>
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm font-medium text-gray-700 mb-1">ì„¤ëª…</label>
                                <input type="text" id="new-category-description" placeholder="ì¹´í…Œê³ ë¦¬ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…" 
                                       class="w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                            </div>
                        </div>
                        <button onclick="orderSystem.addCategory()" class="mt-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded transition-colors">
                            <i class="fas fa-plus mr-2"></i>ì¹´í…Œê³ ë¦¬ ì¶”ê°€
                        </button>
                    </div>

                    <!-- ê¸°ì¡´ ì¹´í…Œê³ ë¦¬ ëª©ë¡ -->
                    <div>
                        <h4 class="font-medium text-gray-800 mb-3">ê¸°ì¡´ ì¹´í…Œê³ ë¦¬</h4>
                        <div id="categories-list" class="space-y-2">
                            <!-- ì¹´í…Œê³ ë¦¬ ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <!-- ëª¨ë‹¬ í•˜ë‹¨ ë²„íŠ¼ë“¤ -->
                    <div class="border-t border-gray-200 px-6 py-4 bg-gray-50 flex justify-end space-x-3">
                        <button id="category-modal-cancel" class="px-4 py-2 text-gray-600 hover:text-gray-800 font-medium transition-colors">
                            <i class="fas fa-times mr-2"></i>ì·¨ì†Œ
                        </button>
                        <button id="category-modal-save" class="px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors">
                            <i class="fas fa-check mr-2"></i>ì €ì¥ ì™„ë£Œ
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ìƒí’ˆ ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="product-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-screen overflow-y-auto">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 id="product-modal-title" class="text-lg font-semibold text-gray-800">ìƒˆ ìƒí’ˆ ë“±ë¡</h3>
                        <button id="close-product-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <form id="product-form" class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ìƒí’ˆëª… <span class="text-red-500">*</span></label>
                            <input type="text" id="product-form-name" placeholder="ì˜ˆ: White Platter (ëŒ€)" required
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì¹´í…Œê³ ë¦¬ <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <select id="product-form-category" required
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent pr-10">
                                    <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
                                    <!-- ì¹´í…Œê³ ë¦¬ ì˜µì…˜ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                                    <option value="__ADD_NEW__" class="text-blue-600 font-medium">+ ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€</option>
                                </select>
                                <button type="button" id="modal-quick-add-category-btn" 
                                        class="absolute right-2 top-3 text-blue-600 hover:text-blue-800"
                                        title="ìƒˆ ì¹´í…Œê³ ë¦¬ ë¹ ë¥¸ ì¶”ê°€">
                                    <i class="fas fa-plus-circle"></i>
                                </button>
                            </div>
                            
                            <!-- ìƒˆ ì¹´í…Œê³ ë¦¬ ì…ë ¥ í•„ë“œ (ìˆ¨ê¹€ ìƒíƒœ) -->
                            <div id="modal-new-category-input" class="hidden mt-2 p-3 bg-blue-50 border border-blue-200 rounded-lg">
                                <div class="flex items-center space-x-2 mb-2">
                                    <i class="fas fa-tag text-blue-600"></i>
                                    <span class="text-sm font-medium text-blue-800">ìƒˆ ì¹´í…Œê³ ë¦¬ ì¶”ê°€</span>
                                </div>
                                <div class="grid grid-cols-2 gap-2">
                                    <input type="text" id="modal-quick-category-name" placeholder="ì¹´í…Œê³ ë¦¬ëª…" 
                                           class="p-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                    <select id="modal-quick-category-color" class="p-2 border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                                        <option value="bg-purple-100 text-purple-800">ğŸŸ£ ë³´ë¼ìƒ‰</option>
                                        <option value="bg-green-100 text-green-800">ğŸŸ¢ ì´ˆë¡ìƒ‰</option>
                                        <option value="bg-blue-100 text-blue-800">ğŸ”µ íŒŒë€ìƒ‰</option>
                                        <option value="bg-red-100 text-red-800">ğŸ”´ ë¹¨ê°„ìƒ‰</option>
                                        <option value="bg-yellow-100 text-yellow-800">ğŸŸ¡ ë…¸ë€ìƒ‰</option>
                                        <option value="bg-indigo-100 text-indigo-800">ğŸŸ£ ë‚¨ìƒ‰</option>
                                        <option value="bg-pink-100 text-pink-800">ğŸ©· í•‘í¬ìƒ‰</option>
                                        <option value="bg-gray-100 text-gray-800">âš« íšŒìƒ‰</option>
                                    </select>
                                </div>
                                <div class="flex space-x-2 mt-2">
                                    <button type="button" id="modal-save-quick-category" 
                                            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-1.5 rounded transition-colors">
                                        <i class="fas fa-check mr-1"></i>ì¶”ê°€
                                    </button>
                                    <button type="button" id="modal-cancel-quick-category" 
                                            class="px-3 py-1.5 text-gray-600 hover:text-gray-800 border border-gray-300 rounded transition-colors">
                                        ì·¨ì†Œ
                                    </button>
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">íŒë§¤ê°€ <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="number" id="product-form-price" placeholder="0" min="0" step="1000" required
                                       class="w-full p-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                       oninput="orderSystem.calculateModalProfitMargin()">
                                <span class="absolute right-3 top-3 text-gray-500">ì›</span>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ë§¤ì…ê°€</label>
                            <div class="relative">
                                <input type="number" id="product-form-wholesale-price" placeholder="0" min="0" step="1000"
                                       class="w-full p-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent"
                                       oninput="orderSystem.calculateModalProfitMargin()">
                                <span class="absolute right-3 top-3 text-gray-500">ì›</span>
                            </div>
                            <div id="modal-profit-margin" class="text-sm text-gray-500 mt-1"></div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì¬ê³ ìˆ˜ëŸ‰ <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="number" id="product-form-stock" placeholder="0" min="0" required
                                       class="w-full p-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                <span class="absolute right-3 top-3 text-gray-500">ê°œ</span>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì‚¬ì´ì¦ˆ</label>
                            <div class="space-y-2">
                                <select id="product-form-size-select" onchange="orderSystem.handleSizeChange()" 
                                        class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                    <option value="">ì‚¬ì´ì¦ˆ ì„ íƒ</option>
                                    <option value="SX">SX (ì´ˆì†Œí˜•)</option>
                                    <option value="S">S (ì†Œí˜•)</option>
                                    <option value="M">M (ì¤‘í˜•)</option>
                                    <option value="L">L (ëŒ€í˜•)</option>
                                    <option value="XL">XL (ì´ˆëŒ€í˜•)</option>
                                    <option value="custom">ì§ì ‘ ê¸°ì…</option>
                                </select>
                                <input type="text" id="product-form-size-custom" placeholder="ì˜ˆ: 3-5cm, íŠ¹ëŒ€, í˜¼í•© ë“±" 
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent hidden">
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ë°°ì†¡ ì˜µì…˜ <span class="text-red-500">*</span></label>
                            <select id="product-form-shipping" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                                <option value="">ë°°ì†¡ ì˜µì…˜ ì„ íƒ</option>
                                <option value="always_free">ë¬´ë£Œë°°ì†¡ (í–‰ì‚¬ìƒí’ˆ)</option>
                                <option value="normal">ì¼ë°˜ë°°ì†¡ (ì¡°ê±´ë¶€ ë¬´ë£Œ)</option>
                                <option value="included">ë°°ì†¡ë¹„í¬í•¨ (ë‹¨ë…ë°°ì†¡)</option>
                                <option value="direct">ì§ì ‘ë°°ì†¡ (ë†ì¥ë°°ì†¡)</option>
                            </select>
                            <div class="text-sm text-gray-500 mt-1">
                                <div>â€¢ <strong>ë¬´ë£Œë°°ì†¡</strong>: ê¸ˆì•¡ ê´€ê³„ì—†ì´ í•­ìƒ ë¬´ë£Œ (í–‰ì‚¬, ì´ë²¤íŠ¸ ìƒí’ˆ)</div>
                                <div>â€¢ <strong>ì¼ë°˜ë°°ì†¡</strong>: 5ë§Œì› ì´ìƒ ë¬´ë£Œ, ë¯¸ë§Œ ì‹œ 4,000ì›</div>
                                <div>â€¢ <strong>ë°°ì†¡ë¹„í¬í•¨</strong>: ìƒí’ˆ íŒë§¤ê°€ì— ë°°ì†¡ë¹„ í¬í•¨ë¨ (ìš©í† , í™”ë¶„ ë“±)</div>
                                <div>â€¢ <strong>ì§ì ‘ë°°ì†¡</strong>: ë†ì¥ì—ì„œ ì§ì ‘ ë°°ì†¡ (íŠ¹ë³„ ê´€ë¦¬ í•„ìš” ìƒí’ˆ)</div>
                            </div>
                        </div>

                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ìƒí’ˆì„¤ëª…</label>
                            <textarea id="product-form-description" rows="3" placeholder="ìƒí’ˆì— ëŒ€í•œ ìì„¸í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"
                                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none"></textarea>
                        </div>

                        <!-- íƒœê·¸ ì…ë ¥ ì„¹ì…˜ -->
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">íƒœê·¸ (Tags)</label>
                            <div class="relative">
                                <!-- íƒœê·¸ ì»¨í…Œì´ë„ˆ -->
                                <div id="product-tags-container" class="w-full min-h-[46px] p-2 border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-green-500 focus-within:border-transparent bg-white cursor-text">
                                    <div id="product-tags-display" class="flex flex-wrap gap-2 mb-2">
                                        <!-- ìƒì„±ëœ íƒœê·¸ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                                    </div>
                                    <input type="text" 
                                           id="product-tag-input" 
                                           placeholder="íƒœê·¸ë¥¼ ì…ë ¥í•˜ê³  ì—”í„°ë¥¼ ëˆ„ë¥´ì„¸ìš” (ì˜ˆ: ì‹¤ë‚´ì‹ë¬¼, ì´ˆë³´ìì¶”ì²œ, ê³µê¸°ì •í™”)"
                                           class="w-full border-0 outline-none text-sm"
                                           autocomplete="off">
                                </div>
                                
                                <!-- ìë™ì™„ì„± ë“œë¡­ë‹¤ìš´ -->
                                <div id="product-tag-suggestions" class="absolute top-full left-0 right-0 z-10 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-48 overflow-y-auto hidden">
                                    <!-- ì¶”ì²œ íƒœê·¸ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                                </div>
                            </div>
                            <p class="text-sm text-gray-500 mt-1">
                                ğŸ’¡ <strong>ì—”í„°(Enter)</strong> ë˜ëŠ” <strong>ì‰¼í‘œ(,)</strong>ë¥¼ ëˆŒëŸ¬ íƒœê·¸ë¥¼ ì¶”ê°€í•˜ì„¸ìš”. ê¸°ì¡´ íƒœê·¸ê°€ ìë™ìœ¼ë¡œ ì¶”ì²œë©ë‹ˆë‹¤.
                            </p>
                            
                            <!-- ìˆ¨ê²¨ì§„ input (ì‹¤ì œ ë°ì´í„° ì €ì¥ìš©) -->
                            <input type="hidden" id="product-form-tags" name="tags" value="">
                        </div>

                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ìƒí’ˆ ì´ë¯¸ì§€ URL</label>
                            <input type="url" id="product-form-image" placeholder="https://example.com/image.jpg"
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <p class="text-sm text-gray-500 mt-1">ğŸ’¡ ì´ë¯¸ì§€ URLì„ ì…ë ¥í•˜ë©´ ìƒí’ˆ ëª©ë¡ì—ì„œ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
                        </div>



                        <!-- QRì½”ë“œ ìƒì„± ì„¹ì…˜ -->
                        <div class="md:col-span-2">
                            <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                <h4 class="font-medium text-blue-800 mb-2">
                                    <i class="fas fa-qrcode mr-2"></i>QRì½”ë“œ ìƒì„± (ì‹œìŠ¤í…œ í†µí•© ê¸°ëŠ¥)
                                </h4>
                                <div class="bg-blue-100 px-3 py-2 rounded mb-3 text-sm text-blue-700">
                                    ğŸ“ <strong>ìœ ì¼í•œ QR ìƒì„± ìœ„ì¹˜</strong>: ëª¨ë“  QRì½”ë“œëŠ” ì´ ì„¹ì…˜ì—ì„œë§Œ ìƒì„±ë©ë‹ˆë‹¤
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-medium text-blue-700 mb-2">QRì½”ë“œ ì •ë³´</label>
                                        <div class="space-y-2">
                                            <label class="flex items-center">
                                                <input type="radio" name="qr-type" value="product-info" class="mr-2" checked>
                                                <span class="text-sm text-gray-700">ìƒí’ˆ ì •ë³´ (ì´ë¦„, íŒë§¤ê°€)</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="radio" name="qr-type" value="product-url" class="mr-2">
                                                <span class="text-sm text-gray-700">ìƒí’ˆ URL</span>
                                            </label>
                                            <label class="flex items-center">
                                                <input type="radio" name="qr-type" value="custom" class="mr-2">
                                                <span class="text-sm text-gray-700">ì§ì ‘ ì…ë ¥</span>
                                            </label>
                                        </div>
                                        <input type="text" id="qr-custom-text" placeholder="QRì½”ë“œì— í¬í•¨í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”"
                                               class="w-full p-2 mt-2 border border-gray-300 rounded text-sm hidden">
                                        <button type="button" id="generate-qr-btn" 
                                                class="mt-3 bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded text-sm transition-colors">
                                            <i class="fas fa-qrcode mr-2"></i>QRì½”ë“œ ìƒì„±
                                        </button>
                                    </div>
                                    <div class="flex flex-col items-center">
                                        <label class="block text-sm font-medium text-blue-700 mb-2">ë¯¸ë¦¬ë³´ê¸°</label>
                                        <div id="qr-preview" class="w-32 h-32 border-2 border-dashed border-blue-300 rounded-lg flex items-center justify-center bg-white">
                                            <span class="text-blue-400 text-sm">QRì½”ë“œê°€ ì—¬ê¸°ì—<br>ìƒì„±ë©ë‹ˆë‹¤</span>
                                        </div>
                                        <div class="mt-2 space-x-2">
                                            <button type="button" id="download-qr-btn" 
                                                    class="bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded text-xs transition-colors hidden">
                                                <i class="fas fa-download mr-1"></i>ë‹¤ìš´ë¡œë“œ
                                            </button>
                                            <button type="button" id="print-qr-btn" 
                                                    class="bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs transition-colors hidden">
                                                <i class="fas fa-print mr-1"></i>í”„ë¦°íŠ¸
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ì¬ê³  ë¶€ì¡± ì•Œë¦¼ ì„¤ì • -->
                    <div class="mt-6 bg-yellow-50 p-4 rounded-lg">
                        <h4 class="font-medium text-gray-800 mb-2">
                            <i class="fas fa-bell text-yellow-600 mr-2"></i>ì¬ê³  ê´€ë¦¬ ì„¤ì •
                        </h4>
                        <div class="flex items-center space-x-4">
                            <label class="flex items-center">
                                <input type="checkbox" id="enable-stock-alert" class="mr-2">
                                <span class="text-sm text-gray-700">ì¬ê³  ë¶€ì¡± ì•Œë¦¼ í™œì„±í™”</span>
                            </label>
                            <div class="flex items-center space-x-2">
                                <label class="text-sm text-gray-700">ì•Œë¦¼ ê¸°ì¤€:</label>
                                <input type="number" id="stock-alert-threshold" value="5" min="0" max="50"
                                       class="w-16 p-1 border border-gray-300 rounded text-center text-sm">
                                <span class="text-sm text-gray-700">ê°œ ì´í•˜</span>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 flex justify-end space-x-3 pt-6 border-t">
                        <button type="button" onclick="orderSystem.closeProductModal()" 
                                class="px-6 py-3 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button type="button" onclick="orderSystem.saveProduct()" 
                                class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors">
                            ì €ì¥
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- ëŒ€ê¸°ì ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="waitlist-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center">
                        <h3 id="waitlist-modal-title" class="text-lg font-semibold text-gray-800">ìƒˆ ëŒ€ê¸°ì ë“±ë¡</h3>
                        <button id="close-waitlist-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                </div>
                
                <form id="waitlist-form" class="p-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ê³ ê°ëª… <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="text" id="waitlist-form-name" placeholder="ê³ ê°ëª…ì„ ì…ë ¥í•˜ì„¸ìš” (ìë™ì™„ì„± ì§€ì›)" required
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent"
                                       autocomplete="off">
                                <div id="waitlist-customer-suggestions" class="absolute top-full left-0 right-0 bg-white border border-gray-300 rounded-b-lg shadow-lg z-10 max-h-48 overflow-y-auto hidden">
                                    <!-- ê³ ê° ìë™ì™„ì„± ëª©ë¡ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                                </div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì—°ë½ì²˜ <span class="text-red-500">*</span></label>
                            <div class="relative">
                                <input type="tel" id="waitlist-form-phone" placeholder="010-1234-5678" required
                                       class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                                <div class="text-xs text-gray-500 mt-1">ğŸ’¡ ê³ ê°ëª… ì…ë ¥ì‹œ ìë™ìœ¼ë¡œ ì±„ì›Œì§‘ë‹ˆë‹¤</div>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì›í•˜ëŠ” ìƒí’ˆ <span class="text-red-500">*</span></label>
                            <input type="text" id="waitlist-form-product" placeholder="ì˜ˆ: White Platter ëŒ€í˜•" required
                                   class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì¹´í…Œê³ ë¦¬</label>
                            <select id="waitlist-form-category" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                                <option value="">ì¹´í…Œê³ ë¦¬ ì„ íƒ</option>
                                <!-- ì¹´í…Œê³ ë¦¬ ì˜µì…˜ë“¤ì´ ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì˜ˆìƒ íŒë§¤ê°€</label>
                            <div class="relative">
                                <input type="number" id="waitlist-form-price" placeholder="0" min="0" step="1000"
                                       class="w-full p-3 pr-8 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                                <span class="absolute right-3 top-3 text-gray-500">ì›</span>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ìš°ì„ ìˆœìœ„</label>
                            <select id="waitlist-form-priority" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent">
                                <option value="3">ë³´í†µ</option>
                                <option value="5">ë†’ìŒ</option>
                                <option value="4">ì¤‘ìš”</option>
                                <option value="2">ë‚®ìŒ</option>
                                <option value="1">ëŒ€ê¸°</option>
                            </select>
                        </div>

                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1">ë©”ëª¨</label>
                            <textarea id="waitlist-form-memo" rows="3" placeholder="ê³ ê° ìš”êµ¬ì‚¬í•­, íŠ¹ì´ì‚¬í•­ ë“±ì„ ê¸°ë¡í•˜ì„¸ìš”"
                                      class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none"></textarea>
                        </div>
                    </div>

                    <!-- ë„ì›€ë§ -->
                    <div class="mt-4 bg-orange-50 p-4 rounded-lg">
                        <h4 class="font-medium text-orange-800 mb-2">
                            <i class="fas fa-lightbulb text-orange-600 mr-2"></i>ëŒ€ê¸°ì ê´€ë¦¬ íŒ
                        </h4>
                        <ul class="text-sm text-orange-700 space-y-1">
                            <li>â€¢ <strong>ìš°ì„ ìˆœìœ„</strong>: ë†’ìŒ > ì¤‘ìš” > ë³´í†µ > ë‚®ìŒ > ëŒ€ê¸° ìˆœìœ¼ë¡œ ì—°ë½</li>
                            <li>â€¢ <strong>ìƒí’ˆ ì…ê³ ì‹œ</strong>: í•´ë‹¹ ìƒí’ˆ ëŒ€ê¸°ìë“¤ì—ê²Œ ì¼ê´„ ì—°ë½ ê°€ëŠ¥</li>
                            <li>â€¢ <strong>ì£¼ë¬¸ ì „í™˜</strong>: ì—°ë½ í›„ ì£¼ë¬¸í•˜ì‹œë©´ ìë™ìœ¼ë¡œ ìƒíƒœ ë³€ê²½</li>
                        </ul>
                    </div>

                    <div class="mt-6 flex justify-end space-x-3 pt-6 border-t">
                        <button type="button" onclick="orderSystem.closeWaitlistModal()" 
                                class="px-6 py-3 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button type="button" onclick="orderSystem.saveWaitlistForm()" 
                                class="px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors">
                            ì €ì¥
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- í”¼í‚¹ ë¦¬ìŠ¤íŠ¸ ëª¨ë‹¬ -->
    <div id="picking-list-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-4xl w-full max-h-screen overflow-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">
                            <i class="fas fa-clipboard-list mr-2 text-purple-600"></i>í”¼í‚¹ ë¦¬ìŠ¤íŠ¸
                        </h3>
                        <button id="close-picking-list-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4 p-4 bg-purple-50 rounded-lg">
                        <h4 class="font-semibold text-purple-800 mb-2">ğŸ“¦ ë°°ì†¡ì¤€ë¹„ ìƒíƒœ ì£¼ë¬¸ ìš”ì•½</h4>
                        <div class="grid grid-cols-3 gap-4 text-sm">
                            <div>ì´ ì£¼ë¬¸: <span id="picking-total-orders" class="font-bold text-purple-600">0</span>ê±´</div>
                            <div>ì´ ìƒí’ˆ: <span id="picking-total-items" class="font-bold text-purple-600">0</span>ê°œ</div>
                            <div>ì˜ˆìƒ ì‘ì—…ì‹œê°„: <span id="picking-estimated-time" class="font-bold text-purple-600">0</span>ë¶„</div>
                        </div>
                    </div>
                    
                    <!-- ìƒí’ˆë³„ í”¼í‚¹ ë¦¬ìŠ¤íŠ¸ -->
                    <div class="mb-6">
                        <h4 class="text-lg font-semibold mb-3 text-gray-800">ğŸŒ± ìƒí’ˆë³„ í”¼í‚¹ ë¦¬ìŠ¤íŠ¸</h4>
                        <div id="picking-product-list" class="space-y-2">
                            <!-- ìƒí’ˆë³„ ì •ë¦¬ëœ ë¦¬ìŠ¤íŠ¸ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <!-- ê³ ê°ë³„ í¬ì¥ ë¦¬ìŠ¤íŠ¸ -->
                    <div class="mb-6">
                        <h4 class="text-lg font-semibold mb-3 text-gray-800">ğŸ“‹ ê³ ê°ë³„ í¬ì¥ ë¦¬ìŠ¤íŠ¸</h4>
                        <div id="picking-customer-list" class="space-y-3">
                            <!-- ê³ ê°ë³„ í¬ì¥ ì •ë³´ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button id="print-picking-only" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-seedling mr-2"></i>ìƒí’ˆë³„ í”¼í‚¹ë§Œ
                        </button>
                        <button id="print-packaging-only" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-box mr-2"></i>ê³ ê°ë³„ í¬ì¥ë§Œ
                        </button>
                        <button id="print-picking-list" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-print mr-2"></i>ì „ì²´ ì¶œë ¥
                        </button>
                        <button id="close-picking-list-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- í¬ì¥ ë¼ë²¨ ëª¨ë‹¬ -->
    <div id="packaging-labels-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-5xl w-full max-h-screen overflow-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">
                            <i class="fas fa-tags mr-2 text-indigo-600"></i>í¬ì¥ ë¼ë²¨ ì¶œë ¥
                        </h3>
                        <button id="close-packaging-labels-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="mb-4 p-4 bg-indigo-50 rounded-lg">
                        <h4 class="font-semibold text-indigo-800 mb-2">ğŸ·ï¸ ë¼ë²¨ ì„¤ì •</h4>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">ë¼ë²¨ í¬ê¸°</label>
                                <select id="label-size" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                    <option value="small">ì†Œí˜• (5x3cm)</option>
                                    <option value="medium" selected>ì¤‘í˜• (8x5cm)</option>
                                    <option value="large">ëŒ€í˜• (10x7cm)</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">í•œ ì¤„ë‹¹ ë¼ë²¨ ìˆ˜</label>
                                <select id="labels-per-row" class="w-full border border-gray-300 rounded-lg px-3 py-2">
                                    <option value="2">2ê°œ</option>
                                    <option value="3" selected>3ê°œ</option>
                                    <option value="4">4ê°œ</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <div id="packaging-labels-preview" class="mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50 min-h-96">
                        <!-- ë¼ë²¨ ë¯¸ë¦¬ë³´ê¸°ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button id="print-packaging-labels" class="bg-indigo-600 hover:bg-indigo-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-print mr-2"></i>ë¼ë²¨ ì¶œë ¥
                        </button>
                        <button id="close-packaging-labels-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì£¼ë¬¸ì„œ ì¶œë ¥ ëª¨ë‹¬ -->
    <div id="order-receipt-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-md w-full">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">
                            <i class="fas fa-receipt mr-2 text-purple-600"></i>ì£¼ë¬¸ì„œ ì¶œë ¥ ì„¤ì •
                        </h3>
                        <button id="close-order-receipt-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="space-y-4">
                        <!-- QRì½”ë“œ í¬í•¨ ì—¬ë¶€ -->
                        <div>
                            <label class="flex items-center">
                                <input type="checkbox" id="include-qr-code" class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500" checked>
                                <span class="ml-2 text-sm font-medium text-gray-700">QRì½”ë“œ í¬í•¨</span>
                            </label>
                        </div>
                        
                        <!-- QRì½”ë“œ URL ì…ë ¥ -->
                        <div id="qr-code-section">
                            <label class="block text-sm font-medium text-gray-700 mb-2">QRì½”ë“œ ì—°ê²° URL</label>
                            <input type="url" id="qr-code-url" 
                                   class="w-full border border-gray-300 rounded-lg px-3 py-2 text-sm"
                                   placeholder="https://youtube.com/@ê²½ì‚°ë‹¤ìœ¡TV"
                                   value="https://youtube.com/@ê²½ì‚°ë‹¤ìœ¡TV">
                            <p class="text-xs text-gray-500 mt-1">í‚¤ìš°ëŠ” ë²• ì˜ìƒ, ìœ íŠœë¸Œ ì±„ë„ ë“± URL ì…ë ¥</p>
                        </div>
                        
                        <!-- ë¯¸ë¦¬ë³´ê¸° QRì½”ë“œ -->
                        <div id="qr-preview-section" class="text-center">
                            <p class="text-sm text-gray-600 mb-2">QRì½”ë“œ ë¯¸ë¦¬ë³´ê¸°:</p>
                            <div id="qr-code-preview" class="flex justify-center">
                                <!-- QRì½”ë“œê°€ ì—¬ê¸°ì— ìƒì„±ë©ë‹ˆë‹¤ -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3 mt-6">
                        <button id="print-order-receipt" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-print mr-2"></i>ì£¼ë¬¸ì„œ ì¶œë ¥
                        </button>
                        <button id="close-order-receipt-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ëŒ€ëŸ‰ QRì½”ë“œ í”„ë¦°íŠ¸ ëª¨ë‹¬ -->
    <div id="bulk-print-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-4xl w-full max-h-screen overflow-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-gray-800">
                            <i class="fas fa-print mr-2 text-purple-600"></i>ëŒ€ëŸ‰ QRì½”ë“œ í”„ë¦°íŠ¸
                        </h2>
                        <button id="close-bulk-print-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>

                    <div class="mb-4">
                        <p class="text-gray-600 mb-4">ğŸ·ï¸ í”„ë¦°íŠ¸í•  ìƒí’ˆì„ ì„ íƒí•˜ê³  ê°ê°ì˜ ìˆ˜ëŸ‰ì„ ì…ë ¥í•˜ì„¸ìš”.</p>
                        
                        <!-- ì „ì²´ ì„ íƒ/í•´ì œ -->
                        <div class="flex items-center justify-between mb-4 p-3 bg-gray-50 rounded-lg">
                            <label class="flex items-center">
                                <input type="checkbox" id="select-all-products" class="mr-2">
                                <span class="font-medium text-gray-700">ì „ì²´ ì„ íƒ</span>
                            </label>
                            <div class="text-sm text-gray-600">
                                ì„ íƒëœ ìƒí’ˆ: <span id="selected-count">0</span>ê°œ | 
                                ì´ ë¼ë²¨ ìˆ˜: <span id="total-labels">0</span>ì¥
                            </div>
                        </div>

                        <!-- ìƒí’ˆ ëª©ë¡ -->
                        <div id="bulk-print-products" class="space-y-3 max-h-96 overflow-y-auto border border-gray-200 rounded-lg p-4">
                            <!-- ìƒí’ˆ ëª©ë¡ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                        </div>
                    </div>

                    <!-- ë¼ë²¨ ì„¤ì • -->
                    <div class="mb-6 p-4 bg-blue-50 rounded-lg">
                        <h3 class="font-medium text-blue-800 mb-3">
                            <i class="fas fa-cog mr-2"></i>ë¼ë²¨ ì„¤ì •
                        </h3>
                        <div class="grid grid-cols-2 gap-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">í˜ì´ì§€ë‹¹ ì—´ ìˆ˜</label>
                                <select id="labels-per-row" class="w-full p-2 border border-gray-300 rounded">
                                    <option value="8">8ì—´</option>
                                    <option value="10" selected>10ì—´</option>
                                    <option value="12">12ì—´</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-1">ìš©ì§€ í¬ê¸°</label>
                                <select id="paper-size" class="w-full p-2 border border-gray-300 rounded">
                                    <option value="a4" selected>A4</option>
                                    <option value="letter">Letter</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="flex justify-end space-x-3">
                        <button id="preview-bulk-print" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-eye mr-2"></i>ë¯¸ë¦¬ë³´ê¸°
                        </button>
                        <button id="start-bulk-print" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-print mr-2"></i>í”„ë¦°íŠ¸ ì‹œì‘
                        </button>
                        <button id="close-bulk-print-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ìƒí’ˆë³„ í”¼í‚¹ ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
    <div id="picking-preview-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-6xl w-full max-h-screen overflow-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">
                            <i class="fas fa-seedling mr-2 text-green-600"></i>ìƒí’ˆë³„ í”¼í‚¹ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸°
                        </h3>
                        <button id="close-picking-preview-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div id="picking-preview-content" class="mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50 min-h-96">
                        <!-- ë¯¸ë¦¬ë³´ê¸° ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button id="print-picking-preview" class="bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-print mr-2"></i>í”¼í‚¹ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
                        </button>
                        <button id="close-picking-preview-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ê³ ê°ë³„ í¬ì¥ ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
    <div id="packaging-preview-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-6xl w-full max-h-screen overflow-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="text-xl font-bold text-gray-800">
                            <i class="fas fa-box mr-2 text-orange-600"></i>ê³ ê°ë³„ í¬ì¥ ì²´í¬ë¦¬ìŠ¤íŠ¸ ë¯¸ë¦¬ë³´ê¸°
                        </h3>
                        <button id="close-packaging-preview-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div id="packaging-preview-content" class="mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50 min-h-96">
                        <!-- ë¯¸ë¦¬ë³´ê¸° ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button id="print-packaging-preview" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-print mr-2"></i>í¬ì¥ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
                        </button>
                        <button id="close-packaging-preview-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- í”¼í‚¹/í¬ì¥ ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
    <div id="picking-preview-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg max-w-6xl w-full max-h-screen overflow-auto">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h3 id="picking-preview-title" class="text-xl font-bold text-gray-800">
                            <i class="fas fa-eye mr-2 text-blue-600"></i>ì¶œë ¥ ë¯¸ë¦¬ë³´ê¸°
                        </h3>
                        <button id="close-picking-preview-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <!-- ë¯¸ë¦¬ë³´ê¸° ë‚´ìš© -->
                    <div id="picking-preview-content" class="mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50 min-h-96 overflow-auto">
                        <!-- ë¯¸ë¦¬ë³´ê¸° ë‚´ìš©ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button id="print-preview-content" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors">
                            <i class="fas fa-print mr-2"></i>ì¶œë ¥í•˜ê¸°
                        </button>
                        <button id="close-picking-preview-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-6 py-2 rounded-lg transition-colors">
                            ë‹«ê¸°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- QR ë¼ë²¨ ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
    <div id="qr-label-preview-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-6xl max-h-screen overflow-auto">
                <div class="p-6 border-b border-gray-200">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-xl font-bold text-gray-800">
                            <i class="fas fa-qrcode mr-2 text-orange-600"></i>QR ë¼ë²¨ ë¯¸ë¦¬ë³´ê¸°
                        </h3>
                        <button id="close-qr-label-preview-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <div class="bg-orange-50 p-4 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div class="text-orange-800">
                                    <i class="fas fa-info-circle mr-2"></i>
                                    <span class="font-medium">ë¼ë²¨ ì •ë³´</span>
                                </div>
                                <div class="text-sm text-orange-700">
                                    <span>í¬ê¸°: 1.3cm Ã— 4cm</span>
                                    <span class="mx-2">|</span>
                                    <span>ìš©ì§€: A4</span>
                                    <span class="mx-2">|</span>
                                    <span id="total-labels">ì´ 0ê°œ ë¼ë²¨</span>
                                </div>
                            </div>
                            <div class="flex space-x-3">
                                <button id="print-qr-labels" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg transition-colors">
                                    <i class="fas fa-print mr-2"></i>ì¸ì‡„í•˜ê¸°
                                </button>
                                <button id="close-qr-label-modal-btn" class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors">
                                    ë‹«ê¸°
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- A4 ë¯¸ë¦¬ë³´ê¸° ì˜ì—­ -->
                <div class="p-6 bg-gray-100">
                    <div id="qr-labels-container" class="bg-white mx-auto" style="width: 210mm; min-height: 297mm; padding: 10mm;">
                        <!-- QR ë¼ë²¨ë“¤ì´ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ìƒì„±ë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì¼ê´„ ìƒíƒœë³€ê²½ ëª¨ë‹¬ -->
    <div id="bulk-status-change-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
                <div class="flex items-center justify-between p-6 border-b">
                    <h3 class="text-lg font-semibold text-gray-800">
                        <i class="fas fa-edit mr-2 text-green-600"></i>ì¼ê´„ ìƒíƒœë³€ê²½
                    </h3>
                    <button id="close-bulk-status-modal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div class="p-6">
                    <div class="mb-4">
                        <p class="text-sm text-gray-600 mb-2">
                            ì„ íƒëœ <span id="selected-orders-count" class="font-bold text-green-600">0</span>ê°œ ì£¼ë¬¸ì˜ ìƒíƒœë¥¼ ë³€ê²½í•©ë‹ˆë‹¤.
                        </p>
                    </div>
                    
                    <div class="mb-6">
                        <label class="block text-sm font-medium text-gray-700 mb-2">ë³€ê²½í•  ìƒíƒœ ì„ íƒ</label>
                        <select id="bulk-status-select" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent">
                            <option value="">ìƒíƒœë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                            <option value="ì£¼ë¬¸ì ‘ìˆ˜">ğŸ“ ì£¼ë¬¸ì ‘ìˆ˜</option>
                            <option value="ì…ê¸ˆí™•ì¸">ğŸ’° ì…ê¸ˆí™•ì¸</option>
                            <option value="ë°°ì†¡ì¤€ë¹„">ğŸ“¦ ë°°ì†¡ì¤€ë¹„</option>
                            <option value="ë°°ì†¡ì‹œì‘">ğŸšš ë°°ì†¡ì‹œì‘</option>
                            <option value="ë°°ì†¡ì™„ë£Œ">âœ… ë°°ì†¡ì™„ë£Œ</option>
                            <option value="ì£¼ë¬¸ì·¨ì†Œ">âŒ ì£¼ë¬¸ì·¨ì†Œ</option>
                            <option value="í™˜ë¶ˆì²˜ë¦¬">ğŸ”„ í™˜ë¶ˆì²˜ë¦¬</option>
                        </select>
                    </div>
                    
                    <div class="flex justify-end space-x-3">
                        <button id="cancel-bulk-status" class="px-6 py-3 text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button id="confirm-bulk-status" class="px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors">
                            <i class="fas fa-check mr-2"></i>ë³€ê²½ í™•ì¸
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- íŒë§¤ ì±„ë„ ê´€ë¦¬ ëª¨ë‹¬ -->
    <div id="channel-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
                <div class="p-6">
                    <div class="flex justify-between items-center mb-4">
                        <h3 id="channel-modal-title" class="text-lg font-semibold text-gray-800">ìƒˆ íŒë§¤ ì±„ë„ ì¶”ê°€</h3>
                        <button id="close-channel-modal" class="text-gray-400 hover:text-gray-600">
                            <i class="fas fa-times text-xl"></i>
                        </button>
                    </div>
                    
                    <form id="channel-form" class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì±„ë„ëª… *</label>
                            <input type="text" id="channel-name" required 
                                   class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                   placeholder="ì˜ˆ: ë„¤ì´ë²„ ìŠ¤ë§ˆíŠ¸ìŠ¤í† ì–´">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì„¤ëª…</label>
                            <textarea id="channel-description" rows="3"
                                      class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                      placeholder="ì±„ë„ì— ëŒ€í•œ ê°„ë‹¨í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ì•„ì´ì½˜</label>
                            <select id="channel-icon" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="fas fa-store">ğŸª ìƒì </option>
                                <option value="fas fa-shopping-cart">ğŸ›’ ì‡¼í•‘ëª°</option>
                                <option value="fas fa-mobile-alt">ğŸ“± ëª¨ë°”ì¼</option>
                                <option value="fas fa-video">ğŸ“¹ ì˜ìƒ</option>
                                <option value="fas fa-phone">ğŸ“ ì „í™”</option>
                                <option value="fas fa-envelope">âœ‰ï¸ ë©”ì‹œì§€</option>
                                <option value="fas fa-users">ğŸ‘¥ ì§ì ‘</option>
                                <option value="fas fa-globe">ğŸŒ ì˜¨ë¼ì¸</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">ìƒ‰ìƒ</label>
                            <select id="channel-color" class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option value="#10B981">ğŸŸ¢ ì´ˆë¡ìƒ‰</option>
                                <option value="#3B82F6">ğŸ”µ íŒŒë€ìƒ‰</option>
                                <option value="#F59E0B">ğŸŸ¡ ë…¸ë€ìƒ‰</option>
                                <option value="#EF4444">ğŸ”´ ë¹¨ê°„ìƒ‰</option>
                                <option value="#8B5CF6">ğŸŸ£ ë³´ë¼ìƒ‰</option>
                                <option value="#06B6D4">ğŸ”· ì²­ë¡ìƒ‰</option>
                                <option value="#F97316">ğŸŸ  ì£¼í™©ìƒ‰</option>
                                <option value="#84CC16">ğŸŸ¢ ì—°ë‘ìƒ‰</option>
                            </select>
                        </div>
                        
                        <div class="flex items-center">
                            <input type="checkbox" id="channel-active" checked
                                   class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                            <label for="channel-active" class="ml-2 text-sm text-gray-700">í™œì„± ìƒíƒœ</label>
                        </div>
                    </form>
                    
                    <div class="flex justify-end space-x-3 mt-6">
                        <button id="cancel-channel" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button id="save-channel" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ì €ì¥
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì£¼ë¬¸ ìƒíƒœ ë“±ë¡/ìˆ˜ì • ëª¨ë‹¬ -->
    <div id="order-status-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
                <div class="flex items-center justify-between p-6 border-b border-gray-200">
                    <h3 id="order-status-modal-title" class="text-lg font-semibold text-gray-800">ìƒˆ ì£¼ë¬¸ ìƒíƒœ ì¶”ê°€</h3>
                    <button id="close-order-status-modal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="p-6">
                    <form id="order-status-form">
                        <input type="hidden" id="order-status-id" name="id">
                        
                        <div class="mb-4">
                            <label for="order-status-name" class="block text-sm font-medium text-gray-700 mb-2">
                                ìƒíƒœëª… <span class="text-red-500">*</span>
                            </label>
                            <input type="text" id="order-status-name" name="name" required 
                                   class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"
                                   placeholder="ì˜ˆ: ì…ê¸ˆí™•ì¸">
                        </div>

                        <div class="mb-4">
                            <label for="order-status-color" class="block text-sm font-medium text-gray-700 mb-2">
                                ìƒ‰ìƒ
                            </label>
                            <select id="order-status-color" name="color" 
                                    class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                                <option value="bg-gray-100 text-gray-800">íšŒìƒ‰</option>
                                <option value="bg-blue-100 text-blue-800">íŒŒë€ìƒ‰</option>
                                <option value="bg-green-100 text-green-800">ì´ˆë¡ìƒ‰</option>
                                <option value="bg-yellow-100 text-yellow-800">ë…¸ë€ìƒ‰</option>
                                <option value="bg-orange-100 text-orange-800">ì£¼í™©ìƒ‰</option>
                                <option value="bg-red-100 text-red-800">ë¹¨ê°„ìƒ‰</option>
                                <option value="bg-purple-100 text-purple-800">ë³´ë¼ìƒ‰</option>
                                <option value="bg-pink-100 text-pink-800">ë¶„í™ìƒ‰</option>
                            </select>
                        </div>

                        <div class="mb-4">
                            <label for="order-status-description" class="block text-sm font-medium text-gray-700 mb-2">
                                ì„¤ëª…
                            </label>
                            <textarea id="order-status-description" name="description" rows="3"
                                      class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                      placeholder="ì´ ìƒíƒœì— ëŒ€í•œ ì„¤ëª…ì„ ì…ë ¥í•˜ì„¸ìš”"></textarea>
                        </div>

                        <div class="mb-4">
                            <label for="order-status-sort-order" class="block text-sm font-medium text-gray-700 mb-2">
                                ì •ë ¬ ìˆœì„œ
                            </label>
                            <input type="number" id="order-status-sort-order" name="sort_order" min="1" 
                                   class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                                   placeholder="1">
                        </div>

                        <div class="mb-4">
                            <div class="flex items-center">
                                <input type="checkbox" id="order-status-is-active" name="is_active" checked
                                       class="w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500">
                                <label for="order-status-is-active" class="ml-2 text-sm text-gray-700">
                                    í™œì„± ìƒíƒœ
                                </label>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">ë¹„í™œì„±í™”í•˜ë©´ ìƒˆ ì£¼ë¬¸ì—ì„œ ì„ íƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤</p>
                        </div>
                    </form>
                    
                    <div class="flex justify-end space-x-3 mt-6">
                        <button id="cancel-order-status" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button id="save-order-status" class="bg-purple-600 hover:bg-purple-700 text-white px-4 py-2 rounded-lg transition-colors">
                            ì €ì¥
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ë¼ë²¨ ì¸ì‡„ ì˜µì…˜ ì„ íƒ ëª¨ë‹¬ -->
    <div id="label-print-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
                <div class="flex items-center justify-between p-6 border-b border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-800">ë¼ë²¨ ì¸ì‡„ ì˜µì…˜ ì„ íƒ</h3>
                    <button id="close-label-print-modal" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times text-xl"></i>
                    </button>
                </div>
                
                <div class="p-6">
                    <p class="text-gray-600 mb-6">ì„ íƒëœ <span id="modal-selected-count">0</span>ê°œ ìƒí’ˆì˜ ë¼ë²¨ì„ ì¸ì‡„í•©ë‹ˆë‹¤.</p>
                    
                    <!-- ë¼ë²¨ íƒ€ì… ì„ íƒ -->
                    <div class="space-y-4">
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer" id="text-label-option">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-6 h-6 border-2 border-gray-300 rounded-full mr-3 flex items-center justify-center" id="text-radio">
                                        <div class="w-3 h-3 bg-blue-600 rounded-full hidden" id="text-dot"></div>
                                    </div>
                                    <div>
                                        <h4 class="font-medium text-gray-800">í…ìŠ¤íŠ¸ ë¼ë²¨</h4>
                                        <p class="text-sm text-gray-500">ìƒí’ˆëª… + ê°€ê²©ë§Œ í‘œì‹œ</p>
                                    </div>
                                </div>
                                <div class="text-gray-400">
                                    <i class="fas fa-font text-2xl"></i>
                                </div>
                            </div>
                            <div class="mt-3 text-xs text-gray-500 bg-gray-50 p-2 rounded">
                                ğŸ“ A4 ê°€ë¡œ 22Ã—4 ë°°ì¹˜ (ì´ 88ê°œ)<br>
                                ğŸ“ ê°œë³„ ë¼ë²¨: 1.3cm Ã— 5.0cm<br>
                                âœ‚ï¸ ì¬ë‹¨ì„  í¬í•¨
                            </div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg p-4 hover:border-green-500 transition-colors cursor-pointer" id="qr-label-option">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-6 h-6 border-2 border-gray-300 rounded-full mr-3 flex items-center justify-center" id="qr-radio">
                                        <div class="w-3 h-3 bg-green-600 rounded-full hidden" id="qr-dot"></div>
                                    </div>
                                    <div>
                                        <h4 class="font-medium text-gray-800">QR ë¼ë²¨</h4>
                                        <p class="text-sm text-gray-500">QRì½”ë“œ + ìƒí’ˆì •ë³´</p>
                                    </div>
                                </div>
                                <div class="text-gray-400">
                                    <i class="fas fa-qrcode text-2xl"></i>
                                </div>
                            </div>
                            <div class="mt-3 text-xs text-gray-500 bg-gray-50 p-2 rounded">
                                ğŸ“± QRì½”ë“œë¡œ ìƒí’ˆ ì •ë³´ë¥¼ ìŠ¤ìº” ê°€ëŠ¥<br>
                                ğŸ“‹ ìƒí’ˆëª…, ê°€ê²©, ì¹´í…Œê³ ë¦¬ ë“± ì „ì²´ ì •ë³´<br>
                                ğŸ¢ ë†ì¥ ì—°ë½ì²˜ í¬í•¨
                            </div>
                        </div>
                    </div>
                    
                    <div class="flex justify-end space-x-3 mt-6">
                        <button id="cancel-label-print" class="px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors">
                            ì·¨ì†Œ
                        </button>
                        <button id="proceed-label-print" class="bg-orange-600 hover:bg-orange-700 text-white px-6 py-2 rounded-lg transition-colors" disabled>
                            ì¸ì‡„ ì§„í–‰
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì¦‰ì‹œ ë¡œì»¬ ëª¨ë“œ ì„¤ì • (ì—°ê²° í™•ì¸ì¤‘ ë¬¸ì œ í•´ê²°) -->
    <script>
        // í˜ì´ì§€ ë¡œë“œì™€ ë™ì‹œì— ì¦‰ì‹œ ì‹¤í–‰
        (function() {
            console.log('ğŸš€ ì¦‰ì‹œ ë¡œì»¬ ëª¨ë“œ ì„¤ì • ì‹œì‘...');
            
            // ì¦‰ì‹œ ì‹¤í–‰ í•¨ìˆ˜
            function fixConnectionStatus() {
                const statusText = document.getElementById('api-status-text');
                const statusDot = document.getElementById('api-status-dot');
                const statusIndicator = document.getElementById('api-status-indicator');
                
                if (statusText) {
                    statusText.textContent = 'ë¡œì»¬ ì „ìš©';
                    console.log('âœ… API ìƒíƒœ í…ìŠ¤íŠ¸ ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë¨');
                }
                if (statusDot) {
                    statusDot.className = 'w-2 h-2 rounded-full bg-blue-400';
                    statusDot.style.animation = 'none';
                    console.log('âœ… API ìƒíƒœ ì  ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë¨');
                }
                if (statusIndicator) {
                    statusIndicator.className = 'flex items-center space-x-2 px-3 py-1 rounded-lg text-sm bg-blue-100 text-blue-800';
                    console.log('âœ… API ìƒíƒœ ì¸ë””ì¼€ì´í„° ì¦‰ì‹œ ì—…ë°ì´íŠ¸ë¨');
                }
            }
            
            // ì¦‰ì‹œ ì‹¤í–‰
            fixConnectionStatus();
            
            // 0.1ì´ˆ í›„ì— ë‹¤ì‹œ ì‹¤í–‰
            setTimeout(fixConnectionStatus, 100);
            
            // 0.5ì´ˆ í›„ì— ë‹¤ì‹œ í•œë²ˆ í™•ì¸
            setTimeout(function() {
                const statusText = document.getElementById('api-status-text');
                if (statusText && statusText.textContent === 'ì—°ê²° í™•ì¸ì¤‘...') {
                    statusText.textContent = 'ë¡œì»¬ ì „ìš©';
                    console.log('ğŸ”„ API ìƒíƒœ ì¬ì„¤ì • ì™„ë£Œ');
                }
            }, 500);
            
            // 1ì´ˆ í›„ì— ìµœì¢… í™•ì¸
            setTimeout(fixConnectionStatus, 1000);
        })();
    </script>
    
    <!-- ì¸ì¦ ì‹œìŠ¤í…œ (ìµœìš°ì„  ë¡œë“œ) -->
    <script src="js/auth-system.js?v=1.0.7"></script>
    
    <!-- ì™„ì „ ë¡œì»¬ ëª¨ë“œ ì „í™˜ (ì„œë²„ 500 ì˜¤ë¥˜ í•´ê²°) -->
    <script src="js/force-local-mode.js?v=1.0.3"></script>
    
    <!-- ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§ ë° ì˜¤ë¥˜ ì²˜ë¦¬ -->
    <script>
        // ì¦‰ì‹œ API ìƒíƒœë¥¼ ë¡œì»¬ ëª¨ë“œë¡œ ì„¤ì •
        function setLocalModeImmediately() {
            const statusText = document.getElementById('api-status-text');
            const statusDot = document.getElementById('api-status-dot');
            const statusIndicator = document.getElementById('api-status-indicator');
            
            if (statusText) {
                statusText.textContent = 'ë¡œì»¬ ì „ìš©';
            }
            if (statusDot) {
                statusDot.className = 'w-2 h-2 rounded-full bg-blue-400';
            }
            if (statusIndicator) {
                statusIndicator.className = 'flex items-center space-x-2 px-3 py-1 rounded-lg text-sm bg-blue-100 text-blue-800';
            }
        }
        
        // ì—°ê²° ìƒíƒœ ëª¨ë‹ˆí„°ë§
        function checkConnectionStatus() {
            const banner = document.getElementById('connection-error-banner');
            if (!banner) {
                const errorBanner = document.createElement('div');
                errorBanner.id = 'connection-error-banner';
                errorBanner.className = 'connection-error-banner hidden';
                errorBanner.innerHTML = 'âš ï¸ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤. ì˜¤í”„ë¼ì¸ ëª¨ë“œë¡œ ì‘ë™í•©ë‹ˆë‹¤.';
                document.body.insertBefore(errorBanner, document.body.firstChild);
            }
            
            // ì˜¨ë¼ì¸/ì˜¤í”„ë¼ì¸ ìƒíƒœ ê°ì§€
            function updateConnectionStatus() {
                const banner = document.getElementById('connection-error-banner');
                if (navigator.onLine) {
                    banner.classList.add('hidden');
                } else {
                    banner.classList.remove('hidden');
                }
            }
            
            window.addEventListener('online', updateConnectionStatus);
            window.addEventListener('offline', updateConnectionStatus);
            updateConnectionStatus();
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì¦‰ì‹œ ë¡œì»¬ ëª¨ë“œ ì„¤ì •
        document.addEventListener('DOMContentLoaded', function() {
            setLocalModeImmediately();
            checkConnectionStatus();
        });
        
        // DOMì´ ë¡œë“œë˜ê¸° ì „ì—ë„ ì‹¤í–‰
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', setLocalModeImmediately);
        } else {
            setLocalModeImmediately();
        }
    </script>
    
    <!-- 500 ì˜¤ë¥˜ ì™„ì „ ì°¨ë‹¨ (ê°€ì¥ ë¨¼ì € ë¡œë“œ) -->
    <script>
        console.log('ğŸ›¡ï¸ 500 ì˜¤ë¥˜ ì°¨ë‹¨ ì‹œìŠ¤í…œ ì¦‰ì‹œ í™œì„±í™”...');
        
        // ì¦‰ì‹œ fetch í•¨ìˆ˜ ì˜¤ë²„ë¼ì´ë“œ (ì¤‘ë³µ ë°©ì§€)
        if (!window.originalFetch) {
            window.originalFetch = window.fetch;
        }
        window.fetch = async function(url, options = {}) {
            if (typeof url === 'string' && url.includes('tables/')) {
                console.log(`ğŸ”„ API í˜¸ì¶œ ì°¨ë‹¨: ${url}`);
                
                const tableName = url.split('tables/')[1].split('?')[0];
                let localData = [];
                
                try {
                    const stored = localStorage.getItem(tableName);
                    if (stored) {
                        localData = JSON.parse(stored);
                    }
                } catch (e) {
                    console.warn(`ë¡œì»¬ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨: ${tableName}`, e);
                }
                
                return new Response(JSON.stringify({
                    data: localData,
                    total: localData.length,
                    page: 1,
                    limit: 100,
                    table: tableName,
                    message: 'local_success'
                }), {
                    status: 200,
                    headers: { 'Content-Type': 'application/json' }
                });
            }
            
            // APIê°€ ì•„ë‹Œ ìš”ì²­ì€ ì›ë˜ëŒ€ë¡œ
            return window.originalFetch(url, options);
        };
        
        // ì˜¤ë¥˜ ë©”ì‹œì§€ ì™„ì „ ì°¨ë‹¨
        const originalError = console.error;
        console.error = function(...args) {
            const message = args.join(' ');
            if (message.includes('500') || 
                message.includes('API') || 
                message.includes('Failed to fetch') ||
                message.includes('tables/')) {
                return; // 500 ê´€ë ¨ ì˜¤ë¥˜ ì™„ì „ ìˆ¨ê¹€
            }
            originalError.apply(console, args);
        };
        
        // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ë„ ì°¨ë‹¨
        window.addEventListener('error', function(event) {
            if (event.message && 
                (event.message.includes('500') || 
                 event.message.includes('Failed to fetch') ||
                 event.message.includes('tables/'))) {
                event.preventDefault();
                event.stopPropagation();
                return false;
            }
        }, true);
        
        console.log('âœ… 500 ì˜¤ë¥˜ ì°¨ë‹¨ ì™„ë£Œ - ê¹”ë”í•œ í™˜ê²½ ì¤€ë¹„ë¨');
    </script>
    
    <!-- Supabase CDN -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2" onerror="console.warn('âš ï¸ Supabase CDN ë¡œë”© ì‹¤íŒ¨ - LocalStorage ëª¨ë“œë¡œ ë™ì‘');"></script>
    
    <!-- ì¸ì¦ ì‹œìŠ¤í…œ ê°•ì œ ì‹¤í–‰ -->
    <script>
        // ì¸ì¦ ì‹œìŠ¤í…œì´ ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ì— ì˜í•´ ë°©í•´ë°›ì§€ ì•Šë„ë¡ ë³´í˜¸
        (function() {
            console.log('ğŸ” ì¸ì¦ ì‹œìŠ¤í…œ ë³´í˜¸ ëª¨ë“œ í™œì„±í™”');
            
            // ì¸ì¦ ì‹œìŠ¤í…œì´ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
            if (typeof window.authSystem !== 'undefined') {
                console.log('âœ… ì¸ì¦ ì‹œìŠ¤í…œ ë¡œë“œ í™•ì¸ë¨');
                
                // ë‹¤ë¥¸ ìŠ¤í¬ë¦½íŠ¸ë“¤ì´ ë¡œë“œë˜ê¸° ì „ì— ì¸ì¦ ìƒíƒœ í™•ì¸
                setTimeout(() => {
                    if (window.authSystem && !window.authSystem.isAuthenticated) {
                        console.log('ğŸ”’ ì¸ì¦ë˜ì§€ ì•Šì€ ìƒíƒœ - ë¡œê·¸ì¸ ëª¨ë‹¬ í‘œì‹œ');
                        window.authSystem.showLoginModal();
                        window.authSystem.protectPage();
                    }
                }, 100);
            } else {
                console.error('âŒ ì¸ì¦ ì‹œìŠ¤í…œ ë¡œë“œ ì‹¤íŒ¨!');
            }
        })();
        
        // ë¹„ë°€ë²ˆí˜¸ ë³´ê¸°/ìˆ¨ê¸°ê¸° í† ê¸€ í•¨ìˆ˜
        window.togglePasswordVisibility = function() {
            console.log('ğŸ‘ï¸ ë¹„ë°€ë²ˆí˜¸ í† ê¸€ ë²„íŠ¼ í´ë¦­ë¨');
            
            const passwordInput = document.getElementById('password');
            const passwordIcon = document.getElementById('passwordIcon');
            
            if (!passwordInput || !passwordIcon) {
                console.error('âŒ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í•„ë“œ ë˜ëŠ” ì•„ì´ì½˜ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                return;
            }
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                passwordIcon.className = 'fas fa-eye-slash';
                console.log('âœ… ë¹„ë°€ë²ˆí˜¸ í‘œì‹œë¨');
            } else {
                passwordInput.type = 'password';
                passwordIcon.className = 'fas fa-eye';
                console.log('âœ… ë¹„ë°€ë²ˆí˜¸ ìˆ¨ê²¨ì§');
            }
        };
        
        // í˜ì´ì§€ ë¡œë“œ í›„ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                const toggleButton = document.getElementById('togglePassword');
                if (toggleButton) {
                    // ê¸°ì¡´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì œê±°
                    toggleButton.removeEventListener('click', window.togglePasswordVisibility);
                    
                    // ìƒˆë¡œìš´ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
                    toggleButton.addEventListener('click', function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                        console.log('ğŸ‘ï¸ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¡œ í† ê¸€ ë²„íŠ¼ í´ë¦­ë¨');
                        window.togglePasswordVisibility();
                    });
                    
                    // ë§ˆìš°ìŠ¤ ì´ë²¤íŠ¸ë„ ì¶”ê°€
                    toggleButton.addEventListener('mousedown', function(e) {
                        e.preventDefault();
                        console.log('ğŸ‘ï¸ ë§ˆìš°ìŠ¤ ë‹¤ìš´ ì´ë²¤íŠ¸');
                    });
                    
                    // í„°ì¹˜ ì´ë²¤íŠ¸ë„ ì¶”ê°€ (ëª¨ë°”ì¼ìš©)
                    toggleButton.addEventListener('touchstart', function(e) {
                        e.preventDefault();
                        console.log('ğŸ‘ï¸ í„°ì¹˜ ì´ë²¤íŠ¸');
                        window.togglePasswordVisibility();
                    });
                    
                    console.log('âœ… ë¹„ë°€ë²ˆí˜¸ í† ê¸€ ë²„íŠ¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ë¨');
                } else {
                    console.error('âŒ ë¹„ë°€ë²ˆí˜¸ í† ê¸€ ë²„íŠ¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                }
            }, 1000); // 1ì´ˆ í›„ì— ì‹¤í–‰
        });
        
        // ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬ í•¨ìˆ˜
        window.handleLoginClick = async function(event) {
            event.preventDefault();
            console.log('ğŸ” ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ë¨');
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            console.log('ì…ë ¥ëœ ì •ë³´:', { username, password: '***' });
            
            if (!username || !password) {
                alert('ì‚¬ìš©ìëª…ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            try {
                if (window.authSystem) {
                    const result = await window.authSystem.login(username, password);
                    console.log('ë¡œê·¸ì¸ ê²°ê³¼:', result);
                    
                    if (result.success) {
                        console.log('âœ… ë¡œê·¸ì¸ ì„±ê³µ!');
                    } else {
                        console.error('âŒ ë¡œê·¸ì¸ ì‹¤íŒ¨:', result.message);
                        alert('ë¡œê·¸ì¸ ì‹¤íŒ¨: ' + result.message);
                    }
                } else {
                    console.error('âŒ ì¸ì¦ ì‹œìŠ¤í…œì´ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.');
                    alert('ì‹œìŠ¤í…œ ì˜¤ë¥˜: ì¸ì¦ ì‹œìŠ¤í…œì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('âŒ ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜:', error);
                alert('ë¡œê·¸ì¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
            }
        };
    </script>
    
    <!-- 1) Supabase ì„¤ì •: window.SUPABASE_CONFIG ë…¸ì¶œ (URL/anonKey) -->
    <script src="js/supabase-config.js?v=1.0.4"></script>
    
    <!-- 2) í—¤ë” ì£¼ì… ë˜í¼: Supabase REST í˜¸ì¶œì´ë©´ apikey/Bearer ìë™ ì¶”ê°€ -->
    <script src="js/api-fallback.js?v=1.0.3"></script>
    
    <!-- Supabase í†µí•© ëª¨ë“ˆë“¤ -->
    <script src="js/indexeddb-cache.js?v=1.0.4"></script>
    <script src="js/supabase-integration.js?v=1.0.4"></script>
    
    <!-- 3) ì•± ë¡œì§ (í•­ìƒ ë§ˆì§€ë§‰) - ëª¨ë“ˆí™”ëœ êµ¬ì¡° -->
    <script type="module" src="/main.js?v=1.0.0" onerror="console.error('âŒ main.js ë¡œë”© ì‹¤íŒ¨!'); document.body.innerHTML += '<div style=\'position:fixed;top:0;left:0;right:0;background:red;color:white;padding:10px;z-index:9999;text-align:center;\'>âš ï¸ JavaScript íŒŒì¼ ë¡œë”© ì‹¤íŒ¨! ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.</div>';"></script>
    
    <!-- í”„ë¡œë•ì…˜ ëª¨ë“œ ì „í™˜ ìŠ¤í¬ë¦½íŠ¸ -->
    <script src="production-setup.js?v=1.0.0"></script>
    <script src="supabase-config-update.js?v=1.0.0"></script>
    <script src="deploy-to-production.js?v=1.0.0"></script>
    
    <!-- orderSystem ë¡œë”© ì²´í¬ ë° ë°±ì—… ì½”ë“œ (ì•ˆì „í™” ë²„ì „) -->
    <script>
        // localStorage í”Œë˜ê·¸ ì´ˆê¸°í™” (ìºì‹œ ë¬¸ì œ í•´ê²°)
        localStorage.removeItem('systemLoadingIssue');
        console.log('ğŸ§¹ localStorage ì‹œìŠ¤í…œ ë¡œë”© í”Œë˜ê·¸ ì´ˆê¸°í™”');
        
        // ì¦‰ì‹œ ì‹œìŠ¤í…œ ë¡œë”© ë¬¸ì œ í•´ê²°
        (function() {
            console.log('ğŸš€ ì‹œìŠ¤í…œ ë¡œë”© ë¬¸ì œ ì¦‰ì‹œ í•´ê²° ì‹œì‘...');
            
            // orderSystemì´ ì—†ìœ¼ë©´ ì¦‰ì‹œ ìƒì„±
            if (!window.orderSystem) {
                console.log('âš ï¸ orderSystem ì—†ìŒ - ì¦‰ì‹œ ìƒì„±');
                window.orderSystem = {
                    initialized: true,
                    openProductModal: function() {
                        console.log('ìƒí’ˆ ë“±ë¡ ëª¨ë‹¬ ì—´ê¸°');
                        // ê¸°ë³¸ ëª¨ë‹¬ ì—´ê¸° ë¡œì§
                    },
                    saveProduct: function() {
                        console.log('ìƒí’ˆ ì €ì¥');
                        alert('ìƒí’ˆì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    },
                    loadCustomers: function() {
                        console.log('ê³ ê° ëª©ë¡ ë¡œë“œ');
                    },
                    loadOrders: function() {
                        console.log('ì£¼ë¬¸ ëª©ë¡ ë¡œë“œ');
                    },
                    loadWaitlist: function() {
                        console.log('ëŒ€ê¸°ì ëª©ë¡ ë¡œë“œ');
                    }
                };
                console.log('âœ… orderSystem ì¦‰ì‹œ ìƒì„± ì™„ë£Œ');
            }
        })();
        
        // ì‹œìŠ¤í…œ ìƒíƒœ ì¶”ì  ë³€ìˆ˜
        let systemLoadingBanner = null;
        let systemLoadChecked = false;
        let renderingComplete = false;
        
        // ë Œë”ë§ ì™„ë£Œ ê°ì§€
        function checkRenderingComplete() {
            const mainElements = [
                '#main-container',
                '.header',
                '.navigation-tabs',
                '.system-status'
            ];
            
            const allElementsPresent = mainElements.some(selector => {
                const element = document.querySelector(selector);
                return element && element.offsetHeight > 0;
            });
            
            if (allElementsPresent && !renderingComplete) {
                renderingComplete = true;
                console.log('âœ… í˜ì´ì§€ ë Œë”ë§ ì™„ë£Œ ê°ì§€');
                window.hideSystemLoadingBanner();
            }
        }
        
        // ì‹œìŠ¤í…œ ë¡œë”© ë°°ë„ˆ ìˆ¨ê¸°ê¸° (ì „ì—­ í•¨ìˆ˜)
        window.hideSystemLoadingBanner = function() {
            if (systemLoadingBanner && systemLoadingBanner.parentNode) {
                console.log('âœ… ì‹œìŠ¤í…œ ë¡œë”© ë°°ë„ˆ ìë™ ìˆ¨ê¹€');
                systemLoadingBanner.style.transition = 'opacity 0.5s ease-out';
                systemLoadingBanner.style.opacity = '0';
                setTimeout(() => {
                    if (systemLoadingBanner && systemLoadingBanner.parentNode) {
                        systemLoadingBanner.parentNode.removeChild(systemLoadingBanner);
                        systemLoadingBanner = null;
                    }
                }, 500);
            }
            
            // ê¸°ì¡´ ì‹œìŠ¤í…œ ë¡œë”© ë°°ë„ˆë„ ëª¨ë‘ ì œê±°
            const existingBanners = document.querySelectorAll('#system-loading-banner, .system-loading-banner');
            existingBanners.forEach(banner => {
                if (banner.parentNode) {
                    banner.parentNode.removeChild(banner);
                }
            });
        };
        
        // ì¦‰ì‹œ ì‹œìŠ¤í…œ ë¡œë”© ë°°ë„ˆ ìˆ¨ê¸°ê¸°
        setTimeout(() => {
            window.hideSystemLoadingBanner();
        }, 100);
        
        // ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ë³€í™” ê°ì§€
        function handleNetworkChange() {
            if (navigator.onLine) {
                console.log('ğŸŒ ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë³µêµ¬ë¨ - ë°°ë„ˆ ìˆ¨ê¹€ ì²´í¬');
                setTimeout(() => {
                    if (window.orderSystem && typeof window.orderSystem === 'object') {
                        window.hideSystemLoadingBanner();
                    }
                }, 1000);
            }
        }
        
        window.addEventListener('online', handleNetworkChange);
        
        // window.onload í›„ 3ì´ˆ ì´ë‚´ ì •ìƒ ë Œë”ë§ ì‹œ ë°°ë„ˆ ìˆ¨ê¹€
        window.addEventListener('load', () => {
            console.log('ğŸ“„ window.onload ì™„ë£Œ - 3ì´ˆ í›„ ë Œë”ë§ ì²´í¬');
            setTimeout(() => {
                checkRenderingComplete();
                // ì‹œìŠ¤í…œì´ ì •ìƒì´ë©´ ë°°ë„ˆ ê°•ì œ ìˆ¨ê¹€
                if (window.orderSystem && typeof window.orderSystem === 'object') {
                    window.hideSystemLoadingBanner();
                }
            }, 3000);
        });
        
        // DOM ë³€í™” ê°ì§€ë¡œ ë Œë”ë§ ìƒíƒœ ì¶”ì 
        if (typeof MutationObserver !== 'undefined') {
            const renderingObserver = new MutationObserver(() => {
                if (!renderingComplete) {
                    setTimeout(checkRenderingComplete, 100);
                }
            });
            
            renderingObserver.observe(document.body, {
                childList: true,
                subtree: true
            });
        }
        
        // orderSystemì´ ë¡œë“œë˜ì§€ ì•Šì€ ê²½ìš°ë¥¼ ìœ„í•œ ì²´í¬ (ì•ˆì „í™”)
        setTimeout(() => {
            if (typeof window.orderSystem === 'undefined' && !systemLoadChecked) {
                console.error('âŒ orderSystemì´ ì •ì˜ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤!');
                systemLoadChecked = true;
                
                // ê¸´ê¸‰ ë°±ì—…: ê¸°ë³¸ ìƒí’ˆë“±ë¡ ê¸°ëŠ¥ë§Œ ì œê³µ
                window.orderSystem = {
                    openProductModal: function() {
                        alert('âš ï¸ ì‹œìŠ¤í…œ ë¡œë”© ë¬¸ì œê°€ ìˆìŠµë‹ˆë‹¤.\n\nì„ì‹œ í•´ê²°ì±…:\n1. í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ (F5)\n2. ë¸Œë¼ìš°ì € ìºì‹œ ì‚­ì œ\n3. ë‹¤ë¥¸ ë¸Œë¼ìš°ì € ì‚¬ìš©\n\nê³„ì† ë¬¸ì œê°€ ìˆìœ¼ë©´ ê°œë°œìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.');
                    },
                    saveProduct: function() {
                        alert('ì‹œìŠ¤í…œì´ ì™„ì „íˆ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. í˜ì´ì§€ë¥¼ ìƒˆë¡œê³ ì¹¨í•´ì£¼ì„¸ìš”.');
                    }
                };
                
                // ì•ˆì „í•œ UI ê²½ê³  í‘œì‹œ (ìë™ ìˆ¨ê¹€ ê¸°ëŠ¥ í¬í•¨)
                if (!systemLoadingBanner && !renderingComplete) {
                    systemLoadingBanner = document.createElement('div');
                    systemLoadingBanner.id = 'system-loading-banner';
                    systemLoadingBanner.style.cssText = `
                        position: fixed;
                        top: 10px;
                        right: 10px;
                        background: #f59e0b;
                        color: white;
                        padding: 12px;
                        border-radius: 8px;
                        z-index: 9999;
                        font-size: 14px;
                        max-width: 300px;
                        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                        cursor: pointer;
                        transition: opacity 0.3s ease;
                        opacity: 1;
                    `;
                    systemLoadingBanner.innerHTML = `
                        <div style="display: flex; align-items: center; justify-content: space-between;">
                            <div>
                                <div>âš ï¸ ì‹œìŠ¤í…œ ë¡œë”© ë¬¸ì œ</div>
                                <div style="font-size: 12px; opacity: 0.9;">ìƒˆë¡œê³ ì¹¨(F5) ê¶Œì¥</div>
                            </div>
                            <button onclick="window.hideSystemLoadingBanner()" 
                                style="background: none; border: none; color: white; font-size: 18px; cursor: pointer; margin-left: 10px; padding: 0;">Ã—</button>
                        </div>
                    `;
                    
                    document.body.appendChild(systemLoadingBanner);
                    console.log('âš ï¸ ì‹œìŠ¤í…œ ë¡œë”© ë°°ë„ˆ í‘œì‹œë¨ (ìë™ ìˆ¨ê¹€ í™œì„±í™”)');
                    
                    // localStorageì— ë¬¸ì œ ìƒí™© ê¸°ë¡
                    localStorage.setItem('systemLoadingIssue', Date.now().toString());
                    
                    // 10ì´ˆ í›„ ìë™ ì œê±° (ë°±ì—…)
                    setTimeout(() => {
                        window.hideSystemLoadingBanner();
                    }, 10000);
                }
                
            } else if (window.orderSystem) {
                console.log('âœ… orderSystem ì •ìƒ ë¡œë“œë¨');
                systemLoadChecked = true;
                window.hideSystemLoadingBanner();
            } else {
                console.log('âœ… orderSystem ì •ìƒ ë¡œë“œë¨');
                
                // saveProduct ë©”ì„œë“œ ì¡´ì¬ í™•ì¸
                if (typeof window.orderSystem.saveProduct === 'function') {
                    console.log('âœ… saveProduct ë©”ì„œë“œ ì •ìƒ ì¡´ì¬');
                } else {
                    console.error('âŒ saveProduct ë©”ì„œë“œê°€ undefinedì…ë‹ˆë‹¤!');
                    console.log('orderSystem ê°ì²´ ë‚´ìš©:', Object.keys(window.orderSystem));
                    
                    // ë©”ì„œë“œê°€ ì—†ìœ¼ë©´ ì¶”ê°€
                    if (!window.orderSystem.saveProduct) {
                        console.log('ğŸ”§ saveProduct ë©”ì„œë“œ ìˆ˜ë™ ì¶”ê°€ ì‹œë„...');
                        
                        // OrderManagementSystem í”„ë¡œí† íƒ€ì…ì—ì„œ ë©”ì„œë“œ ì°¾ê¸°
                        const proto = Object.getPrototypeOf(window.orderSystem);
                        if (proto && proto.saveProduct) {
                            window.orderSystem.saveProduct = proto.saveProduct.bind(window.orderSystem);
                            console.log('âœ… saveProduct ë©”ì„œë“œ ìˆ˜ë™ ë°”ì¸ë”© ì™„ë£Œ');
                        }
                    }
                }
                
                // ë‹¤ë¥¸ ì£¼ìš” ë©”ì„œë“œë“¤ë„ í™•ì¸
                const requiredMethods = ['openProductModal', 'closeProductModal', 'loadProducts'];
                requiredMethods.forEach(method => {
                    if (typeof window.orderSystem[method] === 'function') {
                        console.log(`âœ… ${method} ë©”ì„œë“œ ì¡´ì¬`);
                    } else {
                        console.warn(`âš ï¸ ${method} ë©”ì„œë“œ ì—†ìŒ`);
                    }
                });
            }
        }, 2000); // 2ì´ˆ í›„ ì²´í¬
    </script>
    <script src="js/data-migration.js?v=1.0.3"></script>
    <script src="js/force-api-mode.js?v=1.0.3"></script>
    <script src="js/mobile-sync.js?v=1.0.3"></script>
    <script src="js/cross-device-sync.js?v=1.0.1"></script>
    <script src="js/sync-ui.js?v=1.0.1"></script>
    <script src="js/device-manager.js?v=1.0.1"></script>
    <script src="js/simple-sync-status.js?v=1.0.1"></script>
    <script src="js/realtime-sync.js?v=1.0.0"></script>
    <script src="js/navigation-manager.js?v=1.0.0"></script>
    <script src="js/disable-api-errors.js?v=1.0.3"></script>
    <script src="js/clean-console.js?v=1.0.3"></script>
    
    <!-- Supabase ê°•ì œ ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        // Supabase ê°•ì œ ì´ˆê¸°í™”
        function forceSupabaseInit() {
            console.log('ğŸ”§ Supabase ê°•ì œ ì´ˆê¸°í™” ì‹œì‘...');
            
            // Supabase CDNì´ ë¡œë“œë˜ì—ˆëŠ”ì§€ í™•ì¸
            if (typeof window.supabase === 'undefined') {
                console.warn('âš ï¸ Supabase CDNì´ ë¡œë“œë˜ì§€ ì•ŠìŒ - CDN ì¬ë¡œë“œ ì‹œë„');
                
                // CDN ìŠ¤í¬ë¦½íŠ¸ ë™ì  ë¡œë“œ
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2';
                script.onload = () => {
                    console.log('âœ… Supabase CDN ë™ì  ë¡œë“œ ì„±ê³µ');
                    initializeSupabaseClient();
                };
                script.onerror = () => {
                    console.error('âŒ Supabase CDN ë™ì  ë¡œë“œ ì‹¤íŒ¨');
                    // ë¡œì»¬ ëª¨ë“œë¡œ ì „í™˜
                    window.SUPABASE_CONFIG.disabled = true;
                };
                document.head.appendChild(script);
            } else {
                initializeSupabaseClient();
            }
        }
        
        function initializeSupabaseClient() {
            try {
                // Supabase í´ë¼ì´ì–¸íŠ¸ ê°•ì œ ì´ˆê¸°í™”
                if (window.SupabaseConfig && window.SupabaseConfig.initialize) {
                    const success = window.SupabaseConfig.initialize();
                    if (success) {
                        console.log('âœ… Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™” ì„±ê³µ');
                        
                        // ë™ê¸°í™” ì‹œìŠ¤í…œ ì¬ì‹œì‘
                        if (window.crossDeviceSync) {
                            console.log('ğŸ”„ ë™ê¸°í™” ì‹œìŠ¤í…œ ì¬ì‹œì‘...');
                            window.crossDeviceSync.forceSync();
                        }
                    } else {
                        console.warn('âš ï¸ Supabase ì´ˆê¸°í™” ì‹¤íŒ¨ - ë¡œì»¬ ëª¨ë“œë¡œ ì „í™˜');
                        window.SUPABASE_CONFIG.disabled = true;
                    }
                }
            } catch (error) {
                console.error('âŒ Supabase ì´ˆê¸°í™” ì¤‘ ì˜¤ë¥˜:', error);
                window.SUPABASE_CONFIG.disabled = true;
            }
        }
        
        // DOM ë¡œë“œ í›„ ì‹¤í–‰
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', forceSupabaseInit);
        } else {
            forceSupabaseInit();
        }
        
        // 3ì´ˆ í›„ ì¬ì‹œë„
        setTimeout(forceSupabaseInit, 3000);
    </script>
    <script src="debug-status-test.js?v=1.0.3"></script>
    
    <!-- PWA ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸ -->
    <script>
        let deferredPrompt;
        let isAppInstalled = false;
        
        // PWA ì„¤ì¹˜ ê°€ëŠ¥ ì´ë²¤íŠ¸ ì²˜ë¦¬
        window.addEventListener('beforeinstallprompt', (e) => {
            console.log('ğŸ“± PWA ì„¤ì¹˜ ê°€ëŠ¥!');
            e.preventDefault();
            deferredPrompt = e;
            
            // ì„¤ì¹˜ ë²„íŠ¼ ë³´ì´ê¸°
            const installBtn = document.getElementById('pwa-install-btn');
            if (installBtn) {
                installBtn.classList.remove('hidden');
                console.log('âœ… PWA ì„¤ì¹˜ ë²„íŠ¼ í‘œì‹œë¨');
            }
        });

        // ëª¨ë°”ì¼ì—ì„œ PWA ì„¤ì¹˜ ì¡°ê±´ í™•ì¸
        function checkPWAInstallability() {
            console.log('ğŸ” PWA ì„¤ì¹˜ ê°€ëŠ¥ì„± í™•ì¸ ì¤‘...');
            console.log('User Agent:', navigator.userAgent);
            console.log('í˜„ì¬ URL:', window.location.href);
            console.log('HTTPS ì—¬ë¶€:', window.location.protocol === 'https:');
            console.log('Service Worker ì§€ì›:', 'serviceWorker' in navigator);
            console.log('Manifest ë§í¬ ì¡´ì¬:', !!document.querySelector('link[rel="manifest"]'));
            
            // ëª¨ë°”ì¼ ë¸Œë¼ìš°ì € í™•ì¸
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
            const isAndroid = /Android/.test(navigator.userAgent);
            
            console.log('ëª¨ë°”ì¼ ê¸°ê¸°:', isMobile);
            console.log('iOS ê¸°ê¸°:', isIOS);
            console.log('Android ê¸°ê¸°:', isAndroid);
            
            // iOS Safariì—ì„œëŠ” beforeinstallprompt ì´ë²¤íŠ¸ê°€ ì—†ìŒ
            if (isIOS) {
                console.log('ğŸ iOS ê¸°ê¸° - Safariì—ì„œ ìˆ˜ë™ ì„¤ì¹˜ ê°€ì´ë“œ í•„ìš”');
                showIOSInstallGuide();
            }
            
            // Androidì—ì„œ ì„¤ì¹˜ ì¡°ê±´ í™•ì¸
            if (isAndroid) {
                console.log('ğŸ¤– Android ê¸°ê¸° - PWA ì„¤ì¹˜ ì¡°ê±´ í™•ì¸');
                
                // ì´ë¯¸ ì„¤ì¹˜ë˜ì—ˆëŠ”ì§€ í™•ì¸
                if (window.matchMedia('(display-mode: standalone)').matches) {
                    console.log('ì´ë¯¸ PWAë¡œ ì„¤ì¹˜ë˜ì–´ ì‹¤í–‰ ì¤‘');
                    return;
                }
                
                // ìˆ˜ë™ìœ¼ë¡œ ì„¤ì¹˜ ë²„íŠ¼ í‘œì‹œ (Androidì—ì„œ ì´ë²¤íŠ¸ê°€ ì•ˆ ì˜¬ ê²½ìš°)
                setTimeout(() => {
                    if (!deferredPrompt) {
                        console.log('âš ï¸ beforeinstallprompt ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ì§€ ì•ŠìŒ');
                        showManualInstallGuide();
                    }
                }, 3000);
            }
        }

        // iOS ì„¤ì¹˜ ê°€ì´ë“œ í‘œì‹œ
        function showIOSInstallGuide() {
            const installBtn = document.getElementById('pwa-install-btn');
            if (installBtn) {
                installBtn.classList.remove('hidden');
                installBtn.innerHTML = '<i class="fas fa-plus mr-1"></i>í™ˆì— ì¶”ê°€';
                installBtn.onclick = () => {
                    alert('ğŸ“± iOS ì„¤ì¹˜ ë°©ë²•:\n\n1. Safari í•˜ë‹¨ì˜ ê³µìœ  ë²„íŠ¼(â–¡â†—) íƒ­\n2. "í™ˆ í™”ë©´ì— ì¶”ê°€" ì„ íƒ\n3. "ì¶”ê°€" ë²„íŠ¼ íƒ­\n\nğŸŒ± ê²½ì‚°ë‹¤ìœ¡ë†ì¥ ì•±ì´ í™ˆ í™”ë©´ì— ì¶”ê°€ë©ë‹ˆë‹¤!');
                };
            }
        }

        // ìˆ˜ë™ ì„¤ì¹˜ ê°€ì´ë“œ í‘œì‹œ
        function showManualInstallGuide() {
            const installBtn = document.getElementById('pwa-install-btn');
            if (installBtn) {
                installBtn.classList.remove('hidden');
                installBtn.innerHTML = '<i class="fas fa-download mr-1"></i>ì•± ì„¤ì¹˜';
                installBtn.onclick = () => {
                    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                    const isAndroid = /Android/.test(navigator.userAgent);
                    
                    let message = 'ğŸ“± ì•± ì„¤ì¹˜ ë°©ë²•:\n\n';
                    
                    if (isIOS) {
                        message += 'ğŸ iOS (Safari):\n1. í•˜ë‹¨ ê³µìœ  ë²„íŠ¼(â–¡â†—) íƒ­\n2. "í™ˆ í™”ë©´ì— ì¶”ê°€" ì„ íƒ\n3. "ì¶”ê°€" ë²„íŠ¼ íƒ­';
                    } else if (isAndroid) {
                        message += 'ğŸ¤– Android (Chrome):\n1. ë¸Œë¼ìš°ì € ë©”ë‰´(â‹®) íƒ­\n2. "í™ˆ í™”ë©´ì— ì¶”ê°€" ì„ íƒ\n3. "ì„¤ì¹˜" ë˜ëŠ” "ì¶”ê°€" ë²„íŠ¼ íƒ­';
                    } else {
                        message += 'ğŸ’» PC:\n1. ì£¼ì†Œì°½ ì˜† ì„¤ì¹˜ ì•„ì´ì½˜ í´ë¦­\n2. "ì„¤ì¹˜" ë²„íŠ¼ í´ë¦­';
                    }
                    
                    message += '\n\nğŸŒ± ê²½ì‚°ë‹¤ìœ¡ë†ì¥ ì•±ì´ í™ˆ í™”ë©´ì— ì¶”ê°€ë©ë‹ˆë‹¤!';
                    alert(message);
                };
            }
        }
        
        // PWA ì„¤ì¹˜ ë²„íŠ¼ í´ë¦­ ì²˜ë¦¬
        document.addEventListener('DOMContentLoaded', () => {
            const installBtn = document.getElementById('pwa-install-btn');
            if (installBtn) {
                installBtn.addEventListener('click', async () => {
                    if (deferredPrompt) {
                        console.log('ğŸ“± PWA ì„¤ì¹˜ ì‹œì‘...');
                        deferredPrompt.prompt();
                        
                        const { outcome } = await deferredPrompt.userChoice;
                        console.log(`PWA ì„¤ì¹˜ ê²°ê³¼: ${outcome}`);
                        
                        if (outcome === 'accepted') {
                            // ì„¤ì¹˜ ì„±ê³µ ì•Œë¦¼
                            alert('ğŸ‰ ê²½ì‚°ë‹¤ìœ¡ì‹ë¬¼ë†ì¥ ì•±ì´ ì„±ê³µì ìœ¼ë¡œ ì„¤ì¹˜ë˜ì—ˆìŠµë‹ˆë‹¤!\ní™ˆ í™”ë©´ì—ì„œ ì•±ì„ ì°¾ì•„ë³´ì„¸ìš”.');
                        }
                        
                        deferredPrompt = null;
                        installBtn.classList.add('hidden');
                    }
                });
            }
        });
        
        // PWA ì„¤ì¹˜ ì™„ë£Œ ì´ë²¤íŠ¸
        window.addEventListener('appinstalled', (evt) => {
            console.log('âœ… PWA ì„¤ì¹˜ ì™„ë£Œ!');
            isAppInstalled = true;
            
            // ì„¤ì¹˜ ë²„íŠ¼ ìˆ¨ê¸°ê¸°
            const installBtn = document.getElementById('pwa-install-btn');
            if (installBtn) {
                installBtn.classList.add('hidden');
            }
            
            // í™˜ì˜ ë©”ì‹œì§€ ë° ìë™ ë°±ì—… ì•ˆë‚´
            setTimeout(() => {
                alert('ğŸŒ± ê²½ì‚°ë‹¤ìœ¡ì‹ë¬¼ë†ì¥ ì•± ì„¤ì¹˜ ì™„ë£Œ!\nì´ì œ ì˜¤í”„ë¼ì¸ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nğŸ’¾ ì¤‘ìš”: ì •ê¸°ì ìœ¼ë¡œ ë°ì´í„°ë¥¼ ë°±ì—…í•´ì£¼ì„¸ìš”!');
                
                // ìë™ ë°±ì—… ì•Œë¦¼ ì„¤ì • (7ì¼ë§ˆë‹¤)
                const lastBackup = localStorage.getItem('lastBackupDate');
                const today = new Date().toDateString();
                
                if (!lastBackup || new Date(lastBackup).getTime() < Date.now() - 7 * 24 * 60 * 60 * 1000) {
                    setTimeout(() => {
                        if (confirm('ğŸ“… ë°ì´í„° ë°±ì—…ì„ ê¶Œì¥í•©ë‹ˆë‹¤.\nì§€ê¸ˆ ë°±ì—…í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                            // ë°±ì—… ê¸°ëŠ¥ ì‹¤í–‰
                            window.exportToExcel && window.exportToExcel();
                            localStorage.setItem('lastBackupDate', today);
                        }
                    }, 5000);
                }
            }, 1000);
        });
        
        // ì„œë¹„ìŠ¤ ì›Œì»¤ ë“±ë¡ (non-precached-url ì˜¤ë¥˜ í•´ê²°)
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    console.log('ğŸš€ ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡ ì‹œì‘...');
                    
                    // ê¸°ì¡´ ë“±ë¡ í™•ì¸ ë° ì •ë¦¬
                    const existingRegistration = await navigator.serviceWorker.getRegistration();
                    if (existingRegistration) {
                        console.log('ğŸ”„ ê¸°ì¡´ ì„œë¹„ìŠ¤ì›Œì»¤ ë°œê²¬, ì—…ë°ì´íŠ¸ ì¤‘...');
                        await existingRegistration.update();
                    }
                    
                    const registration = await navigator.serviceWorker.register('./sw.js', {
                        scope: './',
                        updateViaCache: 'none' // ìºì‹œ ì—†ì´ ì—…ë°ì´íŠ¸
                    });
                    
                    console.log('âœ… ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡ ì„±ê³µ!');
                    console.log('ğŸ“ Scope:', registration.scope);
                    console.log('ğŸ¯ Root URL ìºì‹œ í™•ì¸ ì¤‘...');
                    
                    // í”„ë¦¬ìºì‹œ ìƒíƒœ í™•ì¸
                    setTimeout(async () => {
                        try {
                            const cacheNames = await caches.keys();
                            console.log('ğŸ“¦ í™œì„± ìºì‹œ:', cacheNames);
                            
                            for (const cacheName of cacheNames) {
                                const cache = await caches.open(cacheName);
                                const keys = await cache.keys();
                                console.log(`ğŸ“‹ ${cacheName} ìºì‹œ ë‚´ìš©:`, keys.map(req => req.url));
                                
                                // ë£¨íŠ¸ ê²½ë¡œ ìºì‹œ í™•ì¸
                                const rootCached = await cache.match('/');
                                const indexCached = await cache.match('./index.html');
                                console.log('ğŸ  ë£¨íŠ¸(/) ìºì‹œ ìƒíƒœ:', !!rootCached);
                                console.log('ğŸ“„ index.html ìºì‹œ ìƒíƒœ:', !!indexCached);
                            }
                        } catch (error) {
                            console.warn('âš ï¸ ìºì‹œ ìƒíƒœ í™•ì¸ ì‹¤íŒ¨:', error);
                        }
                    }, 2000);
                    
                    // ì„œë¹„ìŠ¤ì›Œì»¤ ì—…ë°ì´íŠ¸ í™•ì¸
                    registration.addEventListener('updatefound', () => {
                        console.log('ğŸ”„ ì„œë¹„ìŠ¤ì›Œì»¤ ì—…ë°ì´íŠ¸ ë°œê²¬');
                        const newWorker = registration.installing;
                        
                        newWorker.addEventListener('statechange', () => {
                            console.log('ğŸ“Š ì„œë¹„ìŠ¤ì›Œì»¤ ìƒíƒœ:', newWorker.state);
                            
                            if (newWorker.state === 'installed') {
                                if (navigator.serviceWorker.controller) {
                                    console.log('ğŸ”„ ìƒˆ ë²„ì „ ì„œë¹„ìŠ¤ì›Œì»¤ ì„¤ì¹˜ë¨');
                                    // ê°•ì œ ì—…ë°ì´íŠ¸ ì ìš©
                                    newWorker.postMessage({ type: 'SKIP_WAITING' });
                                    
                                    // ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
                                    const updateNotification = document.createElement('div');
                                    updateNotification.className = 'fixed top-4 right-4 bg-blue-500 text-white p-4 rounded-lg shadow-lg z-50 max-w-sm';
                                    updateNotification.innerHTML = `
                                        <div class="flex items-center justify-between">
                                            <div>
                                                <p class="font-bold">ğŸ”„ ìƒˆ ë²„ì „ ì‚¬ìš© ê°€ëŠ¥</p>
                                                <p class="text-sm">ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ì—…ë°ì´íŠ¸í•˜ì„¸ìš”</p>
                                            </div>
                                            <button onclick="this.parentElement.parentElement.remove(); window.location.reload();" 
                                                class="ml-2 bg-white text-blue-500 px-2 py-1 rounded text-sm font-bold">
                                                ìƒˆë¡œê³ ì¹¨
                                            </button>
                                        </div>
                                    `;
                                    document.body.appendChild(updateNotification);
                                    
                                    setTimeout(() => {
                                        if (updateNotification.parentElement) {
                                            updateNotification.remove();
                                        }
                                    }, 10000);
                                } else {
                                    console.log('âœ… ì„œë¹„ìŠ¤ì›Œì»¤ ì²« ì„¤ì¹˜ ì™„ë£Œ');
                                }
                            }
                        });
                    });
                    
                    // ëŒ€ê¸° ì¤‘ì¸ ì„œë¹„ìŠ¤ì›Œì»¤ í™œì„±í™”
                    if (registration.waiting) {
                        console.log('â³ ëŒ€ê¸° ì¤‘ì¸ ì„œë¹„ìŠ¤ì›Œì»¤ í™œì„±í™”');
                        registration.waiting.postMessage({ type: 'SKIP_WAITING' });
                    }
                    
                    // ì„œë¹„ìŠ¤ì›Œì»¤ ì œì–´ ìƒíƒœ ë³€ê²½ ê°ì§€
                    navigator.serviceWorker.addEventListener('controllerchange', () => {
                        console.log('ğŸ”„ ì„œë¹„ìŠ¤ì›Œì»¤ ì»¨íŠ¸ë¡¤ëŸ¬ ë³€ê²½ë¨');
                        // ìë™ ìƒˆë¡œê³ ì¹¨í•˜ì§€ ì•Šê³  ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼ë§Œ
                    });
                    
                } catch (error) {
                    console.error('âŒ ì„œë¹„ìŠ¤ì›Œì»¤ ë“±ë¡ ì‹¤íŒ¨:', error);
                    
                    // ë“±ë¡ ì‹¤íŒ¨ ì‹œ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
                    const errorNotification = document.createElement('div');
                    errorNotification.className = 'fixed top-4 right-4 bg-red-500 text-white p-3 rounded-lg z-50';
                    errorNotification.innerHTML = '<i class="fas fa-exclamation-triangle mr-2"></i>ì˜¤í”„ë¼ì¸ ê¸°ëŠ¥ ë¹„í™œì„±í™”';
                    document.body.appendChild(errorNotification);
                    setTimeout(() => errorNotification.remove(), 5000);
                }
            });
        } else {
            console.warn('âš ï¸ ì„œë¹„ìŠ¤ì›Œì»¤ ë¯¸ì§€ì› ë¸Œë¼ìš°ì €');
        }
        
        // ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ëª¨ë‹ˆí„°ë§
        window.addEventListener('online', () => {
            console.log('ğŸŒ ì˜¨ë¼ì¸ ì—°ê²°ë¨');
            // ì˜¨ë¼ì¸ ìƒíƒœ UI ì—…ë°ì´íŠ¸
            const statusIndicator = document.createElement('div');
            statusIndicator.className = 'fixed top-4 right-4 bg-green-500 text-white px-3 py-1 rounded-lg text-sm z-50';
            statusIndicator.innerHTML = '<i class="fas fa-wifi mr-1"></i>ì˜¨ë¼ì¸';
            document.body.appendChild(statusIndicator);
            setTimeout(() => statusIndicator.remove(), 3000);
        });
        
        window.addEventListener('offline', () => {
            console.log('ğŸ“´ ì˜¤í”„ë¼ì¸ ëª¨ë“œ');
            // ì˜¤í”„ë¼ì¸ ìƒíƒœ UI ì—…ë°ì´íŠ¸
            const statusIndicator = document.createElement('div');
            statusIndicator.className = 'fixed top-4 right-4 bg-amber-500 text-white px-3 py-1 rounded-lg text-sm z-50';
            statusIndicator.innerHTML = '<i class="fas fa-wifi-slash mr-1"></i>ì˜¤í”„ë¼ì¸';
            document.body.appendChild(statusIndicator);
            setTimeout(() => statusIndicator.remove(), 5000);
        });
        
        // ì•±ì´ ì„¤ì¹˜ëœ PWAì¸ì§€ í™•ì¸
        function isPWAInstalled() {
            return window.matchMedia('(display-mode: standalone)').matches || 
                   window.navigator.standalone || 
                   document.referrer.includes('android-app://');
        }
        
        // PWA ì‹¤í–‰ ì‹œ íŠ¹ë³„ ì²˜ë¦¬
        if (isPWAInstalled()) {
            console.log('ğŸ  PWA ëª¨ë“œë¡œ ì‹¤í–‰ ì¤‘');
            document.body.classList.add('pwa-mode');
            
            // PWA ì „ìš© ìŠ¤íƒ€ì¼ ì¶”ê°€
            const pwaStyle = document.createElement('style');
            pwaStyle.textContent = `
                .pwa-mode {
                    padding-top: env(safe-area-inset-top);
                    padding-bottom: env(safe-area-inset-bottom);
                }
                .pwa-mode header {
                    background: linear-gradient(135deg, #16a34a 0%, #15803d 100%);
                }
            `;
            document.head.appendChild(pwaStyle);
        } else {
            // PWAë¡œ ì„¤ì¹˜ë˜ì§€ ì•Šì€ ê²½ìš° ì„¤ì¹˜ ê°€ëŠ¥ì„± í™•ì¸
            checkPWAInstallability();
        }
        
        // ëª¨ë°”ì¼ ë„¤ë¹„ê²Œì´ì…˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
        document.addEventListener('DOMContentLoaded', () => {
            // ì¹´í…Œê³ ë¦¬ ëª¨ë‹¬ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const categoryModal = document.getElementById('category-modal');
            const closeCategoryModal = document.getElementById('close-category-modal');
            
            // ì¹´í…Œê³ ë¦¬ ëª¨ë‹¬ ë‹«ê¸° ë²„íŠ¼ë“¤
            if (closeCategoryModal) {
                closeCategoryModal.addEventListener('click', () => {
                    categoryModal.classList.add('hidden');
                });
            }
            
            // ì¹´í…Œê³ ë¦¬ ëª¨ë‹¬ ì·¨ì†Œ ë²„íŠ¼
            const categoryModalCancel = document.getElementById('category-modal-cancel');
            if (categoryModalCancel) {
                categoryModalCancel.addEventListener('click', () => {
                    categoryModal.classList.add('hidden');
                });
            }
            
            // ì¹´í…Œê³ ë¦¬ ëª¨ë‹¬ ì €ì¥ ì™„ë£Œ ë²„íŠ¼
            const categoryModalSave = document.getElementById('category-modal-save');
            if (categoryModalSave) {
                categoryModalSave.addEventListener('click', async () => {
                    try {
                        // ë²„íŠ¼ ë¹„í™œì„±í™”
                        categoryModalSave.disabled = true;
                        categoryModalSave.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>ì €ì¥ ì¤‘...';
                        
                        // ì¹´í…Œê³ ë¦¬ ë³€ê²½ì‚¬í•­ ì €ì¥
                        const hasChanges = await orderSystem.saveCategoryChanges();
                        
                        if (hasChanges) {
                            // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
                            if (typeof Swal !== 'undefined' && !window.SwalDisabled) {
                                const Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 2000,
                                    timerProgressBar: true
                                });
                                
                                Toast.fire({
                                    icon: 'success',
                                    title: 'ì¹´í…Œê³ ë¦¬ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰'
                                });
                            } else {
                                // SweetAlertê°€ ì—†ì„ ë•Œ ê¸°ë³¸ ì•Œë¦¼
                                alert('âœ… ì¹´í…Œê³ ë¦¬ ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
                            }
                        } else {
                            // ë³€ê²½ì‚¬í•­ì´ ì—†ì„ ë•Œ ë©”ì‹œì§€
                            if (typeof Swal !== 'undefined' && !window.SwalDisabled) {
                                const Toast = Swal.mixin({
                                    toast: true,
                                    position: 'top-end',
                                    showConfirmButton: false,
                                    timer: 1500,
                                    timerProgressBar: true
                                });
                                
                                Toast.fire({
                                    icon: 'info',
                                    title: 'ì €ì¥í•  ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤'
                                });
                            } else {
                                // SweetAlertê°€ ì—†ì„ ë•Œ ê¸°ë³¸ ì•Œë¦¼
                                alert('â„¹ï¸ ì €ì¥í•  ë³€ê²½ì‚¬í•­ì´ ì—†ìŠµë‹ˆë‹¤');
                            }
                        }
                        
                        // ëª¨ë‹¬ ë‹«ê¸°
                        categoryModal.classList.add('hidden');
                        
                    } catch (error) {
                        console.error('ì¹´í…Œê³ ë¦¬ ì €ì¥ ì˜¤ë¥˜:', error);
                        
                        // ì˜¤ë¥˜ ë©”ì‹œì§€ í‘œì‹œ
                        if (typeof Swal !== 'undefined' && !window.SwalDisabled) {
                            Swal.fire({
                                icon: 'error',
                                title: 'ì €ì¥ ì‹¤íŒ¨',
                                text: 'ì¹´í…Œê³ ë¦¬ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.',
                                confirmButtonText: 'í™•ì¸'
                            });
                        } else {
                            // SweetAlertê°€ ì—†ì„ ë•Œ ê¸°ë³¸ ì•Œë¦¼
                            alert('âŒ ì €ì¥ ì‹¤íŒ¨: ì¹´í…Œê³ ë¦¬ ì €ì¥ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
                        }
                    } finally {
                        // ë²„íŠ¼ ìƒíƒœ ë³µì›
                        categoryModalSave.disabled = false;
                        categoryModalSave.innerHTML = '<i class="fas fa-check mr-2"></i>ì €ì¥ ì™„ë£Œ';
                    }
                });
            }
            
            // ì¹´í…Œê³ ë¦¬ ëª¨ë‹¬ ë°°ê²½ í´ë¦­ìœ¼ë¡œ ë‹«ê¸°
            if (categoryModal) {
                categoryModal.addEventListener('click', (e) => {
                    if (e.target === categoryModal) {
                        categoryModal.classList.add('hidden');
                    }
                });
            }
            
            // ESC í‚¤ë¡œ ì¹´í…Œê³ ë¦¬ ëª¨ë‹¬ ë‹«ê¸°
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && !categoryModal.classList.contains('hidden')) {
                    categoryModal.classList.add('hidden');
                }
            });
            
            // ë°±ì—… íƒ­ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
            const backupTab = document.getElementById('tab-backup');
            const mobileBackupTab = document.getElementById('mobile-tab-backup');
            
            // ë°±ì—… íƒ­ í´ë¦­ ì´ë²¤íŠ¸
            if (backupTab) {
                backupTab.addEventListener('click', () => {
                    showBackupSection();
                });
            }
            
            if (mobileBackupTab) {
                mobileBackupTab.addEventListener('click', () => {
                    showBackupSection();
                });
            }
            
            // ë°±ì—… ê¸°ëŠ¥ ë²„íŠ¼ë“¤
            const emergencyBackupBtn = document.getElementById('emergency-backup-main');
            const jsonBackupBtn = document.getElementById('json-backup-btn');
            const excelBackupBtn = document.getElementById('excel-backup-btn');
            const apiSyncBtn = document.getElementById('api-sync-btn');
            const browserSyncBtn = document.getElementById('browser-sync-btn');
            const smartSyncBtn = document.getElementById('smart-sync-btn');
            const forceUpdateBtn = document.getElementById('force-app-update');
            
            if (emergencyBackupBtn) {
                emergencyBackupBtn.addEventListener('click', performEmergencyBackup);
            }
            
            if (jsonBackupBtn) {
                jsonBackupBtn.addEventListener('click', performJSONBackup);
            }
            
            if (excelBackupBtn) {
                excelBackupBtn.addEventListener('click', performExcelBackup);
            }
            
            if (apiSyncBtn) {
                apiSyncBtn.addEventListener('click', performAPISync);
            }
            
            if (browserSyncBtn) {
                browserSyncBtn.addEventListener('click', async function() {
                    if (window.orderSystem && typeof window.orderSystem.syncFromApiToLocal === 'function') {
                        await window.orderSystem.syncFromApiToLocal();
                    } else {
                        alert('ì‹œìŠ¤í…œì´ ì•„ì§ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                    }
                });
            }
            
            if (smartSyncBtn) {
                smartSyncBtn.addEventListener('click', async function() {
                    if (window.orderSystem && typeof window.orderSystem.smartBrowserSync === 'function') {
                        await window.orderSystem.smartBrowserSync();
                    } else {
                        alert('ì‹œìŠ¤í…œì´ ì•„ì§ ë¡œë“œë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
                    }
                });
            }
            
            if (forceUpdateBtn) {
                forceUpdateBtn.addEventListener('click', performForceAppUpdate);
            }
            
            // ë°ì´í„° ë³µêµ¬ ê´€ë ¨ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ
            const selectBackupFileBtn = document.getElementById('select-backup-file');
            const backupRestoreInput = document.getElementById('backup-restore-input');
            const restoreBackupDataBtn = document.getElementById('restore-backup-data');
            const clearSelectedFileBtn = document.getElementById('clear-selected-file');
            
            if (selectBackupFileBtn) {
                selectBackupFileBtn.addEventListener('click', () => {
                    backupRestoreInput.click();
                });
            }
            
            if (backupRestoreInput) {
                backupRestoreInput.addEventListener('change', handleBackupFileSelection);
            }
            
            if (restoreBackupDataBtn) {
                restoreBackupDataBtn.addEventListener('click', performDataRestore);
            }
            
            if (clearSelectedFileBtn) {
                clearSelectedFileBtn.addEventListener('click', clearSelectedBackupFile);
            }

            // ëª¨ë°”ì¼ íƒ­ ë²„íŠ¼ë“¤
            const mobileTabButtons = document.querySelectorAll('.mobile-tab-button');
            const desktopTabButtons = document.querySelectorAll('.tab-button');
            
            // ëª¨ë°”ì¼ íƒ­ í´ë¦­ ì´ë²¤íŠ¸
            mobileTabButtons.forEach(button => {
                button.addEventListener('click', (e) => {
                    const targetTab = button.id.replace('mobile-tab-', 'tab-');
                    const desktopTab = document.getElementById(targetTab);
                    
                    if (desktopTab) {
                        // ë°ìŠ¤í¬í†± íƒ­ í´ë¦­ ì‹œë®¬ë ˆì´ì…˜
                        desktopTab.click();
                        
                        // ëª¨ë°”ì¼ íƒ­ í™œì„±í™” ìƒíƒœ ì—…ë°ì´íŠ¸
                        mobileTabButtons.forEach(btn => btn.classList.remove('active'));
                        button.classList.add('active');
                    }
                });
            });
            
            // ë°ìŠ¤í¬í†± íƒ­ í´ë¦­ ì‹œ ëª¨ë°”ì¼ íƒ­ë„ ë™ê¸°í™”
            desktopTabButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetMobileTab = document.getElementById('mobile-' + button.id);
                    if (targetMobileTab) {
                        mobileTabButtons.forEach(btn => btn.classList.remove('active'));
                        targetMobileTab.classList.add('active');
                    }
                });
            });
            
            // í„°ì¹˜ ì œìŠ¤ì²˜ ê°œì„  (ëª¨ë°”ì¼)
            if ('ontouchstart' in window) {
                // í„°ì¹˜ ë””ë°”ì´ìŠ¤ì—ì„œ ì¶”ê°€ ìµœì í™”
                document.body.classList.add('touch-device');
                
                // ìŠ¤ì™€ì´í”„ ì œìŠ¤ì²˜ë¡œ íƒ­ ì „í™˜ (ë¯¸ë˜ í™•ì¥ìš©)
                let touchStartX = 0;
                let touchEndX = 0;
                
                document.addEventListener('touchstart', e => {
                    touchStartX = e.changedTouches[0].screenX;
                });
                
                document.addEventListener('touchend', e => {
                    touchEndX = e.changedTouches[0].screenX;
                    handleGesture();
                });
                
                function handleGesture() {
                    const threshold = 100; // ìµœì†Œ ìŠ¤ì™€ì´í”„ ê±°ë¦¬
                    const diff = touchEndX - touchStartX;
                    
                    if (Math.abs(diff) > threshold) {
                        // ì¶”í›„ ìŠ¤ì™€ì´í”„ ë„¤ë¹„ê²Œì´ì…˜ êµ¬í˜„ ì˜ˆì •
                        console.log('ìŠ¤ì™€ì´í”„ ê°ì§€:', diff > 0 ? 'ì˜¤ë¥¸ìª½' : 'ì™¼ìª½');
                    }
                }
            }
        });
        
        // ë°±ì—… ê´€ë ¨ í•¨ìˆ˜ë“¤
        function showBackupSection() {
            // ëª¨ë“  íƒ­ ì½˜í…ì¸  ìˆ¨ê¸°ê¸°
            document.querySelectorAll('.tab-content').forEach(section => {
                section.classList.add('hidden');
            });
            
            // ë°±ì—… ì„¹ì…˜ ë³´ì´ê¸°
            const backupSection = document.getElementById('backup-section');
            if (backupSection) {
                backupSection.classList.remove('hidden');
                
                // ë°±ì—… í†µê³„ ì—…ë°ì´íŠ¸
                updateBackupStats();
            }
            
            // íƒ­ ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active');
                btn.classList.remove('border-green-600', 'text-green-600', 'border-orange-600', 'text-orange-600');
            });
            
            const backupTab = document.getElementById('tab-backup');
            if (backupTab) {
                backupTab.classList.add('active');
                backupTab.classList.add('border-orange-600', 'text-orange-600');
            }
        }
        
        function updateBackupStats() {
            const tables = ['farm_customers', 'orders', 'products', 'farm_categories', 'order_sources', 'waitlist'];
            
            tables.forEach(table => {
                const data = localStorage.getItem(table);
                let count = 0;
                
                if (data) {
                    try {
                        const parsed = JSON.parse(data);
                        count = parsed.length || 0;
                    } catch (e) {
                        count = 0;
                    }
                }
                
                const elementId = `backup-${table.replace('_', '-')}-count`;
                const element = document.getElementById(elementId);
                if (element) {
                    element.textContent = count;
                }
            });
        }
        
        function performEmergencyBackup() {
            console.log('ğŸš¨ ê¸´ê¸‰ ë°±ì—… ì‹œì‘...');
            performJSONBackup(true);
        }
        
        function performJSONBackup(isEmergency = false) {
            const allData = {};
            const tables = ['farm_customers', 'orders', 'products', 'farm_categories', 'order_sources', 'waitlist'];
            let totalItems = 0;
            
            console.log('ğŸ“Š JSON ë°±ì—… ì‹œì‘...');
            
            tables.forEach(table => {
                const data = localStorage.getItem(table);
                if (data) {
                    try {
                        const parsed = JSON.parse(data);
                        allData[table] = parsed;
                        totalItems += parsed.length || 0;
                        console.log(`âœ… ${table}: ${parsed.length || 0}ê°œ ìˆ˜ì§‘`);
                    } catch (e) {
                        allData[table] = [];
                        console.log(`âš ï¸ ${table}: ë°ì´í„° ì†ìƒ`);
                    }
                } else {
                    allData[table] = [];
                    console.log(`â„¹ï¸ ${table}: ë°ì´í„° ì—†ìŒ`);
                }
            });

            // ë°±ì—… ë©”íƒ€ë°ì´í„° ì¶”ê°€
            allData._backup_info = {
                created_at: new Date().toISOString(),
                total_items: totalItems,
                version: "2.1",
                source: "ê²½ì‚°ë‹¤ìœ¡ì‹ë¬¼ë†ì¥",
                type: isEmergency ? "emergency" : "manual"
            };

            const dataStr = JSON.stringify(allData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            
            const timestamp = new Date().toISOString().slice(0, 19).replace(/:/g, '-');
            const prefix = isEmergency ? "ê¸´ê¸‰ë°±ì—…" : "JSONë°±ì—…";
            const link = document.createElement('a');
            link.href = url;
            link.download = `ê²½ì‚°ë‹¤ìœ¡ë†ì¥_${prefix}_${timestamp}.json`;
            link.click();
            
            console.log(`ğŸ‰ ${prefix} ì™„ë£Œ! ì´ ${totalItems}ê°œ ë°ì´í„° ì €ì¥ë¨`);
            
            // ì„±ê³µ ì•Œë¦¼
            setTimeout(() => {
                const message = `ğŸ’¾ ${prefix} ì™„ë£Œ!\n\nğŸ“Š ì´ ${totalItems}ê°œì˜ ë°ì´í„°ê°€ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\nğŸ“ íŒŒì¼ëª…: ê²½ì‚°ë‹¤ìœ¡ë†ì¥_${prefix}_${timestamp}.json\n\nğŸ’¡ ì•ˆì „í•œ ê³³ì— ë³´ê´€í•˜ì„¸ìš”!`;
                alert(message);
            }, 500);
        }
        
        function performExcelBackup() {
            console.log('ğŸ“Š Excel ë°±ì—… ì‹œì‘...');
            
            // ê¸°ì¡´ Excel ë‚´ë³´ë‚´ê¸° í•¨ìˆ˜ê°€ ìˆë‹¤ë©´ í˜¸ì¶œ
            if (window.exportToExcel) {
                window.exportToExcel();
            } else {
                alert('Excel ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ì€ ì£¼ë¬¸ ê´€ë¦¬ íƒ­ì—ì„œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.');
            }
        }
        
        function performAPISync() {
            console.log('ğŸ”„ API ë™ê¸°í™” ì‹œì‘...');
            
            const tables = ['farm_customers', 'orders', 'products', 'farm_categories', 'order_sources', 'waitlist'];
            let syncedCount = 0;
            
            Promise.all(tables.map(async (table) => {
                try {
                    const response = await fetch(`tables/${table}?limit=1000`);
                    if (response.ok) {
                        const data = await response.json();
                        if (data.data && data.data.length > 0) {
                            localStorage.setItem(table, JSON.stringify(data.data));
                            syncedCount += data.data.length;
                            console.log(`âœ… ${table} ë™ê¸°í™” ì™„ë£Œ: ${data.data.length}ê°œ`);
                        }
                    }
                } catch (error) {
                    console.log(`âŒ ${table} ë™ê¸°í™” ì‹¤íŒ¨: ${error.message}`);
                }
            })).then(() => {
                console.log(`ğŸ‰ API ë™ê¸°í™” ì™„ë£Œ! ì´ ${syncedCount}ê°œ ë°ì´í„° ë™ê¸°í™”ë¨`);
                alert(`ğŸ‰ API ë™ê¸°í™” ì™„ë£Œ!\n\nì´ ${syncedCount}ê°œì˜ ë°ì´í„°ê°€ ë™ê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.`);
                
                // í†µê³„ ì—…ë°ì´íŠ¸
                updateBackupStats();
            });
        }
        
        // ì•± ê°•ì œ ì—…ë°ì´íŠ¸ í•¨ìˆ˜
        async function performForceAppUpdate() {
            console.log('ğŸ”„ ì•± ê°•ì œ ì—…ë°ì´íŠ¸ ì‹œì‘...');
            
            const confirmUpdate = confirm(
                'ğŸš€ ì•± ê°•ì œ ì—…ë°ì´íŠ¸\n\n' +
                'ì´ ê¸°ëŠ¥ì€ ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:\n' +
                'â€¢ ì•± ìºì‹œ ì™„ì „ ì‚­ì œ\n' +
                'â€¢ ìµœì‹  ë²„ì „ìœ¼ë¡œ ê°•ì œ ì—…ë°ì´íŠ¸\n' +
                'â€¢ í˜ì´ì§€ ìë™ ìƒˆë¡œê³ ì¹¨\n\n' +
                'ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ?'
            );
            
            if (!confirmUpdate) return;
            
            try {
                // 1. Service Worker ê°•ì œ ì—…ë°ì´íŠ¸
                if ('serviceWorker' in navigator) {
                    const registration = await navigator.serviceWorker.getRegistration();
                    if (registration) {
                        await registration.unregister();
                        console.log('âœ… Service Worker ë“±ë¡ í•´ì œ ì™„ë£Œ');
                    }
                }
                
                // 2. ëª¨ë“  ìºì‹œ ì‚­ì œ
                if ('caches' in window) {
                    const cacheNames = await caches.keys();
                    await Promise.all(
                        cacheNames.map(cacheName => caches.delete(cacheName))
                    );
                    console.log('âœ… ëª¨ë“  ìºì‹œ ì‚­ì œ ì™„ë£Œ');
                }
                
                // 3. ì„±ê³µ ë©”ì‹œì§€
                alert('ğŸ‰ ì•± ìºì‹œê°€ ì™„ì „íˆ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤!\n\ní˜ì´ì§€ê°€ ìƒˆë¡œê³ ì¹¨ë˜ì–´ ìµœì‹  ë²„ì „ì´ ì ìš©ë©ë‹ˆë‹¤.');
                
                // 4. ê°•ì œ ìƒˆë¡œê³ ì¹¨ (ìºì‹œ ë¬´ì‹œ)
                window.location.reload(true);
                
            } catch (error) {
                console.error('âŒ ê°•ì œ ì—…ë°ì´íŠ¸ ì‹¤íŒ¨:', error);
                alert('âš ï¸ ì—…ë°ì´íŠ¸ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.\n\nìˆ˜ë™ìœ¼ë¡œ ë¸Œë¼ìš°ì € ìºì‹œë¥¼ ì‚­ì œí•´ì£¼ì„¸ìš”:\n1. ë¸Œë¼ìš°ì € ì„¤ì • â†’ ê°œì¸ì •ë³´\n2. ì¸í„°ë„· ì‚¬ìš©ê¸°ë¡ ì‚­ì œ\n3. ìºì‹œëœ ì´ë¯¸ì§€ ë° íŒŒì¼ ì‚­ì œ');
            }
        }
        
        // ë°ì´í„° ë³µêµ¬ ê´€ë ¨ í•¨ìˆ˜ë“¤
        function handleBackupFileSelection(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            console.log('ğŸ“ ë°±ì—… íŒŒì¼ ì„ íƒë¨:', file.name);
            
            // íŒŒì¼ ì •ë³´ í‘œì‹œ
            const fileInfo = document.getElementById('selected-file-info');
            const fileName = document.getElementById('selected-file-name');
            const fileDetails = document.getElementById('selected-file-details');
            
            fileName.textContent = file.name;
            fileDetails.textContent = `í¬ê¸°: ${(file.size / 1024).toFixed(1)} KB | ìˆ˜ì •ì¼: ${new Date(file.lastModified).toLocaleString()}`;
            fileInfo.classList.remove('hidden');
            
            // ë³µêµ¬ ë²„íŠ¼ í™œì„±í™”
            document.getElementById('restore-backup-data').disabled = false;
            
            // íŒŒì¼ ë‚´ìš© ë¯¸ë¦¬ë³´ê¸°
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const backupData = JSON.parse(e.target.result);
                    previewBackupFile(backupData);
                    
                    // ë³µêµ¬ ì˜µì…˜ í‘œì‹œ
                    document.getElementById('restore-options').classList.remove('hidden');
                    
                } catch (error) {
                    console.error('ë°±ì—… íŒŒì¼ ì½ê¸° ì˜¤ë¥˜:', error);
                    alert('âŒ ì˜¬ë°”ë¥¸ ë°±ì—… íŒŒì¼ì´ ì•„ë‹™ë‹ˆë‹¤.\n\nJSON í˜•ì‹ì˜ ë°±ì—… íŒŒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
                    clearSelectedBackupFile();
                }
            };
            reader.readAsText(file);
        }
        
        function previewBackupFile(backupData) {
            const preview = document.getElementById('backup-preview');
            const content = document.getElementById('backup-preview-content');
            
            let previewHTML = '';
            
            // ë°±ì—… ì •ë³´ í‘œì‹œ
            if (backupData._backup_info) {
                const info = backupData._backup_info;
                previewHTML += `<div class="mb-3 p-2 bg-blue-100 rounded">`;
                previewHTML += `<strong>ë°±ì—… ì •ë³´:</strong><br>`;
                previewHTML += `ğŸ“… ìƒì„±ì¼: ${new Date(info.created_at).toLocaleString()}<br>`;
                previewHTML += `ğŸ“Š ì´ ë°ì´í„°: ${info.total_items}ê°œ<br>`;
                previewHTML += `ğŸ“¦ ë²„ì „: ${info.version || 'N/A'}<br>`;
                previewHTML += `ğŸ·ï¸ ìœ í˜•: ${info.type === 'emergency' ? 'ê¸´ê¸‰ë°±ì—…' : 'ìˆ˜ë™ë°±ì—…'}`;
                previewHTML += `</div>`;
            }
            
            // í…Œì´ë¸”ë³„ ë°ì´í„° ê°œìˆ˜
            const tables = ['farm_customers', 'orders', 'products', 'farm_categories', 'order_sources', 'waitlist'];
            const tableNames = {
                'farm_customers': 'ê³ ê°',
                'orders': 'ì£¼ë¬¸', 
                'products': 'ìƒí’ˆ',
                'farm_categories': 'ì¹´í…Œê³ ë¦¬',
                'order_sources': 'ì£¼ë¬¸ì¶œì²˜',
                'waitlist': 'ëŒ€ê¸°ì'
            };
            
            previewHTML += `<div class="space-y-1">`;
            tables.forEach(table => {
                const data = backupData[table] || [];
                const count = Array.isArray(data) ? data.length : 0;
                const displayName = tableNames[table] || table;
                
                previewHTML += `<div class="flex justify-between items-center py-1 border-b border-gray-200">`;
                previewHTML += `<span>${displayName}:</span>`;
                previewHTML += `<span class="font-bold ${count > 0 ? 'text-green-600' : 'text-gray-400'}">${count}ê°œ</span>`;
                previewHTML += `</div>`;
            });
            previewHTML += `</div>`;
            
            content.innerHTML = previewHTML;
            preview.classList.remove('hidden');
        }
        
        function clearSelectedBackupFile() {
            // íŒŒì¼ ì…ë ¥ ì´ˆê¸°í™”
            document.getElementById('backup-restore-input').value = '';
            
            // UI ìš”ì†Œë“¤ ìˆ¨ê¸°ê¸°
            document.getElementById('selected-file-info').classList.add('hidden');
            document.getElementById('backup-preview').classList.add('hidden');
            document.getElementById('restore-options').classList.add('hidden');
            
            // ë³µêµ¬ ë²„íŠ¼ ë¹„í™œì„±í™”
            document.getElementById('restore-backup-data').disabled = true;
            
            console.log('ğŸ—‘ï¸ ì„ íƒëœ ë°±ì—… íŒŒì¼ ì œê±°ë¨');
        }
        
        function performDataRestore() {
            const fileInput = document.getElementById('backup-restore-input');
            const file = fileInput.files[0];
            
            if (!file) {
                alert('ë°±ì—… íŒŒì¼ì„ ë¨¼ì € ì„ íƒí•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ë³µêµ¬ ëª¨ë“œ í™•ì¸
            const restoreMode = document.querySelector('input[name="restore-mode"]:checked').value;
            const backupBeforeRestore = document.getElementById('backup-current-before-restore').checked;
            
            // í™•ì¸ ë©”ì‹œì§€
            const modeText = restoreMode === 'replace' ? 'ì „ì²´ êµì²´' : 'ë³‘í•© ëª¨ë“œ';
            const confirmMessage = `âš ï¸ ë°ì´í„° ë³µêµ¬ë¥¼ ì‹œì‘í•©ë‹ˆë‹¤.\n\nğŸ“‹ ë³µêµ¬ ëª¨ë“œ: ${modeText}\n${backupBeforeRestore ? 'ğŸ’¾ í˜„ì¬ ë°ì´í„° ìë™ ë°±ì—…: ì˜ˆ' : 'ğŸ’¾ í˜„ì¬ ë°ì´í„° ìë™ ë°±ì—…: ì•„ë‹ˆìš”'}\n\nê³„ì†í•˜ì‹œê² ìŠµë‹ˆê¹Œ?`;
            
            if (!confirm(confirmMessage)) {
                return;
            }
            
            // í˜„ì¬ ë°ì´í„° ë°±ì—… (ì•ˆì „ì¥ì¹˜)
            if (backupBeforeRestore) {
                console.log('ğŸ’¾ ë³µêµ¬ ì „ í˜„ì¬ ë°ì´í„° ìë™ ë°±ì—…...');
                performJSONBackup(false); // ê¸´ê¸‰ë°±ì—…ì´ ì•„ë‹Œ ì¼ë°˜ ë°±ì—…
                
                // ì ì‹œ ëŒ€ê¸° í›„ ë³µêµ¬ ì§„í–‰
                setTimeout(() => {
                    executeDataRestore(file, restoreMode);
                }, 1000);
            } else {
                executeDataRestore(file, restoreMode);
            }
        }
        
        function executeDataRestore(file, restoreMode) {
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const backupData = JSON.parse(e.target.result);
                    console.log('ğŸ”„ ë°ì´í„° ë³µêµ¬ ì‹œì‘...', restoreMode);
                    
                    const tables = ['farm_customers', 'orders', 'products', 'farm_categories', 'order_sources', 'waitlist'];
                    let restoredCount = 0;
                    let totalRestored = 0;
                    
                    tables.forEach(table => {
                        const backupTableData = backupData[table];
                        if (!Array.isArray(backupTableData)) {
                            console.log(`âš ï¸ ${table}: ë°±ì—… ë°ì´í„° ì—†ìŒ`);
                            return;
                        }
                        
                        let finalData = [];
                        
                        if (restoreMode === 'replace') {
                            // ì „ì²´ êµì²´ ëª¨ë“œ
                            finalData = backupTableData;
                            console.log(`ğŸ”„ ${table}: ${backupTableData.length}ê°œ ë°ì´í„°ë¡œ êµì²´`);
                        } else {
                            // ë³‘í•© ëª¨ë“œ
                            const currentData = JSON.parse(localStorage.getItem(table) || '[]');
                            const existingIds = new Set(currentData.map(item => item.id));
                            
                            // ê¸°ì¡´ ë°ì´í„° ìœ ì§€
                            finalData = [...currentData];
                            
                            // ì¤‘ë³µë˜ì§€ ì•ŠëŠ” ë°±ì—… ë°ì´í„°ë§Œ ì¶”ê°€
                            backupTableData.forEach(item => {
                                if (!existingIds.has(item.id)) {
                                    finalData.push(item);
                                }
                            });
                            
                            console.log(`ğŸ”„ ${table}: ê¸°ì¡´ ${currentData.length}ê°œ + ì‹ ê·œ ${finalData.length - currentData.length}ê°œ = ì´ ${finalData.length}ê°œ`);
                        }
                        
                        // LocalStorageì— ì €ì¥
                        localStorage.setItem(table, JSON.stringify(finalData));
                        totalRestored += finalData.length;
                        restoredCount++;
                    });
                    
                    console.log(`ğŸ‰ ë°ì´í„° ë³µêµ¬ ì™„ë£Œ! ${restoredCount}ê°œ í…Œì´ë¸”, ì´ ${totalRestored}ê°œ ë°ì´í„°`);
                    
                    // ì„±ê³µ ë©”ì‹œì§€
                    const successMessage = `ğŸ‰ ë°ì´í„° ë³µêµ¬ ì™„ë£Œ!\n\nğŸ“Š ë³µêµ¬ëœ í…Œì´ë¸”: ${restoredCount}ê°œ\nğŸ“ˆ ì´ ë°ì´í„°: ${totalRestored}ê°œ\nğŸ“‹ ëª¨ë“œ: ${restoreMode === 'replace' ? 'ì „ì²´ êµì²´' : 'ë³‘í•©'}\n\nâœ… ë°ì´í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ë³µêµ¬ë˜ì—ˆìŠµë‹ˆë‹¤!`;
                    alert(successMessage);
                    
                    // UI ì—…ë°ì´íŠ¸
                    updateBackupStats();
                    clearSelectedBackupFile();
                    
                    // ë©”ì¸ í˜ì´ì§€ë¡œ ì´ë™í• ì§€ ë¬¼ì–´ë³´ê¸°
                    setTimeout(() => {
                        if (confirm('ë³µêµ¬ê°€ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\n\në³µêµ¬ëœ ë°ì´í„°ë¥¼ í™•ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                            // ì£¼ë¬¸ ê´€ë¦¬ íƒ­ìœ¼ë¡œ ì´ë™
                            document.getElementById('tab-orders').click();
                        }
                    }, 2000);
                    
                } catch (error) {
                    console.error('ë°ì´í„° ë³µêµ¬ ì‹¤íŒ¨:', error);
                    alert(`âŒ ë°ì´í„° ë³µêµ¬ ì‹¤íŒ¨!\n\nì˜¤ë¥˜: ${error.message}\n\në°±ì—… íŒŒì¼ì„ ë‹¤ì‹œ í™•ì¸í•´ì£¼ì„¸ìš”.`);
                }
            };
            reader.readAsText(file);
        }
    </script>



</body>
</html>