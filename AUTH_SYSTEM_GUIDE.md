# 🔐 인증 시스템 가이드

## 📋 개요

경산다육식물농장 관리시스템에 강력한 인증 시스템이 추가되었습니다. 이제 아무나 접근할 수 없으며, 관리자만 시스템에 로그인할 수 있습니다.

## 🚀 주요 기능

### ✅ 보안 기능
- **관리자 전용 로그인**: 사용자명과 비밀번호 기반 인증
- **로그인 시도 제한**: 5회 실패 시 15분간 계정 잠금
- **자동 로그아웃**: 24시간 후 자동 로그아웃
- **세션 토큰**: 안전한 인증 토큰 기반 세션 관리
- **페이지 접근 보호**: 인증되지 않은 사용자는 모든 기능 차단

### ✅ 사용자 경험
- **자동 로그인**: 브라우저에 인증 정보 저장 (24시간 유효)
- **직관적인 UI**: 깔끔한 로그인 모달과 사용자 정보 표시
- **실시간 상태**: 헤더에 로그인 상태와 로그아웃 버튼 표시

## 🔑 로그인 정보

### 관리자 계정
- **사용자명**: `gsfarfm`
- **비밀번호**: `ryubae6677`

> ⚠️ **중요**: 실제 운영 환경에서는 더 강력한 비밀번호로 변경하거나 Supabase Auth를 사용하세요.

## 🛠️ 사용 방법

### 1. 로그인
1. 웹사이트에 접속하면 자동으로 로그인 모달이 표시됩니다
2. 관리자 계정 정보를 입력합니다 (사용자명: gsfarfm, 비밀번호: ryubae6677)
3. "로그인" 버튼을 클릭합니다
4. 로그인 성공 시 메인 시스템에 접근할 수 있습니다

### 2. 로그아웃
1. 헤더 우측의 "로그아웃" 버튼을 클릭합니다
2. 또는 24시간 후 자동으로 로그아웃됩니다

### 3. 자동 로그인
- 로그인 성공 시 브라우저에 인증 정보가 저장됩니다
- 다음 방문 시 자동으로 로그인됩니다 (24시간 이내)

## 🔧 기술적 세부사항

### 파일 구조
```
js/auth-system.js          # 인증 시스템 메인 로직
index.html                 # 로그인 모달 및 UI 추가
dist-web/js/auth-system.js # 프로덕션용 인증 시스템
dist-web/index.html        # 프로덕션용 HTML
auth-test.html            # 인증 시스템 테스트 페이지
```

### 보안 메커니즘
1. **클라이언트 사이드 인증**: JavaScript 기반 인증 로직
2. **로컬 스토리지**: 암호화된 토큰 저장
3. **세션 관리**: 24시간 유효한 인증 토큰
4. **브루트 포스 방지**: 로그인 시도 횟수 제한

## 🧪 테스트 방법

### 1. 기본 테스트
1. `auth-test.html` 파일을 브라우저에서 열기
2. 로그인 정보로 테스트 로그인 (gsfarfm / ryubae6677)
3. 각종 테스트 버튼으로 기능 확인

### 2. 보안 테스트
1. 잘못된 비밀번호로 5회 로그인 시도
2. 계정 잠금 확인
3. 15분 후 잠금 해제 확인

### 3. 자동 로그아웃 테스트
1. 로그인 후 브라우저 시간을 24시간 후로 변경
2. 페이지 새로고침하여 자동 로그아웃 확인

## 🚀 배포 방법

### 1. 로컬 서버
```bash
# Windows
start-server.bat

# Mac/Linux
./start-server.sh
```

### 2. Firebase Hosting
```bash
# 웹 빌드
npm run build-web

# Firebase 배포
firebase deploy
```

## 🔒 보안 강화 방안

### 1. 비밀번호 변경
`js/auth-system.js` 파일에서 관리자 비밀번호를 변경하세요:

```javascript
this.adminCredentials = {
    username: 'gsfarfm', // 또는 원하는 사용자명
    password: '새로운강력한비밀번호!', // 여기를 변경
    name: '경산다육농장 관리자'
};
```

### 2. Supabase Auth 연동 (권장)
향후 Supabase Auth를 사용하여 더 강력한 인증을 구현할 수 있습니다:

```javascript
// Supabase Auth 사용 예시
const { data, error } = await supabase.auth.signInWithPassword({
    email: 'admin@korsucplant.com',
    password: 'password'
});
```

### 3. HTTPS 사용
프로덕션 환경에서는 반드시 HTTPS를 사용하세요.

## 🐛 문제 해결

### 로그인 모달이 표시되지 않는 경우
1. 브라우저 개발자 도구에서 콘솔 오류 확인
2. `js/auth-system.js` 파일이 올바르게 로드되었는지 확인
3. 페이지 새로고침 후 재시도

### 자동 로그인이 작동하지 않는 경우
1. 브라우저의 로컬 스토리지 설정 확인
2. 쿠키 차단 설정 확인
3. 시크릿 모드에서는 자동 로그인이 작동하지 않습니다

### 계정이 잠긴 경우
1. 15분 후 자동으로 해제됩니다
2. 또는 브라우저 개발자 도구에서 다음 명령 실행:
```javascript
localStorage.removeItem('farm_auth_token');
localStorage.removeItem('farm_current_user');
localStorage.removeItem('farm_auth_time');
```

## 📞 지원

인증 시스템 관련 문제가 있으시면 다음을 확인해주세요:

1. **브라우저 콘솔**: 개발자 도구에서 오류 메시지 확인
2. **네트워크 탭**: JavaScript 파일 로딩 상태 확인
3. **로컬 스토리지**: 인증 데이터 저장 상태 확인

---

🔐 **보안이 강화된 경산다육식물농장 관리시스템을 안전하게 사용하세요!**
